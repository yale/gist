/*
HTTP Host: static.ak.connect.facebook.com
Generated: October 26th 2010 5:46:53 PM PDT
Machine: 10.27.108.128
Location: JIT Construction: v306570
Locale: en_US
*/

if (!window.FB) {FB = {};} if(!FB.dynData) { FB.dynData = {"site_vars":{"canvas_client_compute_content_size_method":1,"use_postMessage":0,"use_xdProxy":0,"use_ui_server":1,"monitor_usage_regex":"somethingtoputhere.com|huffingtonpost.com|lala.com","monitor_usage_rate":0.05,"enable_custom_href":1},"ui_server_dialogs":{"bookmark.add":1,"friends.add":1},"resources":{"base_url_format":"http:\/\/{0}.connect.facebook.com\/","base_cdn_url":"http:\/\/static.ak.fbcdn.net\/","api_channel":222910,"api_server":223617,"www_channel":229910,"xd_proxy":280961,"xd_comm_swf_url":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/zx\/r\/DmvbpGB-fMy.swf","share_button":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/zg\/r\/yZiDLhSvAE9.gif","login_img_dark_small_short":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/z2\/r\/ECSptXRJiXu.gif","login_img_dark_medium_short":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/zN\/r\/WMAGVllinGS.gif","login_img_dark_medium_long":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/zq\/r\/CtXTsD9gwTy.gif","login_img_dark_large_short":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/zg\/r\/di8GQ4yWYmF.gif","login_img_dark_large_long":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/zz\/r\/WuhUANysBjg.gif","login_img_light_small_short":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/zG\/r\/HPpl_Q9ir03.gif","login_img_light_medium_short":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/zG\/r\/QVAKZwo2mNu.gif","login_img_light_medium_long":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/zA\/r\/11hJsvQEMup.gif","login_img_light_large_short":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/zq\/r\/RwaZQIP0ALn.gif","login_img_light_large_long":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/z6\/r\/kGCxkZx-uZa.gif","login_img_white_small_short":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/zu\/r\/HSGgAQzgm6f.gif","login_img_white_medium_short":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/zJ\/r\/a3H8zoa1Ymj.gif","login_img_white_medium_long":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/zK\/r\/McNhTwo6iLp.gif","login_img_white_large_short":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/z_\/r\/vE_oh0zqP1Z.gif","login_img_white_large_long":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/zc\/r\/bGxF25CxBsQ.gif","logout_img_small":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/zL\/r\/_gsP01S3mwQ.gif","logout_img_medium":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/z2\/r\/NhZ-RyMbOUr.gif","logout_img_large":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/zf\/r\/C9lMHpC5ik8.gif"}};} if (!FB.locale) {FB.locale = "en_US";} if (!FB.localeIsRTL) {FB.localeIsRTL = false;}


if(!window.FB)FB={};if(!FB.Monitor)FB.Monitor={wrapObject:function(a,b,f){if(typeof(a)!="object")return a;if(!FB.Monitor.loggingEnabled())return a;if(b=='FB.Debug'||b=='FB.HiddenContainer'||b=='FB.XdComm.Server'||b.indexOf('FBIntern')==0)return a;for(var d in a){var c=a[d];if(!a.hasOwnProperty(d)||typeof(c)!='function'||c.wrapped)continue;var e={containerName:b,functionName:d};a[d]=FB.Monitor._monitorWrapper(c,a,f,e);a[d].wrapped=true;}return a;},disableLogging:function(){FB.Monitor.loggingEnabledCache=false;},loggingEnabled:function(){if(FB.Monitor.loggingEnabledCache===null){var c=FB.dynData&&FB.dynData.site_vars&&FB.dynData.site_vars.monitor_usage_regex;if(!c){FB.Monitor.loggingEnabledCache=false;}else{var a=new RegExp(c);var b=FB.dynData.site_vars.monitor_usage_rate;FB.Monitor.loggingEnabledCache=a.test(document.domain)?(Math.random()/b)<1:false;}}return FB.Monitor.loggingEnabledCache;},externalCallback:function(a){if(typeof(a)!='function')return a;return function(){var d=FB.Monitor.internalCallStackDepth;FB.Monitor.internalCallStackDepth=0;var b=Array.prototype.slice.call(arguments);var c=a.apply(this,b);FB.Monitor.internalCallStackDepth=d;return c;};},_monitorWrapper:function(b,a,d,c){return function(){var e=Array.prototype.slice.call(arguments);context=d?this:(a||window);c=c||{containerName:'unknown',functionName:'unknown'};if(FB.Monitor.internalCallStackDepth==0)if(c.functionName.substr(0,1)!='_')FB.Monitor.logFunction(c,e);++FB.Monitor.internalCallStackDepth;var i=new Date();try{var h=b.apply(context,e);}finally{var g=new Date();--FB.Monitor.internalCallStackDepth;var f=g.getTime()-i.getTime();if(f)FB.Monitor.logFunction(c,[],f);}return h;};},logFunction:function(f,c,d){var b=[];for(var e=0;e<c.length;e++){var a=c[e];b[e]=a?a.toString():a;}FB.Monitor.log("functions",f.containerName+"."+f.functionName,{elapsed:d});},logXFBML:function(c){var b={};for(var d=0;d<c.attributes.length;++d){var a=c.attributes[d];if(a.specified!==false&&a.nodeName&&a.nodeValue&&a.nodeName!="class")b[a.nodeName]=a.nodeValue.toString();}var e=c.nodeName.toLowerCase();FB.Monitor.log("tags",e,{args:b});},log:function(a,d,c){if(!FB.Monitor.loggingEnabled())return;var b={functions:101,tags:102};c.lid=b[a];c.name=d;FB.Monitor.loggingQueue.push(c);FB.Monitor.scheduleSend();},scheduleSend:function(){if(!FB.Monitor.pendingTimer)FB.Monitor.pendingTimer=setTimeout(FB.Monitor.send,FB.Monitor.timerInterval);},send:function(){FB.Monitor.pendingTimer=false;var a=FB.Monitor.loggingEnabled();FB.Monitor.loggingEnabledCache=false;try{if(FB.MonitorSender){while(FB.Monitor.loggingQueue.length>0)if(!FB.MonitorSender.send())break;}else FB.Monitor.timerInterval*=1.2;}finally{if(FB.Monitor.loggingQueue.length!==0)FB.Monitor.scheduleSend();FB.Monitor.loggingEnabledCache=a;}},timerInterval:6*1000,internalCallStackDepth:0,loggingQueue:[],pendingTimer:false,loggingEnabledCache:null};
if(!window.FB)FB={};FB.forEach=function(c,a,f){if(Object.prototype.toString.apply(c)==='[object Array]'){if(c.forEach){c.forEach(a);}else for(var b=0,e=c.length;b<e;b++)a(c[b],b,c);}else for(var d in c)if(f||c.hasOwnProperty(d))a(c[d],d,c);};FB.copy=function(c,b,a){FB.forEach(b,function(e,d){if(a||typeof c[d]==='undefined')c[d]=e;});};FB.copy(FB,{$:function(a){return document.getElementById(a);},TypeLoader:{NOTIFY:{},LOADED_MODULES:{},LOADED_CLASSES:{},resolve:function(f,e,a){for(var b=0,c=e.length;b<c;b++){var d=e[b];if(d==='')continue;if(typeof f[d]==='undefined')if(a){f[d]={};}else return false;f=f[d];}return f;},provide:function(c,b,a){FB.Monitor.wrapObject(b,c,false);var d=this.resolve(window,c.split('.'),true);if(a||!this.LOADED_MODULES[c]){FB.copy(d,b,true);if(b._onLoad)d._onLoad();}this.LOADED_MODULES[c]=true;},subclass:function(e,a,i){if(this.LOADED_CLASSES[e])return;if(a!=='FB.Class'&&!this.LOADED_CLASSES[a]){FB.Log.debug('"'+e+'" needs to wait for "'+a+'"');var j=FB.redo(arguments,this);this.NOTIFY[a]?this.NOTIFY[a].push(j):this.NOTIFY[a]=[j];return;}var b=this.resolve(window,a.split('.')),f=b.extend(i),g=this.NOTIFY[e],h=e.split('.'),d=this.resolve(window,h,true),c=h.pop();FB.Monitor.wrapObject(f.prototype,e,true);FB.Monitor.wrapObject(f,e,false);FB.copy(f,d);this.resolve(window,h)[c]=f;this.LOADED_CLASSES[e]=true;if(g){FB.forEach(g,function(k){k();});delete this.NOTIFY[e];}}},bind:function(){var a=Array.prototype.slice.call(arguments),c=a.shift(),b=a.shift();var d=function(){++FB.Monitor.internalCallStackDepth;var e=c.apply(b,a.concat(Array.prototype.slice.call(arguments)));--FB.Monitor.internalCallStackDepth;return e;};d._targets=[b,c];return d;},redo:function(a,c){var b=Array.prototype.slice.call(a);b.unshift(c);b.unshift(a.callee);return FB.bind.apply(FB,b);}});FB.provide=FB.bind(FB.TypeLoader.provide,FB.TypeLoader);FB.subclass=FB.bind(FB.TypeLoader.subclass,FB.TypeLoader);

FB.subclass('FB.Waitable','FB.Class',{init:function(){},onChange:function(){if(this.__changed){this.__changed(this);}},waitUntilReady:function(callback){if(this.get_isReady()){callback(this.result);}
else{var onReady=null;onReady=FB.bind(function(waitable){this.remove_changed(onReady);callback(this.result);},this);this.add_changed(onReady);}},waitForValue:function(expectedValue,callback){this.waitForCondition(FB.bind(function(waitable){if(this.get_isReady()&&this.result===expectedValue){callback();return true;}
return false;},this));},waitForCondition:function(callback){if(!callback(this)){var onChange=null;onChange=FB.bind(function(waitable){if(callback(waitable)){this.remove_changed(onChange);}},this);this.add_changed(onChange);}},resetChange:function(){this.__changed=null;},result:null,add_changed:function(value){this.__changed=FB.Delegate.combine(this.__changed,value);},remove_changed:function(value){this.__changed=FB.Delegate.remove(this.__changed,value);},__changed:null});
FB.subclass('FB.SimpleWaitable','FB.Waitable',{init:function(){this._super();},get_isReady:function(){return this._isReady;},_setResult:function(a,c){var b=typeof(a);if(this._isReady&&!c&&this.result===a&&(b==='undefined'||b==='number'||b==='string'))return;this.result=a;this._isReady=(!c);this.onChange();},_isReady:false});

FB.provide('FBIntern.HostName',{IE:0,MOZILLA:1,SAFARI:2,OPERA:3,OTHER:4});
FB.subclass('FBIntern.HostInfo','FB.Class',{init:function(){var _L0=window.navigator.userAgent.toLowerCase();var _L1;var _L2=null;if((_L1=_L0.indexOf('opera'))>=0){this._hostName=FBIntern.HostName.OPERA;}else if((_L1=_L0.indexOf('msie'))>=0){this._hostName=FBIntern.HostName.IE;_L2=_L0.substr(_L1+5);}else if((_L1=_L0.indexOf('firefox'))>=0){this._hostName=FBIntern.HostName.MOZILLA;_L2=_L0.substr(_L1+8);}else if((_L1=_L0.indexOf('safari'))>=0){this._hostName=FBIntern.HostName.SAFARI;_L2=_L0.substr(_L1+7);}else if((_L1=_L0.indexOf('gecko'))>=0){this._hostName=FBIntern.HostName.MOZILLA;_L2=window.navigator.appVersion;}else this._hostName=FBIntern.HostName.OTHER;if(_L2){var _L3=parseFloat(_L2);this.majorVersion=parseInt(_L3);if((_L1=_L2.indexOf('.'))>=0)this.minorVersion=parseInt(_L2.substr(_L1+1));}},get_hostName:function(){return this._hostName;},majorVersion:0,minorVersion:0,_hostName:0});
FB.subclass('FBIntern.AppInfo','FB.Class',{init:function(){this._hostInfo=new FBIntern.HostInfo();},get_hostInfo:function(){return this._hostInfo;},_hostInfo:null});FB.provide('FBIntern.AppInfo',{_onLoad:function(){FBIntern.AppInfo._current=null;},get_singleton:function(){if(!FBIntern.AppInfo._current)FBIntern.AppInfo._current=new FBIntern.AppInfo();return FBIntern.AppInfo._current;}});
(function(){var _L0=false,_L1=/xyz/.test(function(){xyz;})?/\b_super\b/:/.*/;FB.Class=function(){};FB.Class.extend=function(_L2){var _L3=this.prototype;_L0=true;var _L4=new this();_L0=false;FB.forEach(_L2,function(_L6,_L7){_L4[_L7]=typeof _L6==="function"&&typeof _L3[_L7]==="function"&&_L1.test(_L6)?(function(_L7,fn){return function(){var tmp=this._super;this._super=_L3[_L7];var ret=fn.apply(this,arguments);this._super=tmp;return ret;};})(_L7,_L6):_L6;});var _L5=function(){if(!_L0){var _L6;if(this instanceof _L5){_L6=this;}else{_L0=true;_L6=new _L5();_L0=false;}if(_L6.init)_L6.init.apply(_L6,arguments);return _L6;}};_L5.prototype=_L4;_L5.constructor=_L5;_L5.extend=FB.Class.extend;return _L5;};})();
FB.provide('FB.Log',{level:-1,Level:{DEBUG:3,INFO:2,WARNING:1,ERROR:0},_helper:function(){var a=Array.prototype.slice.call(arguments),c=a.shift(),b=a.shift();if(this.level>=b&&window.console)(console[c]||console.log).apply(console,a);}});FB.provide('FB.Log',{debug:FB.bind(FB.Log._helper,FB.Log,'debug',FB.Log.Level.DEBUG),info:FB.bind(FB.Log._helper,FB.Log,'info',FB.Log.Level.INFO),warn:FB.bind(FB.Log._helper,FB.Log,'warn',FB.Log.Level.WARNING),error:FB.bind(FB.Log._helper,FB.Log,'error',FB.Log.Level.ERROR)},true);

if(!window.FB){FB={};}
if(!FB.Type){FB.Type={createNamespace:function(name){var ns=window;var nameParts=name.split('.');for(var i=0;i<nameParts.length;i++){var part=nameParts[i];var nso=ns[part];if(!nso){ns[part]=nso={};}
ns=nso;}
return ns;},createEnum:function(fullName,fields,flags){if(this.getObj(fullName)){return;}
var cls=function(){};cls.prototype=fields;for(var field in fields){cls[field]=fields[field];}
if(flags){cls.__flags=true;}
this.setObj(fullName,cls);},createClass2:function(cls,baseType){if(baseType&&typeof(baseType)=="string"){baseType=eval(baseType);}
cls.prototype.constructor=cls;this.extend(cls,FB.Type.Methods);cls.__baseType=baseType||Object;if(baseType){cls.__basePrototypePending=true;}},setObj:function(fullName,value){var i=fullName.lastIndexOf('.');var objName;var scope=window;if(i>0){var ns=fullName.substring(0,i);this.createNamespace(ns);objName=fullName.substring(i+1);scope=eval(ns);}else{objName=fullName;}
scope[objName]=value;},getObj:function(name){var ns=window;var nameParts=name.split('.');for(var i=0;i<nameParts.length;i++){var part=nameParts[i];ns=ns[part];if(!ns){break;}}
return ns;},createClass:function(fullName,info){if(this.getObj(fullName)){return;}
if(arguments.length==1&&typeof(fullName)!="string"){return this._createClass(fullName);}else{this.setObj(fullName,this._createClass(info));}},_createClass:function(info){var cls=info['ctor']||function(){};if(info['static_ctor']){this.addStaticInit(info['static_ctor']);}
if(info['instance']){cls.prototype=info['instance'];}
if(info['static']){this.extend(cls,info['static']);}
this.createClass2(cls,info['base']);return cls;},addStaticInit:function(callback){if(!FB.Type._pendingInits){FB.Type._pendingInits=[];}
FB.Type._pendingInits[FB.Type._pendingInits.length]=callback;window.setTimeout(FB.Type.runPendingInits,0);},runPendingInits:function(){if(FB.Type._pendingInits){var callbacks=FB.Type._pendingInits;FB.Type._pendingInits=null;var c=callbacks.length;for(var i=0;i<c;i++){callbacks[i]();}}},extend:function(destination,source){for(var property in source)
destination[property]=source[property];return destination;},getInstanceType:function(inst){return inst.constructor;}};FB.Type.Methods={setupBase:function(){if(this.__basePrototypePending){var baseType=this.__baseType;if(baseType.__basePrototypePending){baseType.setupBase();}
for(var memberName in baseType.prototype){var memberValue=baseType.prototype[memberName];if(!this.prototype[memberName]){this.prototype[memberName]=memberValue;}}
delete this.__basePrototypePending;}},constructBase:function(instance,args){if(this.__basePrototypePending){this.setupBase();}
if(!args){this.__baseType.apply(instance);}
else{this.__baseType.apply(instance,args);}},callBase:function(instance,name,args){var baseMethod=this.__baseType.prototype[name];if(!args){return baseMethod.apply(instance);}
else{return baseMethod.apply(instance,args);}},get_baseType:function(){return this.__baseType||null;}}}

FB.Sys=function(){}
FB.Sys.isUndefined=function(o){return(o===undefined);}
FB.Sys.isNullOrUndefined=function(o){return(o===null)||(o===undefined);}
FB.Sys.isNullOrEmpty=function(s){return!s||!s.length;}
FB.Sys.parseBool=function(s){return(s.toLowerCase()=='true');}
FB.Sys.trim=function(s){return s.replace(/^\s*|\s*$/g,'');}
FB.Sys.compare=function(s1,s2,ignoreCase){if(ignoreCase){if(s1){s1=s1.toUpperCase();}
if(s2){s2=s2.toUpperCase();}}
s1=s1||'';s2=s2||'';if(s1==s2){return 0;}
if(s1<s2){return-1;}
return 1;}
FB.Sys.quote=function(value){var m={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'};var a,i,k,l,r=/["\\\x00-\x1f\x7f-\x9f]/g,v;return r.test(value)?'"'+value.replace(r,function(a){var c=m[a];if(c){return c;}
c=a.charCodeAt();return'\\u00'+Math.floor(c/16).toString(16)+
(c%16).toString(16);})+'"':'"'+value+'"';}
FB.Sys.startsWith=function(s,substr){return s.substring(0,substr.length)==substr;}
FB.Sys.format=function(format){if(!FB.Sys.format._formatRE){FB.Sys.format._formatRE=/(\{[^\}^\{]+\})/g;}
var values=arguments;return format.replace(FB.Sys.format._formatRE,function(str,m){var index=parseInt(m.substr(1));var value=values[index+1];if(FB.Sys.isNullOrUndefined(value)){return'';}
return value.toString();});}
FB.Sys.htmlDecode=function(s){htmlDecMap={'&amp;':'&','&lt;':'<','&gt;':'>','&quot;':'"'};htmlDecRE=/(&amp;|&lt;|&gt;|&quot;)/gi;s=s.replace(htmlDecRE,function(str,m){return htmlDecMap[m];});return s;}
FB.Sys.htmlEncode=function(s){htmlEncMap={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;'};htmlEncRE=/([&<>"])/g;if(htmlEncRE.test(s)){s=s.replace(htmlEncRE,function(str,m){return htmlEncMap[m];});}
return s;}
FB.Sys.endsWith=function(s,substr){return s.length>=substr.length&&s.substring(s.length-substr.length)==substr;}
FB.Sys.contains=function(a,item){var index=FB.Sys.indexOf(a,item);return(index>=0);}
FB.Sys.add=function(a,item){a[a.length]=item;}
FB.Sys.remove=function(a,item){var index=FB.Sys.indexOf(a,item);if(index>=0){a.splice(index,1);return true;}
return false;}
FB.Sys.indexOf=function(a,item){var length=a.length;if(length){for(var index=0;index<length;index++){if(a[index]===item){return index;}}}
return-1;}
FB.Sys.addRange=function(a,items){var length=items.length;for(var index=0;index<length;index++){a[a.length]=items[index];}}
FB.Sys.clear=function(a){if(a.length>0){a.splice(0,a.length);}}
FB.Sys.clearKeys=function(d){for(var n in d){delete d[n];}}
FB.Sys.containsKey=function(d,key){return d[key]!==undefined;}
FB.Sys.getKeyCount=function(d){var count=0;for(var n in d){count++;}
return count;}
FB.Sys.isAssignableFrom=function(from,to){while(from!=to){if(from.__baseType){from=from.__baseType;}else{return false;}}
return true;}
FB.Sys.createException=function(message,userData,innerException){var e=new Error(message);if(userData){e.userData=userData;}
if(innerException){e.innerException=innerException;}
return e;}
FB.Type.createClass2(FB.Sys);

FB.provide('FB.Debug',{logLevel:0,assert:function(condition,message){if(FB.Debug.logLevel>0&&!condition){message='Assert failed: '+message;if(confirm(message+'\r\n\r\nBreak into debugger?')){FB.Debug._fail(message);}}},writeLine:function(message){if(FB.Debug.logLevel>0){if(window.Debug&&window.Debug.writeln){window.Debug.writeln(message);}else if(window.console){if(window.console.debug){window.console.debug(message);}else if(window.console.log){window.console.log(message);}}
else if(window.opera&&window.opera.postError){window.opera.postError(message);}}},logLine:function(logLevel,message){if(logLevel<=FB.Debug.logLevel){FB.Debug.writeLine(message);}},_fail:function(message){FB.Debug.writeLine(message);debugger;},_dumpCore:function Debug$_dumpCore(sb,object,name,indentation,dumpedObjects){if(object===null){sb.appendLine(indentation+name+': null');return;}
switch(typeof(object)){case'undefined':sb.appendLine(indentation+name+': undefined');break;case'number':case'string':case'boolean':sb.appendLine(indentation+name+': '+object);break;default:if(object instanceof Date||object instanceof RegExp){sb.appendLine(indentation+name+': '+object);break;}
if(FB.Sys.contains(dumpedObjects,object)){sb.appendLine(indentation+name+': ...');break;}
dumpedObjects[dumpedObjects.length]=object;var recursiveIndentation=indentation+'  ';if(object.tagName){sb.appendLine(indentation+name+': <'+object.tagName+'>');var attributes=object.attributes;for(var i=0;i<attributes.length;i++){var attrValue=attributes[i].nodeValue;if(attrValue){FB.Debug._dumpCore(sb,attrValue,attributes[i].nodeName,recursiveIndentation,dumpedObjects);}}}
else{sb.appendLine(indentation+name+': ');for(var field in object){var v=object[field];if(!(v instanceof Function)){FB.Debug._dumpCore(sb,v,field,recursiveIndentation,dumpedObjects);}}}
FB.Sys.remove(dumpedObjects,object);break;}},dump:function Debug$dump(object,name){if((!name||!name.length)&&(object!==null)){name=typeof(object);}
if(!name||!name.length){return;}
var sb=new FB.StringBuilder();FB.Debug._dumpCore(sb,object,name,'',[]);FB.Debug.writeLine(sb.toString());},fail:function Debug$fail(message){FB.Debug._fail(message);}});FB.FBDebug=FB.Debug;
FB.subclass('FBIntern.FbGlobals','FB.Class',{init:function(){}});FB.provide('FBIntern.FbGlobals',{get_fB_StaticResourceVersions:function(){return FB.dynData?FB.dynData['resources']:{};}});

FB.subclass('FB.ArrayEnumerator','FB.Class',{init:function(array){this._array=array;this._index=-1;},get_current:function(){return this._array[this._index];},moveNext:function(){this._index++;return(this._index<this._array.length);},reset:function(){this._index=-1;}});
FB.subclass('FBIntern.Uri','FB.Class',{init:function(_L0){this._uriString=_L0;},get_uriString:function(){return this._uriString;},get_pathAndQuery:function(){var i=this._uriString.indexOf('://');if(i>=0){i=this._uriString.indexOf('/',i+3);if(i>=0)return this._uriString.substr(i);}return this._uriString;},get_schemeAndDomain:function(){var i=this._uriString.indexOf('http://');if(i)i=this._uriString.indexOf('https://');if(!i){var _L1=this._uriString.indexOf('/',8);if(_L1>=0){return this._uriString.substr(0,_L1);}else return this._uriString;}throw new Error('This object is not an absolute URI.');},get_queryParameters:function(){if(!this._queryParameters){this._queryParameters={};var _L0;var i=this._uriString.indexOf('?');if(i>-1){_L0=this._uriString.substr(i+1);i=_L0.indexOf('#');if(i>0)_L0=_L0.substring(0,i-1);var _L2=_L0.split('&');var _L3=new FB.ArrayEnumerator(_L2);while(_L3.moveNext()){var _L4=_L3.get_current();i=_L4.indexOf('=');if(i>0){var key=_L4.substr(0,i);var _L6=_L4.substr(i+1);this._queryParameters[key]=decodeURIComponent(_L6);}}}}return this._queryParameters;},get_domain:function(){var _L0=this.get_domainAndPath();var _L1=_L0.indexOf('/');if(_L1>=0)_L0=_L0.substring(0,_L1);return _L0;},get_domainAndPath:function(){var _L0=this._uriString;var _L1=_L0.indexOf('#');if(_L1>=0)_L0=_L0.substring(0,_L1);var _L2=_L0.indexOf('?');if(_L2>=0)_L0=_L0.substring(0,_L2);var _L3=_L0.indexOf('://');if(_L3>=0)_L0=_L0.substring(_L3+3);return _L0;},_queryParameters:null,_uriString:null});FB.provide('FBIntern.Uri',{create:function(_L0,_L1){var uri;if(FBIntern.Uri.isAbsoluteUri(_L1)){uri=_L1;}else if(_L1.charAt(0)==='/'){uri=_L0.get_schemeAndDomain()+_L1;}else{var uri=_L0.get_uriString();var _L3=uri.indexOf('?');if(_L3>0)uri=uri.substr(0,_L3);var _L4=uri.lastIndexOf('/');uri=uri.substr(0,_L4+1)+_L1;}return new FBIntern.Uri(uri);},isAbsoluteUri:function(uri){return uri.indexOf('://')>0;},addQueryParameters:function(url,_L1){if(url.indexOf('?')>0){return url+'&'+_L1;}else return url+'?'+_L1;},createQueryString:function(_L0){var url='';var _L2=_L0;for(var k2 in _L2){var _L4={key:k2,value:_L2[k2]};url+=_L4.key+'='+encodeURIComponent((_L4.value))+'&';}if(url!==''&&url.charAt(url.length-1)==='&')url=url.substr(0,url.length-1);return url;},bothHaveSameDomain:function(_L0,_L1){var _L2=new FBIntern.Uri(_L0);var _L3=new FBIntern.Uri(_L1);var _L4=_L2.get_domain().toLowerCase();var _L5=_L3.get_domain().toLowerCase();return _L4==_L5;}});

FB._create_Point=function(x,y){var o={};o.x=x;o.y=y;return o;};

FB._create_Size=function(w,h){var o={};o.w=w;o.h=h;return o;};
FB.subclass('FBIntern.Utility','FB.Class',{init:function(){}});FB.provide('FBIntern.Utility',{getFacebookUrl:function(_L0){return FB.Sys.format(FBIntern.FbGlobals.get_fB_StaticResourceVersions()['base_url_format'],_L0);},getNonConnectFacebookUrl:function(_L0){var _L1=FBIntern.FbGlobals.get_fB_StaticResourceVersions()['base_url_format'];if(_L1.indexOf('connect.facebook.com')>=0){var _L2=(!_L1.indexOf('https'))?'https':'http';_L1=_L2+'://{0}.facebook.com/';return FB.Sys.format(_L1,_L0);}else return FBIntern.Utility.getFacebookUrl(_L0);},createFacebookUrl:function(_L0,_L1,_L2,_L3){var url;if(_L3){url=FBIntern.Utility.getFacebookUrl(_L0);}else url=FBIntern.Utility.getNonConnectFacebookUrl(_L0);url+=_L1;var _L5=FB.locale;if(!FB.Sys.containsKey(_L2,'locale')&&!FB.Sys.isNullOrEmpty(_L5))_L2['locale']=_L5;return FBIntern.Uri.addQueryParameters(url,FBIntern.Uri.createQueryString(_L2));},isSecure:function(){return window.location.href.indexOf('https')===0;},id64BitEquals:function(id1,id2){var _L2='';var _L3='';if(typeof(id1)==='number'){if(id1>2147483647)FB.FBDebug.logLine(1,'This integer is great than 32 bit and can\'t be properly in comparison in JavaScript. It should be stored as string instead.');_L2=id1.toString();}else _L2=id1;if(typeof(id2)==='number'){if(id2>2147483647)FB.FBDebug.logLine(1,'This integer is great than 32 bit and can\'t be properly in comparison in JavaScript. It should be stored as string instead.');_L3=id2.toString();}else _L3=id2;return !FB.Sys.compare(_L2,_L3,false);},waitForLoaded:function(_L0,_L1){var _L2=null;_L2=function(e){FBIntern.Utility.removeEventListener(_L0,'load',_L2);_L1();};FBIntern.Utility.addEventListener(_L0,'load',_L2);},get_windowLocation:function(){var _L0=FB._create_Point(0,0);var l,t;if(window.screenLeft){l=window.screenLeft;t=window.screenTop;}else{l=window.screenX;t=window.screenY;}_L0.x=l;_L0.y=t;if(FB.Sys.isUndefined(_L0.x))_L0.x=0;if(FB.Sys.isUndefined(_L0.y))_L0.y=0;return _L0;},get_windowSize:function(){var _L0=FB._create_Size((window&&window.innerWidth)||(document&&document.documentElement&&document.documentElement.clientWidth)||(document&&document.body&&document.body.clientWidth)||0,(window&&window.innerHeight)||(document&&document.documentElement&&document.documentElement.clientHeight)||(document&&document.body&&document.body.clientHeight)||0);return _L0;},get_documentSize:function(){var s=FB._create_Size(document.body.scrollWidth,document.body.scrollHeight);if(s.w<=0||s.w>document.documentElement.scrollWidth)s.w=document.documentElement.scrollWidth;if(s.h<=0||s.h>document.documentElement.scrollHeight)s.h=document.documentElement.scrollHeight;if(window&&window.getComputedStyle){var _L1=window.getComputedStyle(document.body,null),h=parseInt(_L1.getPropertyValue('height'),10);if(h<s.h)s.h=h;}return s;},get_isInUserActionCallstack:function(){var e=FBIntern.Utility.get_currentEvent();if(!e){return false;}else{var _L1=['onclick','oncontextmenu','ondblclick','onfocus','onkeydown','onkeypress','onkeyup','onmousedown','onmousemove','onmouseout','onmouseover','onmouseup','click','ctextmenu','dblclick','focus','keydown','keypress','keyup','mousedown','mousemove','mouseout','mouseover','mouseup'];var _L2=e.type;return _L2&&FB.Sys.contains(_L1,_L2);}},get_currentEvent:function(){var e=window.event;if(!e&&FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.MOZILLA){var _L1=arguments.callee;var _L2=[];var _L3;while(true){FB.Sys.add(_L2,_L1);_L3=_L1.caller;if(!_L3)break;if(FB.Sys.indexOf(_L2,_L3)>=0){FB.FBDebug.logLine(1,'FB.Connect.get_isInUserActionCallstack(): we can\'t correctly make a detection because of recursion in call stack');return null;}_L1=_L3;}e=_L1.arguments.length==1&&_L1.arguments[0]&&_L1.arguments[0].type?_L1.arguments[0]:null;}return e;},addEventListener:function(_L0,_L1,_L2){if(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()!==FBIntern.HostName.IE){(_L0).addEventListener(_L1,_L2,false);}else{_L2._ieEventHandler=function(){_L2(window.event);};(_L0).attachEvent('on'+_L1,(_L2._ieEventHandler));}},removeEventListener:function(_L0,_L1,_L2){if(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()!==FBIntern.HostName.IE){(_L0).removeEventListener(_L1,_L2,false);}else (_L0).detachEvent('on'+_L1,(_L2._ieEventHandler));},createXMLHttpRequest:function(){if(!FB.XMLHttpRequest)if(!window.XMLHttpRequest){FB.XMLHttpRequest=function(){var _L0=['Msxml2.XMLHTTP','Microsoft.XMLHTTP'];for(var i=0;i<_L0.length;i++)try{var _L2=new ActiveXObject(_L0[i]);return _L2;}catch(ex){}};}else FB.XMLHttpRequest=window.XMLHttpRequest;return new FB.XMLHttpRequest();},getIFrameDocument:function(_L0,_L1,_L2){var _L3=(window.self.frames)[_L0];var _L4=null;if(window.location.hostname===document.domain)try{_L4=_L3.document;}catch(e1){FB.FBDebug.logLine(1,'Failed to get frameWindow.document, will try again later');}if(_L4){_L2(_L4);}else FBIntern.Utility.waitForLoaded(_L1,function(){_L2(_L3.document);});},isConnectSession:function(_L0){if(!_L0)throw new Error('session key is null');return _L0.substr(0,2)==='3.';},isStrInt:function(x){return parseInt(x).toString()===x;},createException:function(_L0,_L1,_L2){var _L3=new Error(_L0);if(_L1)_L3.userData=_L1;if(_L2)_L3.innerException=_L2;return _L3;},getSiteVar:function(key,_L1){var _L2=FB.dynData;if(_L2){var _L3=_L2['site_vars'];if(FB.Sys.containsKey(_L3,key))return _L3[key];}return _L1;},setSiteVar:function(key,_L1){var _L2=FB.dynData['site_vars'];_L2[key]=_L1;},paymentsLog:function(_L0,_L1){var _L2={step_id:_L0,api_key:_L1};var _L3=FBIntern.Utility.getFacebookUrl('www')+'/connect/waterfall_log.php';var _L4=FBIntern.Uri.addQueryParameters(_L3,FBIntern.Uri.createQueryString(_L2));var _L5=FB.$('FB_HiddenContainer');FB.FBDebug.assert(_L5,'Can\'t find the DOM element with id FB_HiddenContainer');var img=document.createElement('img');img.setAttribute('src',_L4);_L5.appendChild(img);}});
FB.subclass('FBIntern.Flash','FB.Class',{init:function(){}});FB.provide('FBIntern.Flash',{_onLoad:function(){FBIntern.Flash.xdComm=null;FBIntern.Flash.curMajor=0;FBIntern.Flash.curMinor=0;FBIntern.Flash.versionDetected=false;},hasRequireVersion:function(){return FBIntern.Flash._verifyMinimumVersion(9,0);},_verifyMinimumVersion:function(e,f){if(!FBIntern.Flash.versionDetected){var h=['0','0'];var d=FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.IE;var g=navigator.plugins;if(g&&g.length>0){if(g['Shockwave Flash 2.0']||g['Shockwave Flash']){var c;if(g['Shockwave Flash 2.0']){c=(g['Shockwave Flash 2.0'].description);}else c=(g['Shockwave Flash'].description);var b=c.split(' ');h=b[2].split('.');}}else if(d){var i=null;var a;try{a=new ActiveXObject('ShockwaveFlash.ShockwaveFlash.7');i=a.GetVariable('$version');}catch(e1){}if(!h)try{a=new ActiveXObject('ShockwaveFlash.ShockwaveFlash.6');i='WIN 6,0,21,0';}catch(e2){}if(!FB.Sys.isNullOrEmpty(i))h=i.split(' ')[1].split(',');}if(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.MOZILLA){FB.FBDebug.logLine(1,'Cannot use Flash on Firefox due to a possible bug in Flash');FBIntern.Flash.curMajor=0;FBIntern.Flash.curMinor=0;}else if(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.OPERA){FB.FBDebug.logLine(1,'Cannot use Flash on Opera due to a possible bug in Flash');FBIntern.Flash.curMajor=0;FBIntern.Flash.curMinor=0;}else if(FBIntern.Utility.isSecure()&&d){FB.FBDebug.logLine(1,'Currenty, Flash is not used on IE in SSL pages');FBIntern.Flash.curMajor=0;FBIntern.Flash.curMinor=0;}else{FBIntern.Flash.curMajor=parseInt(h[0]);FBIntern.Flash.curMinor=parseInt(h[1]);}FBIntern.Flash.versionDetected=true;}return FBIntern.Flash.curMajor>e||(FBIntern.Flash.curMajor===e&&FBIntern.Flash.curMinor>=f);},_createFlashObject:function(c,e){var b;if(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.IE){b=FB.Sys.format('<object width=\"1\" height=\"\"  id=\"{0}\" name=\"{1}\" type=\"application/x-shockwave-flash\" classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" ><param name=\"movie\" value=\"{2}\" /> <param name=\"quality\" value=\"high\" /> <param name=\"bgcolor\" value=\"#869ca7\" /> <param name=\"allowScriptAccess\" value=\"always\" /> </object>',c,c,e);}else b=FB.Sys.format('<embed width=\'1\' height=\'1\' type=\'application/x-shockwave-flash\' pluginspage=\'http://get.adobe.com/flashplayer\' allowscriptaccess=\'always\' name=\'{0}\' id=\'{1}\' bgcolor=\'#869ca7\' quality=\'high\'  src=\'{2}\' />',c,c,e);var a=document.createElement('div');FB.$('FB_HiddenContainer').appendChild(a);a.innerHTML=b;if(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.IE){var d=a.parentNode;while(d&&d.tagName!=='HTML'){if(d.tagName==='FORM'){window[c]=d[c];break;}d=d.parentNode;}return window[c];}else return document[c];},get_xdComm:function(){if(!FBIntern.Flash.xdComm&&FBIntern.Flash.hasRequireVersion()){FB.FBDebug.logLine(3,'Create Flash XdComm object');FBIntern.Flash.xdComm=new FB.SimpleWaitable();var a=null;var b=false;window.FB_OnFlashXdCommReady=function(){FB.FBDebug.logLine(3,'Flash XdComm ready');b=true;if(a)FBIntern.Flash.xdComm._setResult(a);};a=FBIntern.Flash._createFlashObject('flashXdComm',FBIntern.FbGlobals.get_fB_StaticResourceVersions().xd_comm_swf_url);if(a&&b)FBIntern.Flash.xdComm._setResult(a);}return FBIntern.Flash.xdComm;}});
FB.JSON=function FB_JSON(){};FB.JSON.deserialize=function(s,_L1){if(FB.Sys.isNullOrEmpty(s))return null;if(_L1){if(!FB.JSON._64bitIntRegex)FB.JSON._64bitIntRegex=new RegExp('([^\\\\]\"\:)([0-9]{11,20})(,|}|])','gm');s=s.replace(FB.JSON._64bitIntRegex,'$1"$2"$3');}return FB.JSON.parse(s);};if(window.JSON&&typeof JSON.parse==='function'){FB.JSON.parse=JSON.parse;}else FB.JSON.parse=function(text,reviver){var j;function walk(_L0,key){var k,v,_L4=_L0[key];if(_L4&&typeof _L4==='object')for(k in _L4)if(Object.hasOwnProperty.call(_L4,k)){v=walk(_L4,k);if(v!==undefined){_L4[k]=v;}else delete _L4[k];}return reviver.call(_L0,key,_L4);}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;cx.lastIndex=0;if(cx.test(text))text=text.replace(cx,function(a){return '\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);});if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,''))){j=eval('('+text+')');return typeof reviver==='function'?walk({'':j},''):j;}throw new SyntaxError('JSON.parse');};FB.JSON.serialize=function(o){if(FB.Sys.isNullOrUndefined(o))return '';var sb=new FB.StringBuilder();FB.JSON._serializeCore(sb,o);return sb.toString();};FB.JSON._serializeCore=function(sb,o){if(FB.Sys.isNullOrUndefined(o)){sb.append('null');return;}var _L2=typeof(o);switch(_L2){case 'boolean':sb.append(o.toString());return;case 'number':sb.append((isFinite(o))?o.toString():'null');return;case 'string':sb.append(FB.Sys.quote(o));return;case 'object':if(o instanceof Array){sb.append('[');var a=o;var _L4=a.length;var _L5=true;for(var i=0;i<_L4;i++){if(typeof(a[i])=='function')continue;if(_L5){_L5=false;}else sb.append(',');FB.JSON._serializeCore(sb,a[i]);}sb.append(']');}else if(o instanceof Date){var d=o;var _L8=Date.UTC(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds());sb.append('\"\\@');sb.append(_L8.toString());sb.append('@\"');}else if(o instanceof RegExp){sb.append(o.toString());}else{sb.append('{');var _L5=true;var _L9=o;for(var _La in _L9){var _Lb={key:_La,value:_L9[_La]};if(FB.Sys.startsWith(_Lb.key,'$'))continue;if(typeof(_Lb.value)=='function')continue;if(_L5){_L5=false;}else sb.append(',');sb.append('"'+_Lb.key+'"');sb.append(':');FB.JSON._serializeCore(sb,_Lb.value);}sb.append('}');}return;default:sb.append('null');return;}};
FB.subclass('FB.XFBML.Data.CacheManager','FB.Class',{init:function(){}});FB.provide('FB.XFBML.Data.CacheManager',{_onLoad:function(){FB.XFBML.Data.CacheManager._maxUsableAge=24*60*60*1000;FB.XFBML.Data.CacheManager._refreshInternal=10*60*1000;FB.XFBML.Data.CacheManager._initialized=new FB.SimpleWaitable();},clearAll:function(){if(FBIntern.Flash.get_xdComm())FBIntern.Flash.get_xdComm().waitUntilReady(function(a){(a).clearAllCache();});},_changeContext:function(a){if(FBIntern.Flash.hasRequireVersion()){FBIntern.Flash.get_xdComm().waitUntilReady(function(b){FB.FBDebug.logLine(3,'CacheManager.ChangeContext to '+a);(b).setCacheContext(a);FB.XFBML.Data.CacheManager._initialized._setResult(true);});}else FB.XFBML.Data.CacheManager._initialized._setResult(true);},_getValue:function(b){try{var a=FBIntern.Flash.get_xdComm();if(a&&a.get_isReady()){var c=(a.result).getCache(b);if(c){c=decodeURIComponent(c);if(FB.FBDebug.logLevel>4)FB.FBDebug.writeLine('CacheManager.GetValue returns '+c);return FB.JSON.deserialize(c);}}}catch(e){FB.FBDebug.logLine(1,'CacheManager.GetValue failed on key '+b+' exception='+e.toString());}return null;},_setValue:function(b,d){try{var a=FBIntern.Flash.get_xdComm();if(a&&a.get_isReady()){var c=FB.JSON.serialize(d);if(FB.FBDebug.logLevel>4)FB.FBDebug.writeLine('CacheManager.SetValue key='+b+', value='+c);a.result.setCache(b,encodeURIComponent(FB.JSON.serialize(d)));}}catch(e){FB.FBDebug.logLine(1,'CacheManager.SetValue failed on key '+b+' exception='+e.toString());}},get__initialized:function(){return FB.XFBML.Data.CacheManager._initialized;}});

FB._create__fqlCache=function(fields){var o={};o.fields=fields;o.rows={};return o;};
FB.subclass('FB.PendingResult','FB.SimpleWaitable',{init:function(){this._super();},exception:null,setPendingResult:function(c,b){var a=c;if(!b&&a&&!FB.Sys.isUndefined(a.error_code)){b=FBIntern.Utility.createException(a.error_msg,a);FB.FBDebug.logLine(1,'Facebook API error: '+a.error_msg);c=null;}this.exception=b;this._setResult(c);}});

FB.provide('FB.XdComm._packetType',{data:0,dataFragment:1,dataFragmentEnd:2,udpSingle:3,ack:4});

FB.Type.createClass('FB.StringBuilder',{ctor:function(s){if((s!==undefined)&&(s!==null)){this._parts=[s];}
else{this._parts=[];}},instance:{get_isEmpty:function(){return(this._parts.length==0);},append:function(s){if((s!==undefined)&&(s!==null)){FB.Sys.add(this._parts,s);}},appendLine:function(s){this.append(s);this.append('\r\n');},clear:function(){this._parts.clear();},toString:function(){return this._parts.join('');}}});if(!window.Delegate){window.Delegate=FB.Delegate;}
FB.subclass('FB.XdComm._fragDataHolder','FB.Class',{init:function(){this._segments={};this._totalSegments=-1;},_addSegment:function(_L0){if(_L0.t===FB.XdComm._packetType.dataFragmentEnd)this._totalSegments=_L0.fid+1;if(!_L0.fid)this._combinedPacket=_L0;this._segments[_L0.fid.toString()]=_L0.d;if(this._totalSegments!==-1&&this._totalSegments===FB.Sys.getKeyCount(this._segments)){var _L1=new FB.StringBuilder();for(var i=0;i<this._totalSegments;i++)_L1.append(this._segments[i.toString()]);this._combinedPacket.d=_L1.toString();this._combinedPacket.t=FB.XdComm._packetType.data;return this._combinedPacket;}else return null;},_combinedPacket:null});

FB._create__packet=function(){return{};};

FB.provide('FB.XdComm.PageRelation',{parent:1,child:2,self:3,opener:4,openee:5});

FB.subclass('FB.Delegate','FB.Class',{});FB.provide('FB.Delegate',{Null:function(){},_create:function(targets){var delegate=function(){if(targets.length==2){return targets[1].apply(targets[0],arguments);}
else{var targets_copy=targets.slice();for(var i=0;i<targets_copy.length;i+=2){targets_copy[i+1].apply(targets_copy[i],arguments);}
return null;}};delegate._targets=targets;return delegate;},create:function(object,method){if(!object){return method;}
return FB.Delegate._create([object,method]);},combine:function(delegate1,delegate2){if(!delegate1){if(!delegate2._targets){return FB.Delegate.create(null,delegate2);}
return delegate2;}
if(!delegate2){if(!delegate1._targets){return FB.Delegate.create(null,delegate1);}
return delegate1;}
var targets1=delegate1._targets?delegate1._targets:[null,delegate1];var targets2=delegate2._targets?delegate2._targets:[null,delegate2];return FB.Delegate._create(targets1.concat(targets2));},remove:function(delegate1,delegate2){if(!delegate1||(delegate1===delegate2)){return null;}
if(!delegate2){return delegate1;}
var targets=delegate1._targets;var object=null;var method;if(delegate2._targets){object=delegate2._targets[0];method=delegate2._targets[1];}
else{method=delegate2;}
for(var i=0;i<targets.length;i+=2){if((targets[i]===object)&&(targets[i+1]===method)){if(targets.length==2){return null;}
targets.splice(i,2);return FB.Delegate._create(targets);}}
return delegate1;}});if(!window.Delegate){window.Delegate=FB.Delegate;}

if(!window.FB){FB={};}
if(!FB.Loader){FB.Loader={loaded:{},loading:{},loadedCss:{},loadedCallback:null,onScriptLoaded:function(components){var c=components.length;for(var i=0;i<c;i++){var name=components[i];FB.Loader.loaded[name]=true;}
if(FB.Loader.loadedCallback){window.setTimeout(function(){FB.Loader.loadedCallback(components);},0);}},loadCssComps:function(cssComps){var cssSrc=FB.Loader.getStaticResourceUrl('connect.php/'+FB.locale+'/css/'+cssComps.join('/'));if(!this.loadedCss[cssSrc]){var linkElement=document.createElement('link');linkElement.setAttribute('rel','stylesheet');linkElement.setAttribute('type','text/css');linkElement.setAttribute('href',cssSrc);document.getElementsByTagName('head')[0].appendChild(linkElement);this.loadedCss[cssSrc]=true;}},getStaticResourceUrl:function(path){var base_url_format=FB.dynData.resources.base_url_format;var prefix=(base_url_format.indexOf('https')===0)?'ssl':'static.ak';return base_url_format.replace('{0}',prefix)+path;}};}
if(!FB.Bootstrap){FB.Bootstrap={requireFeatures:function(e,c){if(FB.Bootstrap.isXdChannel)return;var i={features:e,callback:FB.Monitor.externalCallback(c),completed:false};if(FB.Bootstrap._checkRequest(i))return;FB.Bootstrap._featureReqQueue.push(i);FB.Loader.loadedCallback=FB.Delegate.combine(FB.Loader.loadedCallback,FB.Bootstrap._onCompLoaded);FB.Bootstrap._transformFeatureList(e);var h={};var a=[];var f;var b=e.length;var g=0;for(f=0;f<b;f++){var d=e[f];if(!(FB.Loader.loaded[d]))if(!(FB.Loader.loaded[d]||FB.Loader.loading[d])){h[d]=true;a[a.length]=d;}}a.sort();var j=FB.Loader.getStaticResourceUrl('connect.php/'+FB.locale+'/js/'+a.join('/'));FB.Bootstrap.addScript(j);},_requireFeatures:function(b,a){this.requireFeatures(b,FB.bind(a));},_checkRequest:function(d){if(!d.completed){var b=0;var e=d.features.length;var c=0;for(b=0;b<e;b++){var a=d.features[b];if(FB.Loader.loaded[a])c++;}if(c==e){d.completed=true;if(d.callback)d.callback(true);}}return d.completed;},_transformFeatureList:function(b){var c={Api:true,CanvasUtil:true,Connect:true,XFBML:true};var a=b.length;var g=false;var f={};for(var d=0;d<a;d++){f[b[d]]=true;if(c[b[d]])g=true;}if(g)for(var e in c)if(!f[e])b[b.length]=e;},ensureInit:function(a){if(!a)throw ("FB.ensureInit called without a valid callback");a=FB.Monitor.externalCallback(a);if(FB.Facebook&&FB.Facebook.get_initialized&&FB.Facebook.get_initialized().get_isReady()&&FB.Facebook.get_initialized().result)return a();FB.Bootstrap._requireFeatures(FB.Bootstrap.features,function(){FB.Facebook.get_initialized().waitForValue(true,a);});},init:function(a,c,b){FB.Bootstrap._requireFeatures(FB.Bootstrap.features,function(){if(FB.Facebook)FB.Facebook.init(a,c,b);});},addScript:function(f){var d;var e=document.getElementsByTagName('script');if(e){var a=e.length;for(var b=0;b<a;b++){d=e[b];if(d.src==f)return;}}d=document.createElement("script");d.type="text/javascript";d.src=f;var c=document.getElementsByTagName('HEAD')[0]||document.body;c.appendChild(d);},setLocale:function(b,a){window.FB.locale=b;window.FB.localeIsRTL=a;},_initializeXdChannel:function(){FB.Bootstrap.isXdChannel=window.location.search.indexOf(FB.Bootstrap.fbc_channel_token)>=0;},_detectDocumentNamespaces:function(){if(document.namespaces&&!document.namespaces.item['fb'])document.namespaces.add('fb');},createDefaultXdChannelUrl:function(){var a=location.protocol+'//'+location.hostname+location.pathname+location.search;if(location.search||location.search.length>0){a+='&';}else a+='?';a+='fbc_channel=1';return a;},_onCompLoaded:function(){var b=0;var a=FB.Bootstrap._featureReqQueue.length;for(b=0;b<a;b++)FB.Bootstrap._checkRequest(FB.Bootstrap._featureReqQueue[b]);},_onLoad:function(){this._initializeXdChannel();this._detectDocumentNamespaces();},features:["XFBML","CanvasUtil"],fbc_channel_token:'fbc_channel=1',_featureReqQueue:[]};FB.Monitor.wrapObject(FB.Bootstrap,'FB.Bootstrap');window.FB_RequireFeatures=FB.Bootstrap.requireFeatures;window.FB.init=FB.Bootstrap.init;window.FB.ensureInit=FB.Bootstrap.ensureInit;FB.Bootstrap._onLoad();}

FB.subclass('FB.Enum','FB.Class',{});FB.provide('FB.Enum',{toString:function(enumType,value){return value.toString();}});

FB.provide('FB.XdComm.PacketDataFormat',{JSON:0,rawText:1,OBJ:2});
FB.provide('FB.HiddenContainer',{_onLoad:function(){if(document.getElementById('FB_HiddenContainer')==null){var a;try{var b=window.navigator.userAgent.toLowerCase().indexOf('msie')>=0&&window.attachEvent;if((!b||document.readyState=='completed')&&document.body){a=document.createElement('div');a.id="FB_HiddenContainer";a.style.position="absolute";a.style.top="-10000px";a.style.width="0px";a.style.height="0px";document.body.appendChild(a);}}catch(e){a=null;}if(!a)document.write('<div id="FB_HiddenContainer" '+'style="position:absolute; top:-10000px; left:-10000px; width:0px; height:0px;" >'+'</div>');}},get:function(){return FB.$('FB_HiddenContainer');}});

FB.subclass('FB.XdComm._receiveChannel','FB.Class',{init:function(id,endPoint){this._fragDataDict={};this._ackList=[];this._id=id;this._endPoint=endPoint;},_onReceivedPacket:function(packet){FB.FBDebug.logLine(3,'XdComm: Received packet');var fullPacket=null;if(packet.t===FB.XdComm._packetType.dataFragment||packet.t===FB.XdComm._packetType.dataFragmentEnd){var holder=this._fragDataDict[packet.id.toString()];if(!holder){holder=new FB.XdComm._fragDataHolder();this._fragDataDict[packet.id.toString()]=holder;}
fullPacket=holder._addSegment(packet);if(fullPacket){delete this._fragDataDict[fullPacket.id.toString()];}}
else{fullPacket=packet;}
if(fullPacket){if(!fullPacket.id){this._endPoint=new FB.XdComm.EndPoint(fullPacket.sf,fullPacket.sr,fullPacket.sc);if(this._queuedPackets){var enum1=new FB.ArrayEnumerator(this._queuedPackets);while(enum1.moveNext()){var queuedPacket=enum1.get_current();this._onFullDataReceived(queuedPacket);}
this._queuedPackets=null;}}
if(this._endPoint){this._onFullDataReceived(fullPacket);}
else{if(!this._queuedPackets){this._queuedPackets=[];FB.Sys.add(this._queuedPackets,fullPacket);}}}},_onFullDataReceived:function(packet){var server=FB.XdComm.Server.singleton;server._onFullDataReceived(packet,this._endPoint);FB.Sys.add(this._ackList,packet.id);if(this._ackList.length>5){if(FB.FBDebug.logLevel>4){FB.FBDebug.writeLine('ReceiveChannel.Ack: '+this._ackList.toString());}
var ackPacket=FB._create__packet();ackPacket.t=FB.XdComm._packetType.ack;ackPacket.sid=server._id;ackPacket.sc=server.get_receiverUrl();ackPacket.sf=window.name;ackPacket.sr=FB.XdComm._sendChannel._getReverseRelation(this._endPoint.relation);var ackIframeSrc=server._createPacketUrl(ackPacket,this._endPoint);ackIframeSrc+=encodeURIComponent(FB.JSON.serialize(this._ackList));server._removeIframe(this._ackIframe);this._ackIframe=server._createHiddenIFrame(ackIframeSrc);FB.Sys.clear(this._ackList);}},_queuedPackets:null,_endPoint:null,_ackIframe:null,_id:null});
FB.subclass('FB.XdComm.EndPoint','FB.Class',{init:function(_L0,_L1,_L2){this.frameName=(!_L0)?'':_L0;this.relation=_L1;this.channelUrl=_L2;this.UID=0;},isEqual:function(x){return x.frameName===this.frameName&&x.relation===this.relation&&x.UID===this.UID;},frameName:null,relation:0,channelUrl:null,UID:0,origin:null});
FB.subclass('FB.XdComm._sendChannel','FB.Class',{init:function(_L0){this._iframes={};this._endPoint=_L0;},_send:function(_L0,_L1){var _L2=FB.XdComm.Server.singleton;var _L3=FB.JSON.serialize(_L1);var _L4=_L3.length;var _L5=0;var _L6=false;var fid=0;while(!_L6){var _L8=FB.XdComm._packetType.data;var _L9=FB._create__packet();_L9.id=this._sendIdCount;if(!this._sendIdCount&&!_L5){_L9.sc=_L2.get_receiverUrl();_L9.sf=window.name;_L9.sr=FB.XdComm._sendChannel._getReverseRelation(this._endPoint.relation);}if(!_L5)_L9.h=_L0;var _La;if(!_L5&&_L4<=_L2._maxPacketDataLength){_La=_L3;_L6=true;}else{_L9.fid=fid++;var _Lb=_L4-_L5;if(_Lb>_L2._maxPacketDataLength){_Lb=_L2._maxPacketDataLength;_L8=FB.XdComm._packetType.dataFragment;}else{_L8=FB.XdComm._packetType.dataFragmentEnd;_L6=true;}_La=_L3.substr(_L5,_Lb);_L5+=_Lb;}_L9.sid=_L2._id;_L9.t=_L8;var _Lc=_L2._createPacketUrl(_L9,this._endPoint);_Lc+=encodeURIComponent(_La);this._addIframe(_Lc,_L9);}this._sendIdCount++;},_onAck:function(_L0){if(FB.FBDebug.logLevel>4)FB.FBDebug.writeLine('SendChannel.OnAck: '+_L0.toString());var _L1=new FB.ArrayEnumerator(_L0);while(_L1.moveNext()){var _L2=_L1.get_current();var key=_L2.toString();var _L4=this._iframes[key];var _L5=new FB.ArrayEnumerator(_L4);while(_L5.moveNext()){var _L6=_L5.get_current();FB.XdComm.Server.singleton._removeIframe(_L6);}delete this._iframes[key];}},_addIframe:function(_L0,_L1){var _L2=FB.XdComm.Server.singleton._createHiddenIFrame(_L0);var key=_L1.id.toString();var _L4=this._iframes[key];if(!_L4)this._iframes[key]=_L4=[];FB.Sys.add(_L4,_L2);},_sendIdCount:0,_endPoint:null});FB.provide('FB.XdComm._sendChannel',{_getReverseRelation:function(_L0){switch(_L0){case FB.XdComm.PageRelation.child:return FB.XdComm.PageRelation.parent;case FB.XdComm.PageRelation.parent:return FB.XdComm.PageRelation.child;case FB.XdComm.PageRelation.self:return FB.XdComm.PageRelation.self;case FB.XdComm.PageRelation.opener:return FB.XdComm.PageRelation.openee;default:throw new Error('Unknown relation');}}});
FB.subclass('FB.XdComm.Server','FB.Class',{init:function(){this._sendChannels=[];this._receiveChannels=[];this._handlers={};this._dataRequestQueues={};this._nativeXdState=-1;this._flashXdState=-1;this._nativeMsgsSendQueue={};this._nativeMsgsReceiveQueue={};this._id=Math.random().toString().substr(0,5);FB.FBDebug.logLine(2,'Init XdComm.Server with ID '+this._id+' for '+document.URL);switch(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()){case FBIntern.HostName.IE:this._maxPacketDataLength=1024;break;case FBIntern.HostName.MOZILLA:this._maxPacketDataLength=100000;break;case FBIntern.HostName.SAFARI:this._maxPacketDataLength=100000;break;case FBIntern.HostName.OPERA:this._maxPacketDataLength=190000;break;default:this._maxPacketDataLength=1024;break;}if(this.get__useNativeXd())FBIntern.Utility.addEventListener(window.self,'message',FB.bind(this._onMessageEvent,this));},get_receiverUrl:function(){return this._receiverUrl;},set_receiverUrl:function(b){if(!b){FB.FBDebug.logLine(0,'Cross Domain Channel cannot be null. We will use the current page as cross domain channel, but it would be inefficient');b=FB.Bootstrap.createDefaultXdChannelUrl();}var a=FBIntern.Uri.create(new FBIntern.Uri(document.URL),b);if(window.location.hostname!==document.domain)FB.FBDebug.logLine(2,'You appear to have changed the document.domain property.\nIf you run into problems with the Facebook Connect library, please refer to\n http://wiki.developers.facebook.com/index.php/How_To_Support_Subdomain_In_Connect for\nhelp.');this._receiverUrl=a.get_uriString();return b;},getUniqueOrigin:function(){if(!this._useXdProxy())return null;if(!this._uniqueOrigin){var a;if(this._receiverUrl){a=this._receiverUrl;}else a=window.location.protocol+'//'+document.domain;a+='/'+Math.random();this._uniqueOrigin=a;if(this.get__useFlashXd())FBIntern.Flash.get_xdComm().waitUntilReady(FB.bind(function(c){var b=c;window.FB_ReceiveFlashMessage=FB.bind(function(d){this._receiveFlashMessage(d);},this);b.postMessage_init('FB_ReceiveFlashMessage',a);},this));}return this._uniqueOrigin;},send:function(b,c,a){if(FB.FBDebug.logLevel>2){FB.FBDebug.writeLine('<<<<<<< '+document.URL);FB.FBDebug.writeLine('Server.send: handler='+c);FB.FBDebug.dump(a,'data');FB.FBDebug.dump(b,'endPoint');}if(this.get__useNativeXd()){this._postMessage(b,c,a);}else if(b.flashOrigin){this._sendWithFlash(b,c,a);}else this._sendWithIframe(b,c,a);},_sendWithIframe:function(c,e,b){var a=null;var d=new FB.ArrayEnumerator(this._sendChannels);while(d.moveNext()){var f=d.get_current();if(c.isEqual(f._endPoint))a=f;}if(!a){a=new FB.XdComm._sendChannel(c);FB.Sys.add(this._sendChannels,a);}a._send(e,b);},_sendWithFlash:function(b,c,a){var e=this._prepareMessagePacket(b,c,a);e.ackFlashOrigin=this.getUniqueOrigin();var d=(FB.XdComm.Server.postMessageHeader+FB.JSON.serialize(e));FBIntern.Flash.get_xdComm().waitUntilReady(FB.bind(function(f){this._retrySender(e.id.toString(),FB.bind(function(){f.postMessage_send(d,b.flashOrigin);},this));},this));},_postMessage:function(b,c,a){var f=this._prepareMessagePacket(b,c,a);var g;switch(b.relation){case FB.XdComm.PageRelation.child:g=window.frames[b.frameName];break;case FB.XdComm.PageRelation.opener:g=window.opener;break;case FB.XdComm.PageRelation.parent:g=window.parent;break;default:throw new Error('Can\'t send message to endpoint with type = '+FB.Enum.toString(FB.XdComm.PageRelation,b.relation));}var d=FB.XdComm.Server.postMessageHeader+FB.JSON.serialize(f);var e=(b.origin)?b.origin:'*';this._retrySender(f.id.toString(),FB.bind(function(){g.postMessage(d,e);},this));},_prepareMessagePacket:function(b,c,a){var d=FB._create__packet();d.sc=this.get_receiverUrl();d.sf=window.name;d.sr=FB.XdComm._sendChannel._getReverseRelation(b.relation);d.h=c;d.nd=a;d.df=FB.XdComm.PacketDataFormat.OBJ;d.id=this._nativeMsgId;d.sid=this._id;this._nativeMsgId++;return d;},_retrySender:function(b,a){var e=1;var d=-1;var c=FB.bind(function(){FB.FBDebug.logLine(2,'RetrySender '+e.toString()+'rd try');e++;if(e<100){a();}else{window.clearInterval(d);FB.FBDebug.logLine(0,'Message couldn\'t be delivered: id'+b);delete this._nativeMsgsSendQueue[b];}},this);c();d=window.setInterval(c,500);this._nativeMsgsSendQueue[b]=d;},_handleAckMessage:function(a){a=a.substr(FB.XdComm.Server.postMessageAckHeader.length);if(!a.indexOf(this._id)){var b=parseInt(a.substr(this._id.length));var c=this._nativeMsgsSendQueue[b.toString()];if(c){delete this._nativeMsgsSendQueue[b.toString()];window.clearInterval(c);}}else FB.FBDebug.logLine(0,'Ignore XdComm Ack message because send id does not match');},_onMessageEvent:function(b){var c=b.data;if(!c.indexOf(FB.XdComm.Server.postMessageHeader)){c=c.substr(FB.XdComm.Server.postMessageHeader.length);var e=FB.JSON.deserialize(c);var d=new FBIntern.Uri(b.origin);var h=new FBIntern.Uri(e.sc);var a=FB.XdComm.Server.postMessageAckHeader+e.sid+e.id.toString();((b.source)).postMessage(a,b.origin);var f=e.sid+e.id.toString();if(!this._nativeMsgsReceiveQueue[f]){this._nativeMsgsReceiveQueue[f]=true;var g=new FB.XdComm.EndPoint(e.sf,e.sr,e.sc);this._ensureReceiveChannel(e.sid,g);this._onFullDataReceived(e,g);}}else if(!c.indexOf(FB.XdComm.Server.postMessageAckHeader)){this._handleAckMessage(c);}else this._tryRecvXdProxy(c);},_receiveFlashMessage:function(a){a=decodeURIComponent(a);if(a.indexOf(FB.XdComm.Server.postMessageAckHeader)===0){this._handleAckMessage(a);}else if(a.indexOf(FB.XdComm.Server.postMessageHeader)===0){a=a.substr(FB.XdComm.Server.postMessageHeader.length);var b=FB.JSON.deserialize(a);var d=new FB.XdComm.EndPoint(b.sf,b.sr,b.sc);var c=b.sid+b.id.toString();if(this._nativeMsgsReceiveQueue[c])return;this._nativeMsgsReceiveQueue[c]=true;FBIntern.Flash.get_xdComm().waitUntilReady(FB.bind(function(g){var e=FB.XdComm.Server.postMessageAckHeader+c;var f=g;f.postMessage_send(e,b.ackFlashOrigin);},this));this._ensureReceiveChannel(b.sid,d);this._onFullDataReceived(b,d);}else if(!this._tryRecvXdProxy(a))FB.FBDebug.logLine(3,'Ignoring Flash XD message with unknown header.');},_tryRecvXdProxy:function(a){var b=a.indexOf('endXdProxy');if(b>0){this.onReceiverLoaded(a.substr(b+11));return true;}else return false;},createUdpUrl:function(c,a,b){return this._createUdpUrlWithFormat(c,a,b,FB.XdComm.PacketDataFormat.JSON);},createUdpUrlWithRawText:function(c,a,b){return this._createUdpUrlWithFormat(c,a,b,FB.XdComm.PacketDataFormat.rawText);},_createUdpUrlWithFormat:function(d,a,c,b){var e=FB._create__packet();e.t=FB.XdComm._packetType.udpSingle;e.h=d;e.sid=this._id;if(b!==FB.XdComm.PacketDataFormat.JSON)e.df=b;var g=this._createPacketUrl(e,c);var f=FB.JSON.serialize(a);if(f.length>this._maxPacketDataLength)throw new Error('data length is too long');g+=encodeURIComponent(f);return g;},_createXdProxyBase:function(a){var e=(FBIntern.FbGlobals.get_fB_StaticResourceVersions().base_cdn_url+'connect/xd_proxy.php?r='+FBIntern.FbGlobals.get_fB_StaticResourceVersions().xd_proxy+'#');var c={origin:this.getUniqueOrigin()};var b=(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.IE);c.transport=this.get__useNativeXd()?'postmessage':'flash';if(a.relation===FB.XdComm.PageRelation.child){FB.FBDebug.assert(a.frameName,'XdComm.Server._createXdProxyPacketUrl: end point '+'does not have child name name specified');c.relation='parent.frames['+a.frameName+']';}else if(a.relation===FB.XdComm.PageRelation.self){c.relation='parent';}else if(a.relation===FB.XdComm.PageRelation.parent){c.relation='parent.parent';}else if(a.relation===FB.XdComm.PageRelation.opener){c.relation='opener';if(b)c.transport='flash';}else throw new Error("Can't handle endPoint relation.");var d=(e+FBIntern.Uri.createQueryString(c)+'&endXdProxy&');return d;},_createXdProxyPacketUrl:function(b,a){return (this._createXdProxyBase(a)+encodeURIComponent(FB.JSON.serialize(b)));},unregisterDataHandler:function(a){FB.FBDebug.logLine(2,'Unregister data handler '+a);if(!FB.Sys.containsKey(this._handlers,a))throw new Error('Handler doesn\'t exist');delete this._handlers[a];},getUniqueHandlerName:function(c){if(!c)c='handler_';var b=0;var a=c+b.toString();while(FB.Sys.containsKey(this._handlers,a)){b++;a=c+b.toString();}return a;},registerDataHandler:function(e,d){FB.FBDebug.logLine(2,'Register data handler '+e);if(FB.Sys.containsKey(this._handlers,e))throw new Error('Handler already exists');this._handlers[e]=d;var h=this._dataRequestQueues[e];if(h){var b=new FB.ArrayEnumerator(h);while(b.moveNext()){var g=b.get_current();FB.FBDebug.logLine(2,'handle queued request');var a=null;var c=new FB.ArrayEnumerator(this._receiveChannels);while(c.moveNext()){var f=c.get_current();if(f._id===g.sid){a=f._endPoint;break;}}FB.FBDebug.assert(a,'can\'t find endpoint');d(this._getDataObject(g),a);}}},isDataHandlerRegistered:function(a){return this._handlers[a];},createNamedHiddenIFrame:function(c,g,a,f){var b=document.createElement('div');var d=FB.HiddenContainer.get();b=FB.HiddenContainer.get().appendChild(b);if(!this._iframeCreated&&FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.IE){b.innerHTML='<iframe src=\'javascript:false\' ></iframe>';this._iframeCreated=true;}if(!a)a='FB_SERVER_IFRAME';var e='<iframe name=\"'+c+'\" ';if(f)e+=f;e+=' src=\"'+g+'\" class=\"'+a+'\" scrolling=\"no\" frameborder=\"0\"></iframe>';b.innerHTML=e;return b.childNodes[0];},onReceiverLoaded:function(a){if(a)window.setTimeout(FB.bind(function(){this._onHashReceived(a);},this),0);},_createPacketUrl:function(b,a){if(this._useXdProxy()&&!/facebook\.com/.test(this._receiverUrl))return this._createXdProxyPacketUrl(b,a);var c=FB.JSON.serialize(b);c=encodeURIComponent(c);if(a.channelUrl.indexOf('http'))throw new Error('Invalid channel url '+a.channelUrl);var d=a.channelUrl+'#';if(FB.FBDebug.logLevel>4)d+='debug=1&';if(a.relation===FB.XdComm.PageRelation.child){FB.FBDebug.assert(a.frameName,'XdComm.Server.CreatePacketUrl: end point does not have child name name specified');d+='fname='+a.frameName+'&';}else if(a.relation===FB.XdComm.PageRelation.self){d+='fname=_parent&';}else if(a.relation===FB.XdComm.PageRelation.opener){d+='fname=_opener&';}else if(a.relation===FB.XdComm.PageRelation.openee)throw new Error('Can\'t handle endPoint '+FB.Enum.toString(FB.XdComm.PageRelation,a.relation));d+=c;return d;},_createHiddenIFrame:function(b){if(FB.FBDebug.logLevel>4)FB.FBDebug.writeLine('Create iframe '+b+' in '+document.URL);var a;a=document.createElement('iframe');a.className='FB_RECEIVER_DOM';if(!this._iframeCreated&&FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.IE){a.src='javascript:false';this._iframeCreated=true;}if(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.IE){a.src=b;a=FB.HiddenContainer.get().appendChild(a);}else{a=FB.HiddenContainer.get().appendChild(a);a.src=b;}return a;},_removeIframe:function(a){if(FB.FBDebug.logLevel>4)FB.FBDebug.writeLine('Remove iframe in '+document.URL);if(a){var b=a.parentNode;if(b)b.removeChild(a);}},_onHashReceived:function(g){if(FB.FBDebug.logLevel>3){FB.FBDebug.writeLine('>>>>>> '+document.URL);FB.FBDebug.writeLine('received hash '+g);}if(FB.Sys.startsWith(g,'guid=')){var b=decodeURIComponent(g);var f=b.indexOf('&');var e=b.substring(5,f);if(this.get_GUID()!==e)return;var o=b.substr(f);var r=o.indexOf('&session=');if(r==-1)return;var h=o.substr(r+9);if(h==='loggedout'){if(FB.Sys.containsKey(this._handlers,'fbLogout')){var j=this._handlers.fbLogout;j(h,null);}}else if(FB.Sys.containsKey(this._handlers,'fbLogin')){var i=this._handlers.fbLogin;i(h,null);}}else{var l=encodeURIComponent('}');var m=g.indexOf(l)+l.length;var n=decodeURIComponent(g.substring(0,m));var a=g.substr(m);var k=FB.JSON.deserialize(n);k.d=a;switch(k.t){case FB.XdComm._packetType.udpSingle:this._onFullDataReceived(k,new FB.XdComm.EndPoint(k.sf,k.sr,k.sc));break;case FB.XdComm._packetType.ack:var c=new FB.XdComm.EndPoint(k.sf,k.sr,k.sc);var d=new FB.ArrayEnumerator(this._sendChannels);while(d.moveNext()){var q=d.get_current();if(c.isEqual(q._endPoint))q._onAck(this._getDataObject(k));}break;default:var p=this._ensureReceiveChannel(k.sid,null);p._onReceivedPacket(k);break;}}},_ensureReceiveChannel:function(e,a){var d=null;var b=new FB.ArrayEnumerator(this._receiveChannels);while(b.moveNext()){var c=b.get_current();if(c._id===e){d=c;break;}}if(!d){d=new FB.XdComm._receiveChannel(e,a);FB.Sys.add(this._receiveChannels,d);}return d;},_onFullDataReceived:function(b,a){if(FB.FBDebug.logLevel>3){FB.FBDebug.dump(b,'received full packet');FB.FBDebug.dump(a,'sender');}if(FB.Sys.containsKey(this._handlers,b.h)){var c=this._handlers[b.h];c(this._getDataObject(b),a);}else{FB.FBDebug.logLine(2,'queue request to unknown handler {0} '+b.h);var d=this._dataRequestQueues[b.h];if(!d)this._dataRequestQueues[b.h]=d=[];FB.Sys.add(d,b);}},_getDataObject:function(b){var a=b.d;switch(b.df){case FB.XdComm.PacketDataFormat.rawText:return a;case FB.XdComm.PacketDataFormat.OBJ:return b.nd;case FB.XdComm.PacketDataFormat.JSON:default:return FB.JSON.deserialize(decodeURIComponent(a));}},get__useNativeXd:function(){if(!FBIntern.Utility.getSiteVar('use_postMessage')){this._nativeXdState=0;}else if(this._nativeXdState===-1)if((FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.IE&&FBIntern.AppInfo.get_singleton().get_hostInfo().majorVersion<8)){this._nativeXdState=0;}else this._nativeXdState=window.postMessage!=null?1:0;return this._nativeXdState===1;},_useXdProxy:function(){return (FBIntern.Utility.getSiteVar('use_xdProxy')&&!FB.Facebook.get_isInCanvas()&&(this.get__useNativeXd()||this.get__useFlashXd()));},get_GUID:function(){if(!this._guid)this._guid=Math.random().toString();return this._guid;},get__useFlashXd:function(){var a=(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.IE);if(this._flashXdState===-1)if((!this.get__useNativeXd()||a)&&FBIntern.Flash.hasRequireVersion()){this._flashXdState=1;}else this._flashXdState=0;return this._flashXdState===1;},_receiverUrl:null,_uniqueOrigin:null,_iframeCreated:false,_id:null,_maxPacketDataLength:0,_nativeMsgId:0,_guid:null});FB.provide('FB.XdComm.Server',{_onLoad:function(){FB.XdComm.Server.singleton=new FB.XdComm.Server();FB.XdComm.Server.postMessageHeader='FB_msg:';FB.XdComm.Server.postMessageAckHeader='FB_msg_ack:';},init:function(a){FB.XdComm.Server.singleton.set_receiverUrl(a);},registerSimpleHandler:function(b,a){if(!FB.XdComm.Server.singleton.isDataHandlerRegistered(b))FB.XdComm.Server.singleton.registerDataHandler(b,function(c,d){a(c);});}});
FB.subclass('FBIntern.Cookie','FB.Class',{init:function(){}});FB.provide('FBIntern.Cookie',{set:function(_L0,_L1,_L2,_L3,_L4){if(FB.Sys.isNullOrUndefined(_L1))_L1='';var _L5=_L0+'='+encodeURIComponent(_L1)+';';if(_L4){var _L6=new Date();var _L7=new Date(_L6.getTime()+3600000*24*_L4);_L5+='expires='+_L7.toUTCString()+';';}if(_L2)_L5+='path='+_L2+';';if(_L3)_L5+='domain='+_L3+';';document.cookie=_L5;},clear:function(_L0,_L1,_L2){FBIntern.Cookie.set(_L0,'',_L1,_L2,-10);},getValue:function(_L0){var _L1=_L0+'=';var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];c=FB.Sys.trim(c);if(!c.indexOf(_L1)){c=decodeURIComponent(c.substr(_L1.length));return c;}}return null;}});

FB._create_XdHttpRequestResult=function(id,status,statusText,responseText){var o={};o.status=status;o.statusText=statusText;o.responseText=responseText;o.id=id;return o;};
FB.subclass('FB._xdHttpRequestClient','FB.Class',{init:function(b,a,c){if(!FBIntern.Flash.hasRequireVersion()){FB.XdComm.Server.singleton.createNamedHiddenIFrame(c,b,'FB_SERVER_IFRAME',null);this._serverEndPoint=new FB.XdComm.EndPoint(c,FB.XdComm.PageRelation.child,a);}else if(!window.FB_OnXdHttpResult){FB.FBDebug.logLine(2,'Set window.FB_OnXdHttpResult');window.FB_OnXdHttpResult=FB._xdHttpRequestClient._onFlashDataReceived;}},send:function(c,i,d,b,a){if(!FBIntern.Flash.hasRequireVersion()){var h=new FBIntern.Uri(i);var g=h.get_pathAndQuery();FB._xdHttpRequestClient._ensureListenerStarted();var e=FB._xdHttpRequestClient._idCount++;var f=[e,c,g,d,b];FB._xdHttpRequestClient._requestQueue[e.toString()]=a;FB.FBDebug.logLine(3,'XdHttpRequestClient: send request for '+i);FB.XdComm.Server.singleton.send(this._serverEndPoint,'http_server',f);}else FBIntern.Flash.get_xdComm().waitUntilReady(FB.bind(function(l){var j=l;FB.FBDebug.logLine(3,'XdHttpRequestClient: send flash request for '+i);var k=j.sendXdHttpRequest(c,i,d,b);FB._xdHttpRequestClient._requestQueue[k.toString()]=a;},this));},_serverEndPoint:null});FB.provide('FB._xdHttpRequestClient',{_onLoad:function(){FB._xdHttpRequestClient._requestQueue={};FB._xdHttpRequestClient._handlerRegistered=false;FB._xdHttpRequestClient._idCount=0;},_ensureListenerStarted:function(){if(!FB._xdHttpRequestClient._handlerRegistered){FB.XdComm.Server.singleton.registerDataHandler('http_client',FB._xdHttpRequestClient._onDataReceived);FB._xdHttpRequestClient._handlerRegistered=true;}},_onFlashDataReceived:function(a,b){b=decodeURIComponent(b);var c=FB._create_XdHttpRequestResult(a,200,'Success',b);window.setTimeout(function(){FB._xdHttpRequestClient._onDataReceived(c,null);},0);},_onDataReceived:function(b,d){FB.FBDebug.logLine(3,'XdHttpRequestClient: got result ');var c=b;var a=FB._xdHttpRequestClient._requestQueue[c.id];a(c);}});
FB._create_SessionRecord=function(_L0,uid,_L2,_L3,_L4,sig){var o={};o.session_key=_L0;o.uid=uid;o.expires=_L2;o.secret=_L3;o.sig=sig;o.base_domain=_L4;return o;};

FB.subclass('FB._xdJsonRequest','FB.Class',{init:function(xdHttpClient,method,url,requestBody,extraHeaders){this._method=method;this._url=url;this._requestBody=requestBody;this._extraHeaders=extraHeaders;this._xdHttpClient=xdHttpClient;},sendRequest:function(){this._xdHttpClient.send(this._method,this._url,this._requestBody,this._extraHeaders,FB.bind(function(xd_result){if(xd_result.status<400){var responseText=xd_result.responseText;var result;try{result=FB.JSON.deserialize(responseText,true);}
catch(exception){var jsonException=FBIntern.Utility.createException('JSON exception during deserialization.',responseText,exception);this.callback(null,exception);return;}
this.callback(result,null);}
else{var exception=new Error(FB.Sys.format('HTTP request failure status code=\'{0}\', text=\'{1}\'',xd_result.status,xd_result.statusText));this.callback(null,exception);}},this));},callback:null,_method:null,_url:null,_requestBody:null,_extraHeaders:null,_xdHttpClient:null});

FB.provide('FB.ApiErrorCode',{unknown:1,service_not_available:2,max_requests_reached:4,remote_address_not_allowed:5,invalid_parameter:100,invalid_api_key:101,invalid_session_key:102,invalid_call_id:103,invalid_signature:104,permission_denied:200,internal_error:800,invalid_operation:801,quota_exceeded:802,object_already_exists:804,temporary_Database_failure:805});

FB.Type.createClass('FBIntern.Md5',{requires:[],ctor:function(){},static:{computeHashToString:function(string){function RotateLeft(lValue,iShiftBits){return(lValue<<iShiftBits)|(lValue>>>(32-iShiftBits));}
function AddUnsigned(lX,lY){var lX4,lY4,lX8,lY8,lResult;lX8=(lX&0x80000000);lY8=(lY&0x80000000);lX4=(lX&0x40000000);lY4=(lY&0x40000000);lResult=(lX&0x3FFFFFFF)+(lY&0x3FFFFFFF);if(lX4&lY4){return(lResult^0x80000000^lX8^lY8);}
if(lX4|lY4){if(lResult&0x40000000){return(lResult^0xC0000000^lX8^lY8);}else{return(lResult^0x40000000^lX8^lY8);}}else{return(lResult^lX8^lY8);}}
function F(x,y,z){return(x&y)|((~x)&z);}
function G(x,y,z){return(x&z)|(y&(~z));}
function H(x,y,z){return(x^y^z);}
function I(x,y,z){return(y^(x|(~z)));}
function FF(a,b,c,d,x,s,ac){a=AddUnsigned(a,AddUnsigned(AddUnsigned(F(b,c,d),x),ac));return AddUnsigned(RotateLeft(a,s),b);};function GG(a,b,c,d,x,s,ac){a=AddUnsigned(a,AddUnsigned(AddUnsigned(G(b,c,d),x),ac));return AddUnsigned(RotateLeft(a,s),b);};function HH(a,b,c,d,x,s,ac){a=AddUnsigned(a,AddUnsigned(AddUnsigned(H(b,c,d),x),ac));return AddUnsigned(RotateLeft(a,s),b);};function II(a,b,c,d,x,s,ac){a=AddUnsigned(a,AddUnsigned(AddUnsigned(I(b,c,d),x),ac));return AddUnsigned(RotateLeft(a,s),b);};function ConvertToWordArray(string){var lWordCount;var lMessageLength=string.length;var lNumberOfWords_temp1=lMessageLength+8;var lNumberOfWords_temp2=(lNumberOfWords_temp1-(lNumberOfWords_temp1%64))/64;var lNumberOfWords=(lNumberOfWords_temp2+1)*16;var lWordArray=Array(lNumberOfWords-1);var lBytePosition=0;var lByteCount=0;while(lByteCount<lMessageLength){lWordCount=(lByteCount-(lByteCount%4))/4;lBytePosition=(lByteCount%4)*8;lWordArray[lWordCount]=(lWordArray[lWordCount]|(string.charCodeAt(lByteCount)<<lBytePosition));lByteCount++;}
lWordCount=(lByteCount-(lByteCount%4))/4;lBytePosition=(lByteCount%4)*8;lWordArray[lWordCount]=lWordArray[lWordCount]|(0x80<<lBytePosition);lWordArray[lNumberOfWords-2]=lMessageLength<<3;lWordArray[lNumberOfWords-1]=lMessageLength>>>29;return lWordArray;};function WordToHex(lValue){var WordToHexValue="",WordToHexValue_temp="",lByte,lCount;for(lCount=0;lCount<=3;lCount++){lByte=(lValue>>>(lCount*8))&255;WordToHexValue_temp="0"+lByte.toString(16);WordToHexValue=WordToHexValue+WordToHexValue_temp.substr(WordToHexValue_temp.length-2,2);}
return WordToHexValue;};function Utf8Encode(string){string=string.replace(/\r\n/g,"\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}
else if((c>127)&&(c<2048)){utftext+=String.fromCharCode((c>>6)|192);utftext+=String.fromCharCode((c&63)|128);}
else{utftext+=String.fromCharCode((c>>12)|224);utftext+=String.fromCharCode(((c>>6)&63)|128);utftext+=String.fromCharCode((c&63)|128);}}
return utftext;};var x=Array();var k,AA,BB,CC,DD,a,b,c,d;var S11=7,S12=12,S13=17,S14=22;var S21=5,S22=9,S23=14,S24=20;var S31=4,S32=11,S33=16,S34=23;var S41=6,S42=10,S43=15,S44=21;string=Utf8Encode(string);x=ConvertToWordArray(string);a=0x67452301;b=0xEFCDAB89;c=0x98BADCFE;d=0x10325476;for(k=0;k<x.length;k+=16){AA=a;BB=b;CC=c;DD=d;a=FF(a,b,c,d,x[k+0],S11,0xD76AA478);d=FF(d,a,b,c,x[k+1],S12,0xE8C7B756);c=FF(c,d,a,b,x[k+2],S13,0x242070DB);b=FF(b,c,d,a,x[k+3],S14,0xC1BDCEEE);a=FF(a,b,c,d,x[k+4],S11,0xF57C0FAF);d=FF(d,a,b,c,x[k+5],S12,0x4787C62A);c=FF(c,d,a,b,x[k+6],S13,0xA8304613);b=FF(b,c,d,a,x[k+7],S14,0xFD469501);a=FF(a,b,c,d,x[k+8],S11,0x698098D8);d=FF(d,a,b,c,x[k+9],S12,0x8B44F7AF);c=FF(c,d,a,b,x[k+10],S13,0xFFFF5BB1);b=FF(b,c,d,a,x[k+11],S14,0x895CD7BE);a=FF(a,b,c,d,x[k+12],S11,0x6B901122);d=FF(d,a,b,c,x[k+13],S12,0xFD987193);c=FF(c,d,a,b,x[k+14],S13,0xA679438E);b=FF(b,c,d,a,x[k+15],S14,0x49B40821);a=GG(a,b,c,d,x[k+1],S21,0xF61E2562);d=GG(d,a,b,c,x[k+6],S22,0xC040B340);c=GG(c,d,a,b,x[k+11],S23,0x265E5A51);b=GG(b,c,d,a,x[k+0],S24,0xE9B6C7AA);a=GG(a,b,c,d,x[k+5],S21,0xD62F105D);d=GG(d,a,b,c,x[k+10],S22,0x2441453);c=GG(c,d,a,b,x[k+15],S23,0xD8A1E681);b=GG(b,c,d,a,x[k+4],S24,0xE7D3FBC8);a=GG(a,b,c,d,x[k+9],S21,0x21E1CDE6);d=GG(d,a,b,c,x[k+14],S22,0xC33707D6);c=GG(c,d,a,b,x[k+3],S23,0xF4D50D87);b=GG(b,c,d,a,x[k+8],S24,0x455A14ED);a=GG(a,b,c,d,x[k+13],S21,0xA9E3E905);d=GG(d,a,b,c,x[k+2],S22,0xFCEFA3F8);c=GG(c,d,a,b,x[k+7],S23,0x676F02D9);b=GG(b,c,d,a,x[k+12],S24,0x8D2A4C8A);a=HH(a,b,c,d,x[k+5],S31,0xFFFA3942);d=HH(d,a,b,c,x[k+8],S32,0x8771F681);c=HH(c,d,a,b,x[k+11],S33,0x6D9D6122);b=HH(b,c,d,a,x[k+14],S34,0xFDE5380C);a=HH(a,b,c,d,x[k+1],S31,0xA4BEEA44);d=HH(d,a,b,c,x[k+4],S32,0x4BDECFA9);c=HH(c,d,a,b,x[k+7],S33,0xF6BB4B60);b=HH(b,c,d,a,x[k+10],S34,0xBEBFBC70);a=HH(a,b,c,d,x[k+13],S31,0x289B7EC6);d=HH(d,a,b,c,x[k+0],S32,0xEAA127FA);c=HH(c,d,a,b,x[k+3],S33,0xD4EF3085);b=HH(b,c,d,a,x[k+6],S34,0x4881D05);a=HH(a,b,c,d,x[k+9],S31,0xD9D4D039);d=HH(d,a,b,c,x[k+12],S32,0xE6DB99E5);c=HH(c,d,a,b,x[k+15],S33,0x1FA27CF8);b=HH(b,c,d,a,x[k+2],S34,0xC4AC5665);a=II(a,b,c,d,x[k+0],S41,0xF4292244);d=II(d,a,b,c,x[k+7],S42,0x432AFF97);c=II(c,d,a,b,x[k+14],S43,0xAB9423A7);b=II(b,c,d,a,x[k+5],S44,0xFC93A039);a=II(a,b,c,d,x[k+12],S41,0x655B59C3);d=II(d,a,b,c,x[k+3],S42,0x8F0CCC92);c=II(c,d,a,b,x[k+10],S43,0xFFEFF47D);b=II(b,c,d,a,x[k+1],S44,0x85845DD1);a=II(a,b,c,d,x[k+8],S41,0x6FA87E4F);d=II(d,a,b,c,x[k+15],S42,0xFE2CE6E0);c=II(c,d,a,b,x[k+6],S43,0xA3014314);b=II(b,c,d,a,x[k+13],S44,0x4E0811A1);a=II(a,b,c,d,x[k+4],S41,0xF7537E82);d=II(d,a,b,c,x[k+11],S42,0xBD3AF235);c=II(c,d,a,b,x[k+2],S43,0x2AD7D2BB);b=II(b,c,d,a,x[k+9],S44,0xEB86D391);a=AddUnsigned(a,AA);b=AddUnsigned(b,BB);c=AddUnsigned(c,CC);d=AddUnsigned(d,DD);}
var temp=WordToHex(a)+WordToHex(b)+WordToHex(c)+WordToHex(d);return temp.toLowerCase();}}});
FB.subclass('FB.Facebook','FB.Class',{init:function(){}});FB.provide('FB.Facebook',{_onLoad:function(){FB.Facebook.apiKey=null;FB.Facebook.apiClient=null;FB.Facebook.appSecret=null;FB.Facebook.version='1.0';FB.Facebook.__initCalled=null;FB.Facebook.appSettings={};FB.Facebook.isInConnect=0;FB.Facebook.locale='en_US';FB.Facebook._initialized=null;FB.Facebook._baseDomain=null;FB.Facebook._isBaseDomainInitialized=false;FB.Facebook._isInCanvas=-1;FB.Facebook._isInitialNoSession=false;FB.Facebook._isInitialSessionSwitch=true;FB.Facebook._publicSessionData=new FB.SimpleWaitable();},init:function(a,c,b){if(typeof(a)==='object'&&!c&&!b){b=arguments[0];a=null;c=null;}if(FB.Facebook.apiClient){FB.FBDebug.writeLine('Error: Facebook.init() has already been called.');}else{if(a){FB.Facebook.apiKey=a;}else if(b)FB.Facebook.apiKey=b.apiKey;if(!FB.Facebook.apiKey)FB.FBDebug.logLine(0,'API Key is not specified');if(!c&&b)c=b.xdChannelUrl;if(b)FB.Facebook.appSettings=b;FB.XdComm.Server.singleton.set_receiverUrl(c);FB.Facebook.apiClient=new FB.ApiClient(FB.Facebook.apiKey);FB.Facebook._isInitialNoSession=!FB.Facebook.get_sessionState().result;if(b)FB.Facebook._processOptionalAppSettings();(FB.Facebook.get_initialized())._setResult(true);}if(FB.Facebook.__initCalled)FB.Facebook.__initCalled();},_reloadIfSessionStateChanged:function(){FB.Facebook.get_sessionWaitable().add_changed(function(a){window.setTimeout(function(){var c=!a.result;if(FB.Facebook._isInitialSessionSwitch){FB.Facebook._isInitialSessionSwitch=false;var d=true;if(FB.Facebook.appSettings.doNotUseCachedConnectState){d=false;}else{var b=Math.random().toString();FBIntern.Cookie.set('testCookie',b,'/',FB.Facebook._baseDomain);if(b==FBIntern.Cookie.getValue('testCookie')){FBIntern.Cookie.clear('testCookie','/',FB.Facebook._baseDomain);}else d=false;}if(!d&&FB.Facebook._isInitialNoSession)FB.Facebook._isInitialNoSession=c;}if(c!==FB.Facebook._isInitialNoSession){FB.FBDebug.logLine(3,'reloading ...');window.setTimeout(function(){window.location.reload(true);},0);}},0);});},_processOptionalAppSettings:function(){var a=FB.Facebook.appSettings;for(var c in a){var b={key:c,value:a[c]};switch(b.key){case 'debugLogLevel':FB.FBDebug.logLevel=b.value;break;case 'apiKey':case 'xdChannelUrl':case 'fetchSignedPublicSessionData':case 'ifUserConnected':case 'ifUserNotConnected':case 'doNotUseCachedConnectState':case 'permsToRequestOnConnect':case 'disableCookies':break;case 'doNotMonitorUsage':FB.Monitor.disableLogging();break;case 'reloadIfSessionStateChanged':FB.Facebook._reloadIfSessionStateChanged();break;default:FB.FBDebug.logLine(1,'Invalid app setting key: '+b.key);break;}}if(FB.Facebook.appSettings.ifUserConnected||FB.Facebook.appSettings.ifUserNotConnected)FB.Connect.ifUserConnected(FB.Facebook.appSettings.ifUserConnected,FB.Facebook.appSettings.ifUserNotConnected);},get_sessionState:function(){return FB.Facebook.get_sessionWaitable();},get_sessionWaitable:function(){FB.FBDebug.assert(FB.Facebook.apiClient,'Facebook.init() is not called yet');return FB.Facebook.apiClient.get_sessionWaitable();},get_initialized:function(){if(!FB.Facebook._initialized)FB.Facebook._initialized=new FB.SimpleWaitable();return FB.Facebook._initialized;},get_baseDomain:function(){if(!FB.Facebook._isBaseDomainInitialized)if(FB.Facebook.apiKey){FB.Facebook._baseDomain=FBIntern.Cookie.getValue('base_domain_'+FB.Facebook.apiKey);}else FB.FBDebug.logLine(0,'Can\'t get BaseDomain property when API key is not set');return FB.Facebook._baseDomain;},set_baseDomain:function(b){FB.Facebook._isBaseDomainInitialized=true;if(FB.Sys.isUndefined(b)){FB.Facebook._baseDomain=null;}else FB.Facebook._baseDomain=b;if(FB.Facebook.apiKey){var a='base_domain_'+FB.Facebook.apiKey;if(!FB.Facebook._baseDomain){FBIntern.Cookie.clear(a,'/',null);}else FBIntern.Cookie.set(a,FB.Facebook._baseDomain,'/',FB.Facebook._baseDomain,0);}else throw new Error('Can\'t set BaseDomain property when api key is set');return b;},get_isInCanvas:function(){if(FB.Facebook._isInCanvas===-1)if(window.parent==window){FB.Facebook._isInCanvas=(document.domain=='facebook.com')?1:0;}else FB.Facebook._isInCanvas=(window.location.href.match("fb_sig_in_iframe=1")!=null?1:0);var a=(FB.Facebook._isInCanvas===1);return a;},get_isInConnect:function(){return FB.Facebook.isInConnect;},get_iframeSignature:function(){if(!FB.Facebook._iframeSignature){var d=-1;var b=window.location.search;if(b){var c=new RegExp('[\\?&]fb_sig_iframe_key=([^&#]*)');var a=c.exec(b);if(a)d=a[1];}FB.Facebook._iframeSignature=d;}if(FB.Facebook._iframeSignature===-1)return null;return FB.Facebook._iframeSignature;},add_initCalled:function(a){FB.Facebook.__initCalled=FB.Delegate.combine(FB.Facebook.__initCalled,a);},remove_initCalled:function(a){FB.Facebook.__initCalled=FB.Delegate.remove(FB.Facebook.__initCalled,a);}});
FB.subclass('FB.ApiClient','FB.Class',{init:function(a){this._sessionWaitable=new FB.SimpleWaitable();this._sessionRefreshInterval=20*60*1000;this._sessionRefreshIntervalId=null;this._apiKey=a;if(!FB.Facebook.apiKey)FB.Facebook.apiKey=a;var b=FBIntern.Utility.getFacebookUrl('api');this._serverAddress=b+'restserver.php';var e=b+'static/v0.4/client_restserver.php?r='+FBIntern.FbGlobals.get_fB_StaticResourceVersions().api_server;var d=b+'static/v0.4/xd_receiver.php?r='+FBIntern.FbGlobals.get_fB_StaticResourceVersions().api_channel;if(FB.FBDebug.logLevel>0)e=FBIntern.Uri.addQueryParameters(e,'debug_level='+FB.FBDebug.logLevel.toString());this._xdHttpClient=new FB._xdHttpRequestClient(e,d,'fb_api_server');this._isLoggedIn=window.location.href.match("fb_sig_user")!=null;var c=FB.ApiClient._getSessionFromUrl(document.URL);if(!c)if(FB.Facebook.get_isInCanvas()&&!this._isLoggedIn){this._setSessionCookies(null);}else c=this._getSessionFromCookies();if(c&&!FB.ApiClient.sessionIsExpired(c))this.set_session(c);},get_session:function(){return this._session;},set_session:function(a){if(a!==this._session){this._session=a;if(this._session&&this._session.base_domain)FB.Facebook.set_baseDomain(this._session.base_domain);this._setSessionCookies(a);if(this._sessionRefreshIntervalId)clearInterval(this._sessionRefreshIntervalId);this._sessionRefreshIntervalId=window.setInterval(FB.bind(function(){this._refreshSession(null);},this),this._sessionRefreshInterval);this._sessionWaitable._setResult(a,!a);}return a;},get_sessionWaitable:function(){return this._sessionWaitable;},requireLogin:function(a){if(this._session){if(a)a(null);}else FB.ApiClient.createSessionDelegate(this,FB.bind(function(b){FB.FBDebug.assert(b,'Invalid session returned');this._session=b;},this));},_getSessionFromCookies:function(){if(FB.Facebook.appSettings.doNotUseCachedConnectState)return null;var e=FBIntern.Cookie.getValue(this._apiKey);var f=FBIntern.Cookie.getValue(this._apiKey+'_user');var d=FBIntern.Cookie.getValue(this._apiKey+'_ss');var c=FBIntern.Cookie.getValue(this._apiKey+'_session_key');var a=parseInt(FBIntern.Cookie.getValue(this._apiKey+'_expires'));if(e&&f&&d&&c&&a!==-1){var b=FB._create_SessionRecord(c,f,a,d,FB.Facebook.get_baseDomain(),e);return b;}return null;},_setSessionCookies:function(a){if(FB.Facebook.appSettings.disableCookies)return;if(a&&a.expires!==-1&&a.secret&&a.session_key&&a.uid&&a.sig){FBIntern.Cookie.set(this._apiKey,a.sig,'/',FB.Facebook.get_baseDomain(),0);FBIntern.Cookie.set(this._apiKey+'_user',a.uid,'/',FB.Facebook.get_baseDomain(),0);FBIntern.Cookie.set(this._apiKey+'_ss',a.secret,'/',FB.Facebook.get_baseDomain(),0);FBIntern.Cookie.set(this._apiKey+'_session_key',a.session_key,'/',FB.Facebook.get_baseDomain(),0);FBIntern.Cookie.set(this._apiKey+'_expires',a.expires.toString(),'/',FB.Facebook.get_baseDomain(),0);}else if(!a){FBIntern.Cookie.clear(this._apiKey,'/',FB.Facebook.get_baseDomain());FBIntern.Cookie.clear(this._apiKey+'_user','/',FB.Facebook.get_baseDomain());FBIntern.Cookie.clear(this._apiKey+'_ss','/',FB.Facebook.get_baseDomain());FBIntern.Cookie.clear(this._apiKey+'_session_key','/',FB.Facebook.get_baseDomain());FBIntern.Cookie.clear(this._apiKey+'_expires','/',FB.Facebook.get_baseDomain());}},_createLoginUrl:function(){var a={api_key:this._apiKey,extern:FB.Facebook.get_isInConnect(),fbconnect:1,next:document.URL,return_session:1,v:FB.Facebook.version};return FBIntern.Utility.createFacebookUrl('www','login.php',a,false);},_refreshSession:function(a){var e=FBIntern.Utility.getFacebookUrl('api')+'session_state.php';var d='api_key='+this._apiKey.toString()+'&session_key='+((!this._session)?'null':this._session.session_key.toString());var b={};b['Content-Type']='application/x-www-form-urlencoded';var c=new FB._xdJsonRequest(this._xdHttpClient,'POST',e,d,b);c.callback=FB.bind(function(h,g){if(h){var f=h;if(!f['error']){this._session=f.session;this._setSessionCookies(this._session);if(a)a(null);}else if(f.error===-1){FB.FBDebug.logLine(1,'User has not authorized the application.');}else if(f.error===-2){FB.FBDebug.logLine(1,'User is not logged into Facebook.');}else if(f.error===-3)FB.FBDebug.logLine(1,'Unknown error while refreshing user session.');}},this);c.sendRequest();},auth_getAppPublicKey:function(b,a){return this.callMethod('auth.getAppPublicKey',{target_app_key:b},a);},auth_getSignedPublicSessionData:function(a){return this.callMethod('auth.getSignedPublicSessionData',null,a);},connect_getUnconnectedFriendsCount:function(a){return this.callMethod('connect.getUnconnectedFriendsCount',null,a);},events_get:function(g,a,f,b,e,c){var d={};if(g)d.uid=g;if(a)d.eids=a;d.start_time=f;d.end_time=b;if(e)d.rsvp_status=e;return this.callMethod('events.get',d,c);},events_getMembers:function(a,b){var c={};c.eid=a;return this.callMethod('events.getMembers',c,b);},fbml_refreshImgSrc:function(c,a){var b={};b.url=c;return this.callMethod('fbml.refreshImgSrc',b,a);},fbml_refreshRefUrl:function(c,a){var b={};b.url=c;return this.callMethod('fbml.refreshRefUrl',b,a);},fbml_setRefHandle:function(b,a,c){var d={};d.handle=b;d.fbml=a;return this.callMethod('fbml.setRefHandle',d,c);},intl_uploadNativeStrings:function(a,b){var c={};c.native_strings=a;return this.callMethod('intl.uploadNativeStrings',c,b);},feed_publishUserAction:function(f,g,e,a,d,h,b){var c={};c.template_bundle_id=f.toString();if(g)c.template_data=g;if(e)c.target_ids=e.toString();if(a)c.body_general=a;if(d>0)c.story_size=d;if(h)c.user_message=h;return this.callMethod('feed.publishUserAction',c,b);},friends_get:function(a,b){var c={};if(a)c.flid=a;return this.callMethod('friends.get',c,b);},revokeAuthorization:function(b,a){return this.callMethod('auth.revokeAuthorization',null,a);},preloadFQL_get:function(a){if(FB.Facebook.get_isInCanvas()&&this._isLoggedIn&&FB.XdComm.Server.singleton.get_receiverUrl()){FB.Bootstrap._requireFeatures(['CacheData'],function(){FBIntern.CacheClient.preloadFQLGet(a);});return true;}else{a(Array());return false;}},friends_areFriends:function(c,d,a){var b={};b.uids1=c.toString();b.uids2=d.toString();return this.callMethod('friends.areFriends',b,a);},friends_getAppUsers:function(a){return this.callMethod('friends.getAppUsers',null,a);},friends_getLists:function(a){return this.callMethod('friends.getLists',null,a);},groups_get:function(d,a,b){var c={};if(d)c.uid=d;if(a)c.gids=a.toString();return this.callMethod('groups.get',c,b);},groups_getMembers:function(a,b){var c={};c.gid=a;return this.callMethod('groups.getMembers',c,b);},privacy_canSee:function(c,d,a){var b={};b.uids=c.toString();b.whats=d.toString();return this.callMethod('privacy.canSee',b,a);},notifications_get:function(a){var b={};return this.callMethod('notifications.get',b,a);},notifications_send:function(d,a,b){var c={};c.to_ids=d.toString();c.notification=a;return this.callMethod('notifications.send',c,b);},notifications_sendEmail:function(d,e,f,a,b){var c={};c.recipients=d.toString();c.subject=e;if(f)c.text=f;if(a)c.fbml=a;return this.callMethod('notifications.sendEmail',c,b);},pages_getInfo:function(a,c,e,b){var d={};d.fields=a.toString();d.page_ids=c.toString();if(e)d.uid=e;return this.callMethod('pages.getInfo',d,b);},pages_isAdmin:function(b,a){var c={};c.page_id=b;return this.callMethod('pages.isAdmin',c,a);},pages_isAppAdded:function(b,a){var c={};c.page_id=b;return this.callMethod('pages.isAppAdded',c,a);},pages_isFan:function(b,d,a){var c={};c.page_id=b;c.uid=d;return this.callMethod('pages.isFan',c,a);},photos_addTag:function(c,e,d,g,h,f,a){var b={};b.pid=c;if(f){b.tags=f;}else{if(e){b.tag_uid=e;}else if(d){b.tag_text=d;}else FB.FBDebug.logLine(1,'Either tag_uid or tag_text must specified');b.x=g;b.y=h;}return this.callMethod('photos.addTag',b,a);},photos_createAlbum:function(c,b,a,d){var e={};e.name=c;e.location=b;e.description=a;return this.callMethod('photos.createAlbum',e,d);},photos_get:function(e,a,d,b){var c={};if(e)c.subj_id=e;if(a)c.aid=a;if(d)c.pids=d.toString();return this.callMethod('photos.get',c,b);},photos_getAlbums:function(d,a,b){var c={};if(d)c.uid=d;if(a)c.aids=a.toString();return this.callMethod('photos.getAlbums',c,b);},photos_getTags:function(c,a){var b={};b.pids=c.toString();return this.callMethod('photos.getTags',b,a);},users_getInfo:function(d,a,b){var c={};c.uids=d.toString();c.fields=a.toString();return this.callMethod('users.getInfo',c,b);},users_getLoggedInUser:function(a){var b={};return this.callMethod('users.getLoggedInUser',b,a);},users_hasAppPermission:function(a,b){var c={};c.ext_perm=a;return this.callMethod('users.hasAppPermission',c,b);},users_isAppAdded:function(a){var b={};return this.callMethod('users.isAppUser',b,a);},users_isAppUser:function(a){var b={};return this.callMethod('users.isAppUser',b,a);},users_setStatus:function(d,a,e,b){var c={};c.status=d;c.clear=a;c.status_includes_verb=e;return this.callMethod('users.setStatus',c,b);},stream_get:function(f,g,a,c,b,d){var e={};e.source_ids=f;e.start_time=g;e.end_time=a;e.limit=c;e.filter_key=b;return this.callMethod('stream.get',e,d);},stream_getComments:function(c,a){var b={};b.post_id=c;return this.callMethod('stream.getComments',b,a);},stream_getFilters:function(a){return this.callMethod('stream.getFilters',{},a);},fql_query:function(c,a){var b={};b.query=c;return this.callMethod('fql.query',b,a);},profile_setFBML:function(g,d,e,a,f,b){var c={};if(g)c.uid=g;c.profile=d;c.profile_action=e;c.mobile_profile=a;c.profile_main=f;return this.callMethod('profile.setFBML',c,b);},profile_getFBML:function(c,a){var b={};b.uid=c;return this.callMethod('profile.getFBML',b,a);},callMethod:function(e,f,b){var c=!this._session&&!FB.Facebook.appSecret&&e!=='fql.query';var d=this._generateJsonRequest(e,f);if(typeof(b)!=='function'){var g=new FB.PendingResult();if(!c){b._api=this;b._addStep(d,g);}else g.setPendingResult(null,FBIntern.Utility.createException('Invalid session state',FB.ApiErrorCode.invalid_session_key));return g;}else{var a=(b);if(!c){d.callback=FB.bind(function(i,h){if(!h&&(h=this._checkError(i)))i=null;a(i,h);},this);d.sendRequest();}else a(null,FBIntern.Utility.createException('Invalid session state',FB.ApiErrorCode.invalid_session_key));return null;}},_checkError:function(b){var a=b;if(!FB.Sys.isUndefined(a.error_code)){FB.FBDebug.logLine(1,'API failed with error code = '+FB.Enum.toString(FB.ApiErrorCode,a.error_code));if(a.error_code===FB.ApiErrorCode.invalid_session_key){FB.FBDebug.logLine(1,'Bad session key, clear it');this.set_session(null);}return FBIntern.Utility.createException(a.error_msg,a);}return null;},_generateJsonRequest:function(i,j){if(!j)j={};var b=j;for(var g in b){var d={key:g,value:b[g]};var n=typeof(d.value);if(n==='boolean'){j[d.key]=(j[d.key])?1:0;}else if(n==='object')j[d.key]=FB.JSON.serialize(d.value);}j.method=i;j.api_key=this._apiKey;j.format='JSON';var a=(new Date()).getMilliseconds();if(a===this._lastCallId)a=this._lastCallId+1;this._lastCallId=a;j.call_id=a;if(!j['v'])j.v=FB.Facebook.version;if(this._session){FB.FBDebug.writeLine('session key = '+this._session.session_key);j.session_key=this._session.session_key;}if(FB.Facebook.appSecret){j.sig=this._generateSignature(j,FB.Facebook.appSecret);}else if(this._session&&this._session.secret){j.ss=1;j.sig=this._generateSignature(j,this._session.secret);}var k=new FB.StringBuilder();var c=j;for(var h in c){var d={key:h,value:c[h]};if(!k.get_isEmpty())k.append('&');k.append(d.key+'='+encodeURIComponent(d.value));}var m=this._serverAddress;m+=('?method='+j.method);var l=k.toString();var e={};e['Content-Type']='application/x-www-form-urlencoded';var f=new FB._xdJsonRequest(this._xdHttpClient,'POST',m,l,e);return f;},get_apiKey:function(){return this._apiKey;},_convertDictKeysToList:function(b){var e=[];var a=b;for(var d in a){var c={key:d,value:a[d]};FB.Sys.add(e,c.key);}return e;},_generateSignature:function(e,f){var g=new FB.StringBuilder();var d=this._convertDictKeysToList(e);d.sort();var a=new FB.ArrayEnumerator(d);while(a.moveNext()){var c=a.get_current();g.append(c+'='+e[c]);}g.append(f);var b=FB.Sys.trim(FBIntern.Md5.computeHashToString(g.toString()));return b;},_apiKey:null,_session:null,_serverAddress:null,_lastCallId:0,_xdHttpClient:null,_isLoggedIn:false});FB.provide('FB.ApiClient',{_onLoad:function(){FB.ApiClient.createSessionDelegate=FB.ApiClient.defaultCreateSession;},sessionIsExpired:function(d){if(!d.expires){return false;}else if(d.expires!==-1){var a=Math.round((new Date()).getTime()/1000);var b=d.expires;var c=!(b>a);return c;}return true;},defaultCreateSession:function(a,b){window.location=a._createLoginUrl();},getSessionFromSigParams:function(j){var h='fb_sig_session_key';var n='fb_sig_user';var d='fb_sig_expires';var f='fb_sig_ss';var b='fb_sig_base_domain';var l='fb_sig_cookie_sig';if(FB.Sys.containsKey(j,l)&&FB.Sys.containsKey(j,h)&&FB.Sys.containsKey(j,n)&&FB.Sys.containsKey(j,d)&&FB.Sys.containsKey(j,f)){var k=j[l];var m=j[n];var i=j[f];var g=j[h];var c=parseInt(j[d]);var a=j[b];if(k&&m&&i&&g&&c!==-1){var e=FB._create_SessionRecord(g,m,c,i,a,k);return e;}}return null;},_getSessionFromUrl:function(e){var d='session';var a=new FBIntern.Uri(e);if(FB.Sys.containsKey(a.get_queryParameters(),d)){var c=a.get_queryParameters()[d];return FB.JSON.deserialize(c);}var b=a.get_queryParameters();return FB.ApiClient.getSessionFromSigParams(b);}});

FB.provide('FB.ConnectState',{connected:1,userNotLoggedIn:2,appNotAuthorized:3});

FB.provide('FB.DialogType',{popUp:0,iframe:1,canvas:2});

FB.subclass('FB.XdComm.XdRpcClient','FB.Class',{init:function(rpcServerName,rpcClientName,serverEndPoint){this._requestQueue={};this._serverEndPoint=serverEndPoint;this._rpcClientName=(rpcClientName)?rpcClientName:FB.XdComm.Server.singleton.getUniqueHandlerName('rpcClient');this._rcpServerName=rpcServerName;FB.XdComm.Server.singleton.registerDataHandler(rpcClientName,FB.bind(this._onDataReceived,this));},send:function(methodName,arg,callback){FB.FBDebug.logLine(3,'XdRpcClient.Send: '+methodName);var request_id=this._idCount++;var request_data=[request_id,this._rpcClientName,methodName,arg,(callback)?true:false];this._requestQueue[request_id.toString()]=callback;FB.XdComm.Server.singleton.send(this._serverEndPoint,this._rcpServerName,request_data);},_onDataReceived:function(data,endPoint){var array=data;var requestId=array[0];var callback=this._requestQueue[requestId];if(callback){callback(array[1]);}},detachClient:function(){FB.XdComm.Server.singleton.unregisterDataHandler(this._rpcClientName);},_serverEndPoint:null,_rpcClientName:null,_rcpServerName:null,_idCount:0});

FB._create_XdRpcMethodInfo=function(method,asyncMethod){var o={};FB.FBDebug.assert((!method)^(!asyncMethod),'One and only one of method or asyncMethod parameters must not be null.');o.method=method;o.asyncMethod=asyncMethod;return o;};

FB.subclass('FB.XdComm.XdRpcServer','FB.Class',{init:function(rpcServerName,registeredMethodMap){if(registeredMethodMap){this.registeredMethodMap=registeredMethodMap;}
else{this.registeredMethodMap={};}
FB.XdComm.Server.singleton.registerDataHandler(rpcServerName,FB.bind(this._onDataReceived,this));},_onDataReceived:function(data,senderEndPoint){var requestData=data;if(requestData.length!==5){FB.FBDebug.logLine(1,'XdRpcServer.OnDataReceived: invalid parameters.');}
var requestId=requestData[0];var clientName=requestData[1];var methodName=requestData[2];var arg=requestData[3];var needResultBack=requestData[4];if(!FB.Sys.containsKey(this.registeredMethodMap,methodName)){FB.FBDebug.logLine(1,'XD RPC server: method '+methodName+' is not allowed or doesn\'t exist.');return;}
var methodInfo=this.registeredMethodMap[methodName];FB.FBDebug.logLine(3,'XdRpcServer.Received: '+methodName);if(methodInfo.method){var result=methodInfo.method(arg,senderEndPoint);if(needResultBack){FB.XdComm.Server.singleton.send(senderEndPoint,clientName,[requestId,result]);}}
else if(methodInfo.asyncMethod){methodInfo.asyncMethod(arg,FB.bind(function(result){if(needResultBack){FB.XdComm.Server.singleton.send(senderEndPoint,clientName,[requestId,result]);}},this),senderEndPoint);}
else{FB.FBDebug.logLine(1,'MethodInfo for '+methodName+' does not contain any function pointers.');}},registeredMethodMap:null});

FB.provide('FB._contentSizeMethod',{oldMethod:0,newOnlyForFbml:1,newMethod:2});
FB.subclass('FB.CanvasClient','FB.Class',{init:function(){}});FB.provide('FB.CanvasClient',{_onLoad:function(){FB.CanvasClient.serverReceiverUrl=FBIntern.Utility.getFacebookUrl((FBIntern.Utility.isSecure())?'ssl':'static.ak')+'xd_receiver_v0.4.php?r='+FBIntern.FbGlobals.get_fB_StaticResourceVersions().www_channel;FB.CanvasClient.allowWidthChange=false;FB.CanvasClient.__windowSizeChangedCallback=null;FB.CanvasClient._rpcClient=null;FB.CanvasClient._rpcServer=null;FB.CanvasClient._lastSize=FB._create_Size(-1,-1);FB.CanvasClient._timer=-1;FB.CanvasClient._timerInternal=100;FB.CanvasClient._modifyBodyStyle=true;FB.CanvasClient._urlHandler=FB.CanvasClient.defaultUrlHandler;FB.CanvasClient._allowCallback=null;FB.CanvasClient._cancelCallback=null;FB.CanvasClient._feedCallback=null;FB.CanvasClient._isRenderFbml=false;FB.CanvasClient._allowCallback=function(a){};FB.CanvasClient._cancelCallback=Delegate.Null;FB.CanvasClient._feedCallback=Delegate.Null;},_ensureRpcClient:function(){if(!FB.CanvasClient._rpcClient){var a=new FB.XdComm.EndPoint(null,FB.XdComm.PageRelation.parent,FB.CanvasClient.serverReceiverUrl);a.flashOrigin=FB.CanvasClient._flashOrigin;FB.CanvasClient._rpcClient=new FB.XdComm.XdRpcClient('iframeOuterServer','iframeInnerClient',a);}},run:function(){if(!FB.CanvasClient._rpcServer){var a={loadNewUrl:FB._create_XdRpcMethodInfo(FB.CanvasClient.loadNewUrl,null),loginResponse:FB._create_XdRpcMethodInfo(FB.CanvasClient.loginResponse,null),feedResponse:FB._create_XdRpcMethodInfo(FB.CanvasClient.feedResponse,null)};var b='iframeInnerServer';FB.CanvasClient._rpcServer=new FB.XdComm.XdRpcServer(b,a);FB.CanvasClient._rpcClient.send('setInnerReceiver',{receiverUrl:FB.XdComm.Server.singleton.get_receiverUrl()},null);}},get_timerInterval:function(){return FB.CanvasClient._timerInternal;},set_timerInterval:function(a){FB.CanvasClient._timerInternal=a;return a;},startTimerToSizeToContent:function(){FB.FBDebug.logLine(4,'CanvasClient: StartTimerToSizeToContent');FB.CanvasClient.setSizeToContent();if(FB.CanvasClient._timer===-1)FB.CanvasClient._timer=window.setInterval(FB.bind(FB.CanvasClient.setSizeToContent),FB.CanvasClient._timerInternal);},stopTimerToSizeToContent:function(){if(FB.CanvasClient._timer!==-1){window.clearInterval(FB.CanvasClient._timer);FB.CanvasClient._timer=-1;}},setSizeToContent:function(){if(FB.CanvasClient.get__isInDialog()){FB.CanvasClient._sizeDialogToContent();return;}var a=document.documentElement;if(FB.CanvasClient._modifyBodyStyle)a.style.overflow='hidden';var b=FB.CanvasClient._computeContentSize();if(FB.CanvasClient.allowWidthChange){if(b.w!==FB.CanvasClient._lastSize.w||b.h!==FB.CanvasClient._lastSize.h){FB.CanvasClient._lastSize=b;FB.CanvasClient._setCanvasSize(b.w.toString()+'px',b.h.toString()+'px',null);}}else if(b.h!==FB.CanvasClient._lastSize.h){FB.CanvasClient._lastSize=b;FB.CanvasClient.setCanvasHeight(b.h.toString()+'px',null);}},_sizeDialogToContent:function(){var b=FBIntern.Utility.get_windowSize();var a=FBIntern.Utility.get_documentSize();var c=a.h-b.h;var d=a.w-b.w;if(c||d){FB.FBDebug.logLine(2,FB.Sys.format('CanvasClient: resize dialog by ({0}, {1})',d,c));try{window.resizeBy(d,c);}catch(e1){FB.FBDebug.logLine(2,FB.Sys.format('CanvasClient: resize faield'));}}},setCanvasHeight:function(b,a){FB.FBDebug.logLine(2,'CanvasClient: set canvas height to '+b);FB.CanvasClient._ensureRpcClient();FB.CanvasClient._rpcClient.send('setCanvasHeight',b,a);},_setCanvasSize:function(c,b,a){FB.FBDebug.logLine(2,FB.Sys.format('CanvasClient: set canvas size to {0}, {1}',c,b));FB.CanvasClient._ensureRpcClient();FB.CanvasClient._rpcClient.send('setCanvasSize',{w:c,h:b},a);},getCanvasInfo:function(a){FB.CanvasClient._ensureRpcClient();FB.CanvasClient._rpcClient.send('getCanvasInfo',null,a);},scrollTo:function(b,c,a){FB.CanvasClient._ensureRpcClient();FB.CanvasClient._rpcClient.send('scrollTo',FB._create_Point(b,c),a);},changeUrlSuffix:function(b,a){FB.CanvasClient._ensureRpcClient();FB.CanvasClient._rpcClient.send('changeUrlSuffix',b,a);},syncUrl:function(){FB.CanvasClient._ensureRpcClient();var a=document.location;FB.CanvasClient._rpcClient.send('refreshUrl',a,null);FB.CanvasClient.run();},requireLogin:function(a,b){FB.CanvasClient._ensureRpcClient();FB.CanvasClient.run();FB.CanvasClient._allowCallback=a;FB.CanvasClient._cancelCallback=b;FB.CanvasClient._rpcClient.send('requireLogin',null,null);},closeLogin:function(){FB.CanvasClient._ensureRpcClient();FB.CanvasClient.run();FB.CanvasClient._rpcClient.send('closeLogin',null,null);},loginResponse:function(a,b){if(a){FB.CanvasClient._allowCallback(a);}else FB.CanvasClient._cancelCallback();return null;},showFeedDialog:function(e,f,b,d,c,h,g){FB.CanvasClient._ensureRpcClient();FB.CanvasClient.run();FB.CanvasClient._feedCallback=c;var a={template_bundle_id:e,template_data:f,body_general:b,target_id:d,user_message_prompt:h,user_message:g};FB.CanvasClient._rpcClient.send('showFeedDialog',a,null);},feedResponse:function(a,b){FB.CanvasClient._feedCallback();return null;},setUrlHandler:function(a){FB.CanvasClient._urlHandler=a;},loadNewUrl:function(a,b){var c=a;FB.FBDebug.logLine(2,FB.Sys.format('CanvasClient: set internal url to  {0}',c));FB.CanvasClient._urlHandler(c);return null;},defaultUrlHandler:function(a){window.location.replace(a);},go:function(a){FB.CanvasClient._ensureRpcClient();FB.CanvasClient._rpcClient.send('goURI',a,null);},add_windowSizeChanged:function(b){var a=FB.CanvasClient.__windowSizeChangedCallback;FB.CanvasClient.add__windowSizeChangedCallback(b);if(!a){FB.CanvasClient._ensureRpcClient();FB.CanvasClient._rpcClient.send('attachToWindowResizeEvent',null,FB.CanvasClient._onRpcCompleted);}},remove_windowSizeChanged:function(a){FB.CanvasClient.remove__windowSizeChangedCallback(a);},_onRpcCompleted:function(a){if(FB.CanvasClient.__windowSizeChangedCallback)FB.CanvasClient.__windowSizeChangedCallback(a);},_computeContentSize:function(){var a=document.body;var g=document.documentElement;var i=0;var b;var f=FBIntern.Utility.getSiteVar('canvas_client_compute_content_size_method',FB._contentSizeMethod.oldMethod);if((f===FB._contentSizeMethod.newOnlyForFbml&&FB.CanvasClient._isRenderFbml)||f===FB._contentSizeMethod.newMethod){b=Math.max(Math.max(a.offsetHeight,a.scrollHeight)+a.offsetTop,Math.max(g.offsetHeight,g.scrollHeight)+g.offsetTop);}else{if(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.IE){b=Math.max(a.offsetHeight,a.scrollHeight)+a.offsetTop;}else b=g.offsetHeight+g.offsetTop;if(window.Dialog)b=Math.max(b,Dialog.max_bottom);}if(FB.CanvasClient.allowWidthChange){if(a.offsetWidth<a.scrollWidth){i=a.scrollWidth+a.offsetLeft;}else{var e=a.childNodes;i=0;for(var h=0;h<e.length;h++){var c=e[h];var d=c.offsetWidth+c.offsetLeft;if(d>i)i=d;}}if(g.clientLeft>0)i+=(g.clientLeft*2);if(g.clientTop>0)b+=(g.clientTop*2);}return FB._create_Size(i,b);},get__isInDialog:function(){return window.opener&&window.opener!==window.self;},add__windowSizeChangedCallback:function(a){FB.CanvasClient.__windowSizeChangedCallback=FB.Delegate.combine(FB.CanvasClient.__windowSizeChangedCallback,a);},remove__windowSizeChangedCallback:function(a){FB.CanvasClient.__windowSizeChangedCallback=FB.Delegate.remove(FB.CanvasClient.__windowSizeChangedCallback,a);}});
FB.subclass('FB.IFrameUtil._resizeUtil','FB.Class',{init:function(a){this.allowWidthChange=a;},setCanvasHeight:function(a,d){var b=a;FB.FBDebug.logLine(2,'ResizeUtil: set canvas height to '+b);if(!b){FB.FBDebug.logLine(1,'Called ResizeUtil.SetCanvasHeight() with invalid input paramters.');}else{var c=this.getIFrameElement(d.frameName);if(c)this.resizeIframe(c,null,b);}return null;},setCanvasSize:function(a,e){var d=a;var f=d.w;var b=d.h;FB.FBDebug.logLine(2,FB.Sys.format('ResizeUtil: set canvas size to {0}, {1}',f,b));if(b){var c=this.getIFrameElement(e.frameName);if(c)this.resizeIframe(c,null,b);}if(f)if(this.allowWidthChange){var c=this.getIFrameElement(e.frameName);if(c)this.resizeIframe(c,f,null);}else FB.FBDebug.logLine(1,'Iframe width change is disallowed.');return null;},getIFrameElement:function(d){var c=document.getElementsByTagName('iframe');for(var a=0;a<c.length;a++){var b=c[a];if(b.name===d)return b;}return null;},resizeIframe:function(b,c,a){if(b.resizeHandler){b.resizeHandler((c==null)?null:parseInt(c),(a==null)?null:parseInt(a));}else{if(c!=null)b.style.width=c;if(a!=null)b.style.height=a;}},allowWidthChange:false});
FB.subclass('FB.IFrameUtil._canvasUtil','FB.IFrameUtil._resizeUtil',{init:function(_L0){this._super(_L0);},getCanvasInfo:function(arg,_L1){var _L2=this.getIFrameElement(_L1.frameName);if(_L2){var _L3=Vector2.getViewportDimensions();var _L4=Vector2.getDocumentDimensions();var _L5=Vector2.getScrollPosition(null);var _L6=Vector2.getElementPosition(_L2,'document');var _L7={window:{w:_L3.x,h:_L3.y},page:{w:_L4.x,h:_L4.y},scrollPos:{x:_L5.x,y:_L5.y},canvas:{w:_L2.offsetWidth,h:_L2.offsetHeight},canvasPos:{x:_L6.x,y:_L6.y}};return _L7;}else return null;},changeUrlSuffix:function(arg,_L1){var _L2=arg;PlatformCanvasController.singleton.changeUrlSuffix(_L2,false);return null;},refreshUrl:function(arg,_L1){var url=arg;PlatformCanvasController.refreshUrl(url);return null;},scrollTo:function(arg,_L1){var pos=arg;var _L3=new Vector2(pos.x,pos.y,'document');DOMScroll.scrollTo(_L3,false);return null;},attachToWindowResizeEvent:function(arg,_L1,_L2){this.add_windowSizeChangedCallback(_L1);FBIntern.Utility.addEventListener(window.self,'resize',FB.bind(function(e){if(this.__windowSizeChangedCallback){var _L4=this.getCanvasInfo(null,_L2);this.__windowSizeChangedCallback(_L4);}},this));},requireLogin:function(arg,_L1,_L2){PlatformCanvasController.singleton.requireLogin();},goURI:function(arg,_L1,_L2){var url=arg;PlatformCanvasController.singleton.goURI(url);},closeLogin:function(arg,_L1,_L2){PlatformCanvasController.singleton.closeLogin();},showFeedDialog:function(arg,_L1,_L2){var _L3=arg;PlatformCanvasController.singleton.showFeedDialog(_L3['template_bundle_id'],_L3['template_data'],_L3['body_general'],_L3['target_id'],_L3['user_message_prompt'],_L3['user_message']);},add_windowSizeChangedCallback:function(_L0){this.__windowSizeChangedCallback=FB.Delegate.combine(this.__windowSizeChangedCallback,_L0);},remove_windowSizeChangedCallback:function(_L0){this.__windowSizeChangedCallback=FB.Delegate.remove(this.__windowSizeChangedCallback,_L0);},__windowSizeChangedCallback:null});
FB.subclass('FB.IFrameUtil.CanvasUtilServer','FB.Class',{init:function(){}});FB.provide('FB.IFrameUtil.CanvasUtilServer',{_onLoad:function(){FB.IFrameUtil.CanvasUtilServer._rpcServer=null;FB.IFrameUtil.CanvasUtilServer._rpcClient=null;FB.IFrameUtil.CanvasUtilServer._canvasUtil=null;},run:function(a,b){FB.IFrameUtil.CanvasUtilServer.iframeName=b;if(!FB.IFrameUtil.CanvasUtilServer._rpcServer){FB.IFrameUtil.CanvasUtilServer._canvasUtil=new FB.IFrameUtil._canvasUtil(a);var c={setCanvasHeight:FB._create_XdRpcMethodInfo(FB.bind(FB.IFrameUtil.CanvasUtilServer._canvasUtil.setCanvasHeight,FB.IFrameUtil.CanvasUtilServer._canvasUtil),null),setCanvasSize:FB._create_XdRpcMethodInfo(FB.bind(FB.IFrameUtil.CanvasUtilServer._canvasUtil.setCanvasSize,FB.IFrameUtil.CanvasUtilServer._canvasUtil),null),getCanvasInfo:FB._create_XdRpcMethodInfo(FB.bind(FB.IFrameUtil.CanvasUtilServer._canvasUtil.getCanvasInfo,FB.IFrameUtil.CanvasUtilServer._canvasUtil),null),scrollTo:FB._create_XdRpcMethodInfo(FB.bind(FB.IFrameUtil.CanvasUtilServer._canvasUtil.scrollTo,FB.IFrameUtil.CanvasUtilServer._canvasUtil),null),changeUrlSuffix:FB._create_XdRpcMethodInfo(FB.bind(FB.IFrameUtil.CanvasUtilServer._canvasUtil.changeUrlSuffix,FB.IFrameUtil.CanvasUtilServer._canvasUtil),null),refreshUrl:FB._create_XdRpcMethodInfo(FB.bind(FB.IFrameUtil.CanvasUtilServer._canvasUtil.refreshUrl,FB.IFrameUtil.CanvasUtilServer._canvasUtil),null),setInnerReceiver:FB._create_XdRpcMethodInfo(FB.IFrameUtil.CanvasUtilServer.setInnerReceiver,null),attachToWindowResizeEvent:FB._create_XdRpcMethodInfo(null,FB.bind(FB.IFrameUtil.CanvasUtilServer._canvasUtil.attachToWindowResizeEvent,FB.IFrameUtil.CanvasUtilServer._canvasUtil)),requireLogin:FB._create_XdRpcMethodInfo(null,FB.bind(FB.IFrameUtil.CanvasUtilServer._canvasUtil.requireLogin,FB.IFrameUtil.CanvasUtilServer._canvasUtil)),closeLogin:FB._create_XdRpcMethodInfo(null,FB.bind(FB.IFrameUtil.CanvasUtilServer._canvasUtil.closeLogin,FB.IFrameUtil.CanvasUtilServer._canvasUtil)),goURI:FB._create_XdRpcMethodInfo(null,FB.bind(FB.IFrameUtil.CanvasUtilServer._canvasUtil.goURI,FB.IFrameUtil.CanvasUtilServer._canvasUtil)),showFeedDialog:FB._create_XdRpcMethodInfo(null,FB.bind(FB.IFrameUtil.CanvasUtilServer._canvasUtil.showFeedDialog,FB.IFrameUtil.CanvasUtilServer._canvasUtil))};FB.FBDebug.assert(FB.XdComm.Server.singleton.get_receiverUrl(),'FB.XdComm.Server not initialized');FB.IFrameUtil.CanvasUtilServer._rpcServer=new FB.XdComm.XdRpcServer('iframeOuterServer',c);}else if(a&&!FB.IFrameUtil.CanvasUtilServer._canvasUtil.allowWidthChange)FB.IFrameUtil.CanvasUtilServer._canvasUtil.allowWidthChange=true;},setInnerReceiver:function(a,c){var b=a;FB.FBDebug.logLine(2,FB.Sys.format('CanvasClient: set innner url to  {0}',b.receiverUrl));FB.IFrameUtil.CanvasUtilServer.refreshRpcClient(b.receiverUrl);return null;},loadNewUrl:function(a){FB.IFrameUtil.CanvasUtilServer.ensureRpcClient();FB.IFrameUtil.CanvasUtilServer._rpcClient.send('loadNewUrl',a,null);},loginResponse:function(a,b){FB.IFrameUtil.CanvasUtilServer.ensureRpcClient();if(!a){FB.IFrameUtil.CanvasUtilServer._rpcClient.send('loginResponse',null,null);}else FB.IFrameUtil.CanvasUtilServer._rpcClient.send('loginResponse',b,null);},feedResponse:function(){FB.IFrameUtil.CanvasUtilServer.ensureRpcClient();FB.IFrameUtil.CanvasUtilServer._rpcClient.send('feedResponse',null,null);},refreshRpcClient:function(a){FB.FBDebug.assert(a,'Inner receiver url is null.');if(FB.IFrameUtil.CanvasUtilServer._rpcClient)FB.IFrameUtil.CanvasUtilServer._rpcClient.detachClient();var b=new FB.XdComm.EndPoint(FB.IFrameUtil.CanvasUtilServer.iframeName,FB.XdComm.PageRelation.child,a);b.UID=Math.floor(Math.random()*1e+06);FB.IFrameUtil.CanvasUtilServer._rpcClient=new FB.XdComm.XdRpcClient('iframeInnerServer','iframeOuterClient',b);},ensureRpcClient:function(){FB.FBDebug.assert(FB.IFrameUtil.CanvasUtilServer._rpcClient,'Inner iframe server not ready.');}});

FB.subclass('FB.IFrameUtil.ResizeUtilServer','FB.Class',{init:function(){}});FB.provide('FB.IFrameUtil.ResizeUtilServer',{run:function(){FB.IFrameUtil.CanvasUtilServer.run(true);}});
FB.provide('FBIntern.Intl',{_tx:function(f,a){function b(g){if(typeof g!='string')return false;return g.match(new RegExp(b.punct_char_class+'['+')"'+"'"+'\u00BB'+'\u0F3B'+'\u0F3D'+'\u2019'+'\u201D'+'\u203A'+'\u3009'+'\u300B'+'\u300D'+'\u300F'+'\u3011'+'\u3015'+'\u3017'+'\u3019'+'\u301B'+'\u301E'+'\u301F'+'\uFD3F'+'\uFF07'+'\uFF09'+'\uFF3D'+'\s'+']*$'));}b.punct_char_class='['+'.!?'+'\u3002'+'\uFF01'+'\uFF1F'+'\u0964'+'\u2026'+'\u0EAF'+'\u1801'+'\u0E2F'+'\uFF0E'+']';function c(p){var o=window.intl_locale_rewrites;var l;if(o!==undefined){var k=[];var n=[];for(var i in o.patterns){var j=i;var m=o.patterns[i];for(var h in o.meta){l=new RegExp(h.slice(1,-1),'g');j=j.replace(l,o.meta[h]);m=m.replace(l,o.meta[h]);}l=new RegExp("\\+",'g');k[k.length]=j.replace(l,'\x01');n[n.length]=m.replace(l,'\x01');}for(var g=0;g<k.length;g++){l=new RegExp(k[g].slice(1,-1),'g');p=p.replace(l,n[g]);}}l=new RegExp('\x01','g');p=p.replace(l,'');return p;}if(a!==undefined)if(typeof a!='object'){FB.Debug.writeLine('intl.js: the 2nd argument must be a keyed array (not a string) for tx('+f+', ...)');}else{var e;for(var d in a){if(b(a[d])){e=new RegExp('\{'+d+'\}'+b.punct_char_class+'*','g');}else e=new RegExp('\{'+d+'\}','g');f=f.replace(e,'\x01'+a[d]+'\x01');}f=c(f);}return f;},tx:function(b,a){function c(e,d){if(typeof _string_table=='undefined')return null;e=_string_table[e];return FBIntern.Intl._tx(e,d);}}});
FB.subclass('FB.UI.UIElement','FB.Class',{init:function(){},get_domElement:function(){return this._domElement;},set_domElement:function(_L0){this._domElement=_L0;return _L0;},setLeft:function(_L0){if(FB.localeIsRTL){this._domElement.style.right=_L0.toString()+'px';}else this._domElement.style.left=_L0.toString()+'px';},setTop:function(top){this._domElement.style.top=top.toString()+'px';},_domElement:null});FB.provide('FB.UI.UIElement',{addCssClass:function(_L0,_L1){var _L2=' '+_L0.className+' ';var _L3=' '+_L1+' ';if(_L2.indexOf(_L3)<0)_L0.className=_L0.className+' '+_L1;},containsCssClass:function(_L0,_L1){var _L2=' '+_L0.className+' ';return _L2.indexOf(' '+_L1+' ')>=0;},removeCssClass:function(_L0,_L1){var _L2=' '+_L0.className+' ';var _L3=' '+_L1+' ';var _L4=_L2.indexOf(_L3);if(_L4>=0){var _L5=_L2.substring(1,_L4)+_L2.substring(_L4+_L3.length,_L2.length-1);_L0.className=_L5;}}});

FB.provide('FB.UI.PopupPlacement',{center:1,topCenter:2,hidden:3});
FB.subclass('FB.UI.Popup','FB.UI.UIElement',{init:function(){this._placement=FB.UI.PopupPlacement.center;this._offset=FB._create_Point(0,0);this._popupHeight=-1;this._popupWidth=-1;this._super();},setContentWidth:function(a){this._popupWidth=a+FB.UI.Popup._borderSize;},setContentHeight:function(a){this._popupHeight=a+FB.UI.Popup._borderSize;},getContentWidth:function(){if(this._popupWidth<0)return -1;return this._popupWidth-FB.UI.Popup._borderSize;},getContentHeight:function(){if(this._popupHeight<0)return -1;return this._popupHeight-FB.UI.Popup._borderSize;},show:function(){if(!this._loadedInDom){FB.UI.UIElement.addCssClass(this.get_domElement(),'fb_popup');FB.UI.Popup.get__popupContainer().appendChild(this.get_domElement());this._loadedInDom=true;}this.sizing();this.onAfterShow();},sizing:function(){if(!this._loadedInDom)return false;if(this._popupWidth>=0)this.get_domElement().style.width=this._popupWidth.toString()+'px';if(this._popupHeight>=0)this.get_domElement().style.height=this._popupHeight.toString()+'px';var c=FB._create_Size(this.get_domElement().offsetWidth,this.get_domElement().offsetHeight);var b=null;var f=FBIntern.Utility.get_windowSize();var d=document.documentElement;var a=(this.hidden)?FB.UI.PopupPlacement.hidden:this.get_placement();var e;if(document.documentElement&&document.documentElement.scrollTop>0){e=document.documentElement.scrollTop;}else e=document.body.scrollTop;switch(a){case FB.UI.PopupPlacement.topCenter:b=FB._create_Point(d.scrollLeft+f.w/2,e+125);b.x-=(c.w/2);break;case FB.UI.PopupPlacement.center:b=FB._create_Point(d.scrollLeft+f.w/2,e+f.h/2);b.x-=(c.w/2);b.y-=(c.h/2);break;case FB.UI.PopupPlacement.hidden:b=FB._create_Point(-100-c.w,-100-c.h);break;}b.x+=this._offset.x;b.y+=this._offset.y;if(b.x<0)b.x=0;if(b.y<0&&a!==FB.UI.PopupPlacement.hidden)b.y=0;this.setLeft(b.x);this.setTop(b.y);return true;},onAfterShow:function(){},close:function(b){if(this.__closing)this.__closing(b);if(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()!==FBIntern.HostName.IE){FB.UI.Popup.get__popupContainer().removeChild(this.get_domElement());}else{var a=this.get_domElement();a.style.display='none';window.setTimeout(FB.bind(function(){if(a.parentNode)a.parentNode.removeChild(a);},this),4000);}if(this.__closed)this.__closed(b);},get_placementTarget:function(){return this._placementTarget;},set_placementTarget:function(a){this._placementTarget=a;return a;},get_offset:function(){return this._offset;},set_offset:function(a){this._offset=a;return a;},get_placement:function(){return this._placement;},set_placement:function(a){this._placement=a;return a;},add_closing:function(a){this.__closing=FB.Delegate.combine(this.__closing,a);},remove_closing:function(a){this.__closing=FB.Delegate.remove(this.__closing,a);},__closing:null,add_closed:function(a){this.__closed=FB.Delegate.combine(this.__closed,a);},remove_closed:function(a){this.__closed=FB.Delegate.remove(this.__closed,a);},__closed:null,_placementTarget:null,_loadedInDom:false,hidden:false});FB.provide('FB.UI.Popup',{_onLoad:function(){FB.UI.Popup._borderSize=20;FB.UI.Popup._popupContainer=null;},get__popupContainer:function(){if(!FB.UI.Popup._popupContainer){FB.UI.Popup._popupContainer=FB.$('fb_popupContainer');if(!FB.UI.Popup._popupContainer){var a=document.createElement('div');a.className='fb_resetstyles fb_popupContainer';FB.UI.Popup._popupContainer=document.body.appendChild(a);}}else FB.UI.Popup._popupContainer=document.body.appendChild(FB.UI.Popup._popupContainer);return FB.UI.Popup._popupContainer;}});
FB.subclass('FB.UI.DomResources','FB.Class',{init:function(){}});FB.provide('FB.UI.DomResources',{_onLoad:function(){FB.UI.DomResources._dicts=[];},addResourceDict:function(_L0){FB.Sys.add(FB.UI.DomResources._dicts,_L0);},getResourceById:function(id){var c=FB.UI.DomResources._dicts.length;var _L2;for(var i=0;i<c;i++){_L2=((FB.UI.DomResources._dicts[i])).getClonedElement(id);if(_L2)return _L2;}return null;}});
FB.subclass('FBIntern.UIHelper','FB.Class',{init:function(){}});FB.provide('FBIntern.UIHelper',{findElementById:function(_L0,id){if(_L0.id===id)return _L0;var c=_L0.childNodes.length;for(var i=0;i<c;i++){var _L4=_L0.childNodes[i];var _L5=FBIntern.UIHelper.findElementById(_L4,id);if(_L5)return _L5;}return null;}});
FB.subclass('FB.UI.PopupDialog','FB.UI.Popup',{init:function(e,b,d,c){this._super();this._content=b;this._showLoading=d;if(c)this.hidden=true;this.set_domElement(FB.UI.DomResources.getResourceById('fb_pop_dialog_table'));this._contentParent=FBIntern.UIHelper.findElementById(this.get_domElement(),'fb_dialog_content');this._header=FBIntern.UIHelper.findElementById(this.get_domElement(),'fb_dialog_header');this._header.innerHTML=FB.Sys.htmlEncode(e);var a=FBIntern.UIHelper.findElementById(this.get_domElement(),'fb_dialog_cancel_button');this._loader=FBIntern.UIHelper.findElementById(this.get_domElement(),'fb_dialog_loading_spinner');if(a)FBIntern.Utility.addEventListener(a,'click',FB.bind(this._onCloseButtonClicked,this));if(b)this._contentParent.appendChild(b);this._content.resizeHandler=FB.bind(function(i,h){if(i!=null){var g=parseInt(this._content.style.width);if(isNaN(g)||this.getContentWidth()<0){content_width=i+this._header.offsetWidth+FB.UI.PopupDialog._horizontalBorderSize;this.setContentWidth(content_width);}else if(i>g)this.setContentWidth(i-g+this.getContentWidth());}if(h!=null){var f=parseInt(this._content.style.height);if(isNaN(f)||this.getContentHeight()<0){content_height=h+this._header.offsetHeight+FB.UI.PopupDialog._verticalBorderSize;this.setContentHeight(content_height);}else if(h>=f)this.setContentHeight(h-f+this.getContentHeight());}this.sizing();},this);},sizing:function(){var a=this._super();if(!a)return false;if(this.getContentWidth()>=0){width=this.getContentWidth()-FB.UI.PopupDialog._horizontalBorderSize;this._content.style.width=width+'px';}if(this.getContentHeight()>=0){height=this.getContentHeight()-this._header.offsetHeight-FB.UI.PopupDialog._verticalBorderSize;this._content.style.height=height+'px';}return true;},_onCloseButtonClicked:function(a){this.close(false);},get__content:function(){return this._content;},set__content:function(a){if(this._content)this._contentParent.removeChild(this._content);this._content=a;this._contentParent.appendChild(this._content);return a;},get_id:function(){if(!this._id){if(!FB.UI.PopupDialog._dialogWithIds)FB.UI.PopupDialog._dialogWithIds={};this._id=FB.Sys.getKeyCount(FB.UI.PopupDialog._dialogWithIds).toString()+'_'+Math.random().toString();FB.UI.PopupDialog._dialogWithIds[this._id]=this;FB.UI.PopupDialog._enableXdTitleChange();}return this._id;},get__title:function(){this._header=FBIntern.UIHelper.findElementById(this.get_domElement(),'fb_dialog_header');return this._header.innerHTML;},set__title:function(a){this._header=FBIntern.UIHelper.findElementById(this.get_domElement(),'fb_dialog_header');this._header.innerHTML=FB.Sys.htmlEncode(a);return a;},_createCrossDomainClosingLink:function(c){if(!FB.XdComm.Server.singleton.isDataHandlerRegistered('fbClosingDialog'))FB.XdComm.Server.singleton.registerDataHandler('fbClosingDialog',FB.UI.PopupDialog._onXdClosingDialogHandler);var a={token:this.get_id(),result:c};var b=new FB.XdComm.EndPoint(null,FB.XdComm.PageRelation.self,FB.XdComm.Server.singleton.get_receiverUrl());return FB.XdComm.Server.singleton.createUdpUrl('fbClosingDialog',a,b);},onAfterShow:function(){if(this._showLoading){FB.UI.UIElement.addCssClass(this._loader,'fb_dialog_loading');FBIntern.Utility.waitForLoaded(this._content,FB.bind(function(){FB.UI.UIElement.removeCssClass(this._loader,'fb_dialog_loading');if(this.hidden){this.hidden=false;this.sizing();}},this));}},_content:null,_contentParent:null,_header:null,_loader:null,_id:null,_showLoading:false});FB.provide('FB.UI.PopupDialog',{_onLoad:function(){FB.UI.PopupDialog._dialogWithIds=null;FB.UI.PopupDialog._rpcServer=null;FB.UI.PopupDialog._horizontalBorderSize=2;FB.UI.PopupDialog._verticalBorderSize=3;},_createConfirmationDialog:function(f,e,a){var d=new FB.UI.PopupDialog(f,e,false,false);d.add_closing(a);var c=FBIntern.UIHelper.findElementById(e,'fb_confirm');var b=FBIntern.UIHelper.findElementById(e,'fb_cancel');if(c)FBIntern.Utility.addEventListener(c,'click',function(g){d.close(true);});if(b)FBIntern.Utility.addEventListener(b,'click',function(g){d.close(false);});return d;},getById:function(a){if(FB.UI.PopupDialog._dialogWithIds)return FB.UI.PopupDialog._dialogWithIds[a];return null;},_enableXdTitleChange:function(){if(!FB.UI.PopupDialog._rpcServer)FB.UI.PopupDialog._rpcServer=new FB.XdComm.XdRpcServer('popupDialogServer',{changeTitle:FB._create_XdRpcMethodInfo(FB.UI.PopupDialog._rpcChangeTitle,null)});},_rpcChangeTitle:function(a,e){var b=a;var d=b.id;var c=FB.UI.PopupDialog.getById(d);if(c){c.set__title((b.title));}else FB.FBDebug.logLine(0,'Ignore changeTitle rpc request because we can\'t find the given dialog id = '+d);return null;},_onXdClosingDialogHandler:function(a,e){var c=a;var f=c.token;var d=c.result;var b=FB.UI.PopupDialog.getById(f);if(b){FB.FBDebug.logLine(3,'Close dialog');b.close(d);}else FB.FBDebug.logLine(1,'Invalid token to close dialog: '+f);}});

FB.provide('FB.FeedStorySetting',{preview:1,autoaccept:2,doNotSend:3});

FB._create_UserInfoRecord=function(connect_state,one_line_setting,short_setting,in_facebook){var o={};o.connectState=connect_state;o.oneLineStorySetting=one_line_setting;o.shortStorySetting=short_setting;o.inFacebook=in_facebook;return o;};

FB.provide('FB.RequireConnect',{doNotRequire:0,require:1,promptConnect:2});
FB.subclass('FB.UI.DomResDict','FB.Class',{init:function(_L0){this._docFragment=document.createDocumentFragment();var _L1=document.createElement('div');_L1.innerHTML=_L0;this._docFragment.appendChild(_L1);},getClonedElement:function(id){var _L1=FB.UI.DomResDict._getElementInFragment(this._docFragment,'RES_ID_'+id);if(_L1){return _L1.cloneNode(true);}else return null;},_docFragment:null});FB.provide('FB.UI.DomResDict',{_getElementInFragment:function(_L0,id){if(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.IE){return _L0.getElementById(id);}else{var _L2=[];var _L3=_L0.childNodes;var _L4;var c;for(c=0;c<_L3.length;c++){_L4=_L3[c];if(_L4.nodeType==1)_L2[_L2.length]=_L4;}while(_L2.length){_L4=_L2.shift();if(_L4.id==id)return _L4;_L3=_L4.childNodes;if(_L3.length!=0)for(c=0;c<_L3.length;c++){_L4=_L3[c];if(_L4.nodeType==1)_L2.push(_L4);}}return null;}}});

FB.subclass('FB.Helper','FB.Class',{init:function(){}});FB.provide('FB.Helper',{invokeAsCallbackOrRedirect:function(obj){if(!obj){return;}
if(FB.Sys.isAssignableFrom(FB.Type.getInstanceType(obj),String)){window.location=obj;;}
else{var callback=obj;var session=FB.Facebook.apiClient.get_session();callback((session)?session.uid:null);}}});
FB.subclass('FB.UI.FBMLPopupDialog','FB.UI.PopupDialog',{init:function(c,b){var a=document.createElement('div');this._super(c,a,false,false);this.setFBMLContent(b);},setFBMLContent:function(a){this.get__content().setAttribute('fbml','<fb:fbml>'+a+'</fb:fbml>');},setContentWidth:function(a){this._super(a);this.get__content().setAttribute('iframeWidth',a.toString()+'px');},setContentHeight:function(a){this._super(a);this.get__content().setAttribute('iframeHeight',a.toString()+'px');this.get_offset().y=-a/2;},onAfterShow:function(){this._super();var a=this.get__content();FB.Bootstrap._requireFeatures(['XFBML'],function(){serverFbml=new FB.XFBML.ServerFbml(a);FB.XFBML.Host.addElement(serverFbml);});}});

FB.provide('FB.FeedStorySize',{oneLine:1,shortStory:2,full:4});

FB.subclass('FB.SequencerBase','FB.Class',{init:function(){},_completedCallback:null,isParallel:true,_api:null});

FB._create__stepInfo=function(jsonRequest,pendingResult){var o={};o.jsonRequest=jsonRequest;o.result=pendingResult;return o;};

FB.subclass('FB.BatchSequencer','FB.SequencerBase',{init:function(){this.stepsList=[];this._super();},execute:function(completedCallback){this._completedCallback=completedCallback;var stepsCount=this.stepsList.length;if(stepsCount>1){var parameters={};var methodFeed=[];var enum1=new FB.ArrayEnumerator(this.stepsList);while(enum1.moveNext()){var stepInfo=enum1.get_current();FB.Sys.add(methodFeed,stepInfo.jsonRequest._requestBody);}
parameters['method_feed']=methodFeed;parameters['serial_only']=!this.isParallel;var batchRequest=this._api._generateJsonRequest('batch.run',parameters);batchRequest.callback=FB.bind(function(result,exception){if(!exception&&(exception=this._api._checkError(result))){result=null;}
this._setStepResults(result,exception);this.onAllCompleted();},this);batchRequest.sendRequest();}
else if(stepsCount===1){var stepInfo=this.stepsList[0];stepInfo.jsonRequest.callback=FB.bind(function(result,exception){stepInfo.result.setPendingResult(result,exception);this.onAllCompleted();},this);stepInfo.jsonRequest.sendRequest();}
else{this.onAllCompleted();}},_setStepResults:function(batchResult,exception){var batchResultList=batchResult;FB.FBDebug.assert(!batchResultList||batchResultList.length===this.stepsList.length,'Malformed batch result');var stepsCount=this.stepsList.length;for(var i=0;i<stepsCount;i++){var pendingResult=(this.stepsList[i]).result;if(exception){pendingResult.exception=exception;pendingResult.result=null;}
else if(batchResultList){var individualResultString=batchResultList[i];var individualResult=FB.JSON.deserialize(individualResultString,true);pendingResult.setPendingResult(individualResult,null);}}},onAllCompleted:function(){FB.Sys.clear(this.stepsList);if(this._completedCallback){var callback=this._completedCallback;this._completedCallback=null;callback();}},_addStep:function(jsonRequest,pendingResult){var stepInfo=FB._create__stepInfo(jsonRequest,pendingResult);FB.Sys.add(this.stepsList,stepInfo);}});

FB.subclass('FB.ImmediateSequencer','FB.BatchSequencer',{init:function(callback){this._super();this.isParallel=false;this._callback=callback;},_addStep:function(jsonRequest,pendingResult){this.pendingResult=pendingResult;this._super(jsonRequest,pendingResult);this.execute(null);},onAllCompleted:function(){FB.Sys.clear(this.stepsList);if(this._callback){this._callback(this.pendingResult.result,this.pendingResult.exception);}},pendingResult:null,_callback:null});

FB.subclass('FB.FeedDialogInfo','FB.Class',{init:function(parameters,callback,showLoginDialog,userMessageObj){this.parameters=parameters;this.callback=callback;this.showLoginDialog=showLoginDialog;this.userMessageObj=userMessageObj;},parameters:null,callback:null,showLoginDialog:false,userMessageObj:null});
FB.subclass('FB.SessionDialog','FB.Class',{init:function(){this._connect=FB.Connect._singleton;this._timerId=-1;this._channelUrl=FB.XdComm.Server.singleton.get_receiverUrl();this._cancelChannelUrl=FB.XdComm.Server.singleton.get_receiverUrl();this._apiKey=FB.Facebook.apiKey;this._initializeSession=true;},setIsUserActionHint:function(a){this._isUserActionHint=a;return this;},setUseBrowserPopup:function(a){return this;},setTarget:function(a){this._overrideTarget=a;return this;},setInitializeSession:function(a){this._initializeSession=a;return this;},setChannelUrl:function(a){this._channelUrl=a;return this;},setCancelChannelUrl:function(a){this._cancelChannelUrl=a;return this;},setApiKey:function(a){this._apiKey=a;return this;},_onCancelLoginHandler:function(a,b){this._cancelCallback();},_cancelCallback:function(){if(this.__cancelled)this.__cancelled();this.destroy(true);},_sessionCallback:function(){if(!this._session)this._session=FB.Facebook.apiClient.get_session();if(this.__sessionGranted)this.__sessionGranted(this._session);this.destroy();},_handleSession:function(a,b){switch(a){case FB.ConnectState.userNotLoggedIn:this._show(false,b,true);break;case FB.ConnectState.appNotAuthorized:this._show(true,b,true);break;default:break;}},_ensureHandlers:function(){if(!FB.XdComm.Server.singleton.isDataHandlerRegistered('fbLogin'))FB.XdComm.Server.singleton.registerDataHandler('fbLogin',FB.bind(this._onLoginHandler,this));if(!FB.XdComm.Server.singleton.isDataHandlerRegistered('fbCancelLogin'))FB.XdComm.Server.singleton.registerDataHandler('fbCancelLogin',FB.bind(this._onCancelLoginHandler,this));},_onLoginHandler:function(a,b){this._close();var e=FB.Connect._singleton;var c=a;var d=(a).split('&');this._session=FB.JSON.deserialize(d[0],true);if(this._initializeSession){this._connect._setupSession(this._session);}else this._sessionCallback();},_show:function(c,b,a){this._ensureHandlers();if(FB.Facebook.get_isInCanvas()){this._showCanvasDialog();}else{var d=this._createLoginUrl((c)?'tos.php':'login.php');if(b||!a)this._showBrowserPopup(d,c);if(!this._authWindow){FB.FBDebug.logLine(1,'Popup got blocked');if(a){this._showPopupBlockedWarning(FB.bind(function(){this._show(c,true,false);},this));}else FB.Facebook.apiClient.requireLogin(null);}}if(FB.Facebook.apiClient)FB.Facebook.apiClient.get_sessionWaitable().waitUntilReady(FB.bind(this._connect._apiClient_SessionReady,this._connect));},_showPopupBlockedWarning:function(a){var h=FBIntern.FbGlobals.get_fB_StaticResourceVersions();var f=h.login_img_white_medium_long;var d=document.createElement('div');d.innerHTML=('<div class="fb_popup_blocked">'+'<div class="fb_confirmation_stripes"></div>'+'<div class="fb_popup_blocked_inner">'+FBIntern.Intl._tx("This site requires that you Connect with Facebook.")+'<img id="fb_popup_blocked_connect" src="'+f+'" />'+'</div>'+'<div class="fb_popup_blocked_buttons">'+'<input id="fb_popup_blocked_cancel" '+'type="button" '+'value="Cancel" />'+'</div>'+'</div>');var g=FB.bind(function(i){this._warningDialog=null;if(!i)this._cancelCallback();},this);var e=new FB.UI.PopupDialog(FBIntern.Intl._tx("Connect with Facebook to Continue"),d,false,false);e.add_closing(g);var c=FBIntern.UIHelper.findElementById(d,'fb_popup_blocked_connect');FBIntern.Utility.addEventListener(c,'click',FB.bind(function(i){e.close(true);a();},this));var b=FBIntern.UIHelper.findElementById(d,'fb_popup_blocked_cancel');FBIntern.Utility.addEventListener(b,'click',FB.bind(function(i){e.close(false);},this));this._warningDialog=e;e.show();},_showCanvasDialog:function(){if(this._isActive){this._dialogType=FB.DialogType.canvas;this._fbmlDialog=true;FB.CanvasClient.requireLogin(FB.bind(function(a){this._session=a;if(this._initializeSession)this._connect._setupSession(this._session);this._sessionCallback();},this),FB.bind(this._cancelCallback,this));}},_showBrowserPopup:function(e,b){var f=FBIntern.Utility.get_windowLocation();var g=FBIntern.Utility.get_windowSize();var d=FB._create_Size(627,326);var c=FB._create_Point(Math.max(0,f.x+(g.w-d.w)/2),Math.max(0,f.y+(g.h-d.h)/2));this._close();if(this._isActive){this._dialogType=FB.DialogType.popUp;var a=FB.Sys.format('location=yes,left={0},top={1},width={2},height={3},resizable=yes',c.x,c.y,d.w,d.h);this._authWindow=window.open(e,'_blank',a,true);this._monitorPopupWindowClosed();}},isActive:function(){if(this._isActive&&this._dialogType===FB.DialogType.popUp)if(!this._authWindow||this._authWindow.closed)this._isActive=false;return this._isActive;},focus:function(){if(this._dialogType===FB.DialogType.popUp)this._authWindow.focus();},_createLoginUrl:function(h){var i,b;var f;i='_opener';b='popup';f=FB.XdComm.PageRelation.opener;if(this._overrideTarget)i=this._overrideTarget;var c=new FB.XdComm.EndPoint(null,f,this._cancelChannelUrl);var j=FB.XdComm.Server.singleton;var d=j.get_GUID();var e;if(FB.XdComm.Server.singleton._useXdProxy()){e=(j._createXdProxyBase(c)+'guid='+d);}else e=FBIntern.Uri.addQueryParameters(this._channelUrl,'fb_login&fname='+i+'&guid='+d);var a=j.createUdpUrl('fbCancelLogin',null,c);var g={return_session:1,nochrome:1,fbconnect:1,extern:FB.Facebook.get_isInConnect(),display:b,api_key:this._apiKey,v:FB.Facebook.version,next:e,cancel_url:a,channel_url:this._channelUrl};if(FB.Sys.containsKey(FB.Facebook.appSettings,'permsToRequestOnConnect'))g.req_perms=FB.Facebook.appSettings.permsToRequestOnConnect;return FBIntern.Utility.createFacebookUrl('www',h,g,false);},request:function(){this._isActive=true;var a=FBIntern.Utility.get_isInUserActionCallstack()||this._isUserActionHint;if(!FB.Connect.get_status().get_isReady()&&a){this._waitForDialog();this._handleSession(FB.ConnectState.userNotLoggedIn,a);}else FB.Connect.get_status().waitUntilReady(FB.bind(function(b){var c=b;if(c===FB.ConnectState.connected){this._sessionCallback();}else{this._waitForDialog();this._handleSession(c,a);}},this));a=false;},listen:function(){this._ensureHandlers();},_waitForDialog:function(){FB.Connect.get_status().waitForValue(FB.ConnectState.connected,FB.bind(this._sessionCallback,this));},_close:function(a){if(this._authWindow){this._authWindow.close();this._authWindow=null;}if(this._fbmlDialog){FB.CanvasClient.closeLogin();this._fbmlDialog=false;}if(this._warningDialog){this._warningDialog.close(!a);this._warningDialog=null;}},destroy:function(a){this._close(a);this.__sessionGranted=null;this.__cancelled=null;this._isActive=false;if(FB.XdComm.Server.singleton.isDataHandlerRegistered('fbLogin'))FB.XdComm.Server.singleton.unregisterDataHandler('fbLogin');if(FB.XdComm.Server.singleton.isDataHandlerRegistered('fbCancelLogin'))FB.XdComm.Server.singleton.unregisterDataHandler('fbCancelLogin');},add_sessionGranted:function(a){this.__sessionGranted=FB.Delegate.combine(this.__sessionGranted,a);},remove_sessionGranted:function(a){this.__sessionGranted=FB.Delegate.remove(this.__sessionGranted,a);},__sessionGranted:null,addSessionHandler:function(a){this.add_sessionGranted(a);return this;},add_cancelled:function(a){this.__cancelled=FB.Delegate.combine(this.__cancelled,a);},remove_cancelled:function(a){this.__cancelled=FB.Delegate.remove(this.__cancelled,a);},__cancelled:null,addCancelHandler:function(a){this.add_cancelled(a);return this;},_monitorPopupWindowClosed:function(){if(this._authWindow&&this._timerId===-1)this._timerId=window.setInterval(FB.bind(function(){if(this._authWindow&&this._authWindow.closed){this._authWindow=null;window.clearInterval(this._timerId);this._timerId=-1;this._cancelCallback();}},this),200);},_isActive:false,_isUserActionHint:true,_authWindow:null,_fbmlDialog:false,_warningDialog:null,_apiKey:null,_channelUrl:null,_cancelChannelUrl:null,_overrideTarget:null,_session:null,_initializeSession:false,_dialogType:0});FB.provide('FB.SessionDialog',{_onLoad:function(){FB.SessionDialog._singleton=null;},closeAll:function(){if(FB.SessionDialog._singleton){FB.SessionDialog._singleton.destroy();FB.SessionDialog._singleton=null;}},make:function(){FB.SessionDialog.closeAll();FB.SessionDialog._singleton=new FB.SessionDialog();return FB.SessionDialog._singleton;},getActive:function(){if(FB.SessionDialog._singleton&&FB.SessionDialog._singleton.isActive())return FB.SessionDialog._singleton;return null;}});
FB.subclass('FB.Connect','FB.Class',{init:function(){this._status=new FB.SimpleWaitable();},get__userInfo:function(){return this._userInfo;},set__userInfo:function(a){if(a!==this._userInfo){this._userInfo=a;this._setInfoCookies(a);}return a;},_getInfoFromCookies:function(){if(FB.Facebook.appSettings.doNotUseCachedConnectState)return null;var a=FB.JSON.deserialize(FBIntern.Cookie.getValue('fbsetting_'+FB.Facebook.apiKey));if(a&&(a.connectState===FB.ConnectState.userNotLoggedIn||a.connectState===FB.ConnectState.appNotAuthorized||a.connectState===FB.ConnectState.connected)&&a.oneLineStorySetting>0&&a.shortStorySetting>0)return a;return null;},_setInfoCookies:function(a){if(FB.Facebook.appSettings.disableCookies)return;if(a&&a.oneLineStorySetting>0&&a.shortStorySetting>0){FBIntern.Cookie.set('fbsetting_'+FB.Facebook.apiKey,FB.JSON.serialize(a),'/',FB.Facebook.get_baseDomain(),1);}else if(!a)FBIntern.Cookie.clear('fbsetting_'+FB.Facebook.apiKey,'/',FB.Facebook.get_baseDomain());},_ensureQueryStatus:function(){if(!this._loginStatusIFrameCreated){var a=this._getInfoFromCookies();if(a&&(a.connectState===FB.ConnectState.userNotLoggedIn||a.connectState===FB.ConnectState.appNotAuthorized||a.connectState===FB.ConnectState.connected)){this.set__userInfo(a);this._status._setResult(a.connectState);}this._refreshQueryStatus();}},_refreshQueryStatus:function(){if(!this._loginStatusIFrameCreated||this._pollTries>0){this._loginStatusIFrameCreated=true;if(this._pollTries>0)this._pollTries--;var c=this._getInfoFromCookies();var b=0;if(c)b=(c.inFacebook)?1:2;this._setInfoCookies(null);if(!this._rpcServer)this._rpcServer=new FB.XdComm.XdRpcServer('loginServer',{InitLogin:FB._create_XdRpcMethodInfo(FB.bind(this._initLogin,this),null)});this._ensureLoginHandler();FB.FBDebug.assert(FB.Facebook.apiKey,'API key can\'t be null');var d={api_key:FB.Facebook.apiKey,extern:b,channel:FB.XdComm.Server.singleton.get_receiverUrl()};if(FB.Facebook.appSettings.fetchSignedPublicSessionData)d.public_session_data=1;var a=FB.Facebook.get_iframeSignature();if(a)d.iframe_key=a;var f=FB.XdComm.Server.singleton.getUniqueOrigin();if(f)d.origin=f;var e=FBIntern.Utility.createFacebookUrl('www','extern/login_status.php',d,false);FB.XdComm.Server.singleton.createNamedHiddenIFrame('loginStatus',e,null,null);}},_ensureLoginHandler:function(){if(!FB.XdComm.Server.singleton.isDataHandlerRegistered('fbLogout'))FB.XdComm.Server.singleton.registerDataHandler('fbLogout',FB.bind(this._onLogoutHandler,this));},_onLogoutHandler:function(a,b){FB.FBDebug.logLine(2,'User logged out');if(this._logoutIframe){if(this._logoutIframe.parentNode)this._logoutIframe.parentNode.removeChild(this._logoutIframe);this._logoutIframe=null;}FB.Facebook.apiClient.set_session(null);this.set__userInfo(null);this._status._setResult(FB.ConnectState.userNotLoggedIn);if(this._logoutCallback)this._logoutCallback(true);},_setupSession:function(a){var b=FB.Connect._singleton;this._setInfoCookies(null);FB.Facebook.apiClient.set_session(a);},_closeAllDialogs:function(a){FB.SessionDialog.closeAll();if(this._permissionDialog){this._permissionDialog.close(false);this._permissionDialog=null;}if(a)a();},switchUser:function(){this._closeAllDialogs(FB.bind(function(){FB.Connect.requireSession(null);},this));},_initLogin:function(a,g){var f=a;var h=f.session;var i=f.settings;var b=f.connectState;var c=i.feedStorySettings;FB.Facebook.set_baseDomain(f.baseDomain);FB.Facebook.locale=i.locale;window.FB.locale=FB.Facebook.locale;this._publicSessionData=f.publicSessionData;this._perms=f.perms;var e;var j;if(c){e=c.one_line;j=c['short'];}else{e=FB.FeedStorySetting.doNotSend;j=FB.FeedStorySetting.doNotSend;}var d=i.inFacebook;FB.Facebook.isInConnect=(d)?1:2;this.set__userInfo(FB._create_UserInfoRecord(b,e,j,d));switch(b){case FB.ConnectState.userNotLoggedIn:FB.Facebook.apiClient.set_session(null);this._status._setResult(FB.ConnectState.userNotLoggedIn);break;case FB.ConnectState.appNotAuthorized:FB.Facebook.apiClient.set_session(null);this._status._setResult(FB.ConnectState.appNotAuthorized);break;case FB.ConnectState.connected:FB.Facebook.apiClient.set_session(h);this._status._setResult(FB.ConnectState.connected);break;}if(b===FB.ConnectState.connected){if(this._onConnectedCallback)this._onConnectedCallback();this._pollTries=0;this._onConnectedCallback=null;}else if(this._pollTries>0){window.setTimeout(FB.bind(function(){this._refreshQueryStatus();},this),this._pollInterval);}else this._onConnectedCallback=null;return null;},_apiClient_SessionReady:function(a){this._status._setResult(FB.ConnectState.connected);},_facebookIFrame:function(e,h,g){e.open();var a=new FB.StringBuilder();a.append('\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\" >\n<head><title></title></head>\n<body>');var i=FBIntern.Utility.createFacebookUrl('www',h,{},false);a.append(FB.Sys.format('<form method=\"post\" action=\"{0}\" id=\"tempform\" name=\"tempform\" >',i));var b=g;for(var f in b){var c={key:f,value:b[f]};a.append(FB.Sys.format('<input type=\"hidden\" name=\"{0}\" id=\"{1}\" value=\"{2}\"  />',c.key,c.key,FB.Sys.htmlEncode(c.value)));}a.append('\n</form>\n    <script type=\"text/javascript\">\n      window.setTimeout(function(){document.forms[\'tempform\'].submit();}, 0);\n    </script>\n</body>\n</html>\n        ');var d=a.toString();e.write(d);e.close();},get__isInConnect:function(){var a=FB.Connect._singleton.get__userInfo();if(!a){return 0;}else return (a.inFacebook)?1:2;},_loginStatusIFrameCreated:false,_pollInterval:0,_pollTries:0,_onConnectedCallback:null,_rpcServer:null,_feedformDialog:null,_shareDialog:null,_permissionDialog:null,_feedformNum:0,_sessionlessFeedFrameNum:0,_userInfo:null,_logoutCallback:null,_logoutIframe:null,_sessionlessPublishCallback:null,_publicSessionData:null,_popupWindows:{}});FB.provide('FB.Connect',{_onLoad:function(){FB.Connect._singleton=new FB.Connect();FB.Connect._logoutMethod_infoDialog='info_dialog';FB.Connect._logoutMethod_prompt='prompt';FB.Connect._logoutMethod_noUI='no_ui';FB.Connect._logoutMethod=FB.Connect._logoutMethod_infoDialog;var a='\n     <table id=\"RES_ID_fb_pop_dialog_table\" class=\"fb_pop_dialog_table\">\n       <tr>\n         <td class=\"fb_pop_topleft\"></td>\n         <td class=\"fb_pop_border\"></td>\n         <td class=\"fb_pop_topright\"></td>\n       </tr>\n       <tr>\n         <td class=\"fb_pop_border\"></td>\n         <td class=\"fb_pop_content\" id=\"pop_content\">\n           <div class =\"fb_pop_content_container\">\n              <h2 class=\"fb_resetstyles\">\n                <div class=\"fb_dialog_icon\"></div>\n                <span class=\"fb_dialog_header\" id=\"fb_dialog_header\"></span>\n                <div class=\"fb_dialog_loading_spinner\" id=\"fb_dialog_loading_spinner\">&nbsp;</div>\n                <a id=\"fb_dialog_cancel_button\" class=\"fb_dialog_cancel_button\" title=\"close dialog\" href=\"#\" onclick=\"return false;\">&nbsp;</a>\n              </h2>\n              <div id=\"fb_dialog_content\" class=\"fb_dialog_content\"></div>\n           </div>\n         </td>\n         <td class=\"fb_pop_border\"></td>\n       </tr>\n       <tr>\n         <td class=\"fb_pop_bottomleft\"></td>\n         <td class=\"fb_pop_border\"></td>\n         <td class=\"fb_pop_bottomright\"></td>\n       </tr>\n    </table>\n    <div id=\"RES_ID_fb_logout_confirmation\" class=\"fb_logout_confirm_content\">\n      <div class=\"fb_confirmation_stripes\"></div>\n      <div class=\"fb_confirmation_content\">';a+='<p>'+FBIntern.Intl._tx("Do you want to log out of both this site and Facebook?")+'</p>';a+='\n      </div>\n      <div class=\"fb_dialog_buttons\">';a+='<input id=\"fb_confirm\" type=\"button\" '+'class=\"fb_inputsubmit\" value=\"'+FBIntern.Intl._tx("Log out")+'\"/>';a+='<input id=\"fb_cancel\" type=\"button\" '+'class=\"fb_inputbutton fb_inputaux\" value=\"'+FBIntern.Intl._tx("Cancel")+'\"/>';a+='\n        </div>\n    </div>\n    <div id=\"RES_ID_fb_logout_info\" class=\"fb_logout_confirm_content\">\n      <div class=\"fb_confirmation_stripes\"></div>\n      <div class=\"fb_confirmation_content\">';a+='<p>'+FBIntern.Intl._tx("You are logging out of both this site and Facebook.")+'</p>';a+='\n      </div>\n      <div class=\"fb_dialog_buttons\">';a+='<input id=\"fb_confirm\" type=\"button\" '+'class=\"fb_inputsubmit\" value=\"'+FBIntern.Intl._tx("Close")+'\"/>';a+='\n       </div>\n   </div>';FB.UI.DomResources.addResourceDict(new FB.UI.DomResDict(a));},get_status:function(){var a=FB.Connect._singleton;a._ensureQueryStatus();return a._status;},_getLogoutUrl:function(a){var b={api_key:FB.Facebook.apiKey,session_key:FB.Facebook.apiClient.get_session().session_key,extern:FB.Connect._singleton.get__isInConnect(),next:a};return FBIntern.Utility.createFacebookUrl('www','logout.php',b,false);},logout:function(a){FB.Connect._handleLogout(a,function(d){if(d){var g=FB.Connect._singleton;var h=FB.XdComm.Server.singleton;var c=FB.XdComm.Server.singleton.get_GUID();var f;if(h._useXdProxy()){var b=new FB.XdComm.EndPoint(null,FB.XdComm.PageRelation.self,h.get_receiverUrl());f=(h._createXdProxyBase(b)+'guid='+c+'&session=loggedout');}else f=FBIntern.Uri.addQueryParameters(h.get_receiverUrl(),'fb_login&fname=_parent&guid='+c+'&session=loggedout');g._ensureLoginHandler();g._logoutCallback=a;var e=FB.Connect._getLogoutUrl(f);g._logoutIframe=h.createNamedHiddenIFrame('fbLogout',e,'fb_logout',null);}else if(a)a(false);});},logoutAndRedirect:function(a){FB.Connect._handleLogout(null,function(b){if(b){var e=FB.Connect._singleton;var d=FBIntern.Uri.create(new FBIntern.Uri(document.URL),a).get_uriString();var c=FB.Connect._getLogoutUrl(d);e.set__userInfo(null);FB.Facebook.apiClient.set_session(null);window.location=c;}});},ifUserConnected:function(a,b){FB.Connect.get_status().waitForCondition(function(c){FB.Connect._handleConnectStateLogout(a,b,c);return false;});},_handleConnectStateLogout:function(a,b,c){if(c.get_isReady())window.setTimeout(function(){var d=c.result===FB.ConnectState.connected;FB.Helper.invokeAsCallbackOrRedirect((d)?a:b);},0);},listenForIframeConnect:function(){var a=FB.Connect._singleton;FB.Facebook.apiClient.get_sessionWaitable().waitUntilReady(FB.bind(a._apiClient_SessionReady,a));},clientConnectSetup:function(a){var b=FB.Connect._singleton;FB.Connect.listenForIframeConnect();FB.Connect.get_status().add_changed(function(d){var c=FB.Connect.get_status().result;a(c===FB.ConnectState.connected);});},_handleLogout:function(a,b){FB.Connect.get_status().waitUntilReady(function(c){var d=FB.Facebook.apiClient.get_session();if(d){if(FB.Connect._logoutMethod===FB.Connect._logoutMethod_infoDialog){FB.Connect._createInfoDialog(b);}else if(FB.Connect._logoutMethod===FB.Connect._logoutMethod_noUI){b(true);}else FB.UI.PopupDialog._createConfirmationDialog(FBIntern.Intl._tx("Logging Out of Facebook?"),FB.UI.DomResources.getResourceById('fb_logout_confirmation'),b).show();}else{FB.FBDebug.logLine(2,'Cannot logout because user does not have a session');if(a)a(false);}});},requireSession:function(b,d,c){if(arguments.length===1){if(typeof(b)!=='function'){c=(b);b=null;}}else if(arguments.length===2)if(typeof(d)!=='function'){c=(d);d=null;}var a=FB.SessionDialog.getActive();if(!a){a=FB.SessionDialog.make();a.setIsUserActionHint(c).request();}else a.focus();if(b)FB.Connect.get_status().waitForValue(FB.ConnectState.connected,b);if(d)a.add_cancelled(d);},_createInfoDialog:function(a){var b=null;b=FB.UI.PopupDialog._createConfirmationDialog(FBIntern.Intl._tx("Logged Out of Facebook"),FB.UI.DomResources.getResourceById('fb_logout_info'),function(c){b=null;});b.show();b.add_closed(function(c){if(a)a(true);});window.setTimeout(function(){if(b)b.close(false);},2000);},inviteConnectUsers:function(){FB.Facebook.get_sessionWaitable().waitUntilReady(function(c){var b=new FB.UI.FBMLPopupDialog(FBIntern.Intl._tx("Invite Your Friends to Connect"),'');var a=b._createCrossDomainClosingLink(false);b.setFBMLContent('<fb:connect-form action=\"'+a+'\" view=\"dialog\" />');b.setContentWidth(474);b.setContentHeight(350);b.show();});},showPermissionDialog:function(h,a,c,i){var b=null;if(h.indexOf('offline_access')>=0){b=function(k){if(!FB.Sys.isNullOrEmpty(k)&&(k).indexOf('offline_access')>=0){FB.Connect.forceSessionRefresh(function(){if(a)a(k);});}else if(a)a(k);};}else if(a)b=a;var j={ext_perm:h};if(c)j.enable_profile_selector=1;if(i){var e=true;var g='';var d=new FB.ArrayEnumerator(i);while(d.moveNext()){var f=d.get_current();if(!e)g+=',';g+=f;e=false;}j.profile_selector_ids=g;}FB.Connect.showConnectDialog(FBIntern.Intl._tx("Request for Permission"),'connect/prompt_permissions.php',j,293,628,b);},showAddFriendDialog:function(d,a){var b=null;if(FB.Connect.isUIServerEnabled('friends.add')){if(a)b=function(e){a(e.action);};FB.Connect.showUIServerDialog('friends.add',{id:d},b);return;}if(a)b=function(e){var f=(e==='true')?true:false;a(f);};var c={id:d,display:'dialog'};FB.Connect.showConnectDialog(FBIntern.Intl._tx("Add Friend"),'addfriend.php',c,-1,540,b);},showConnectDialog:function(e,d,c,b,f,a){FB.Connect.requireSession(function(){FB.IFrameUtil.ResizeUtilServer.run();var n=FB.Connect._singleton;var j=FB.XdComm.Server.singleton.createNamedHiddenIFrame('dialogContent'+Math.random().toString(),'','fb_connect_dialog_iframe',null);if(b>0)j.style.height=b+'px';n._permissionDialog=new FB.UI.PopupDialog(e,j,true,false);n._permissionDialog.set_placement(FB.UI.PopupPlacement.topCenter);if(f>0)n._permissionDialog.setContentWidth(f);if(a)n._permissionDialog.add_closed(a);var l=n._permissionDialog._createCrossDomainClosingLink('xxRESULTTOKENxx');var g=FB.XdComm.Server.singleton.get_receiverUrl();var m={api_key:FB.Facebook.apiKey,v:FB.Facebook.version,extern:n.get__isInConnect(),next:l,channel_url:g,dialog_id:encodeURIComponent(n._permissionDialog.get_id())};if(c){var h=c;for(var k in h){var i={key:k,value:h[k]};m[i.key]=i.value;}}var o=FB.XdComm.Server.singleton.getUniqueOrigin();if(o)m.origin=o;m.session_key=FB.Facebook.apiClient.get_session().session_key;j.src=FBIntern.Utility.createFacebookUrl('www',d,m,false);n._permissionDialog.show();});},createApplication:function(b,a){FB.Facebook.get_sessionState().waitUntilReady(function(h){FB.IFrameUtil.ResizeUtilServer.run();var i=FB.Connect._singleton;var f=FB.XdComm.Server.singleton.createNamedHiddenIFrame('dialogContent'+Math.random().toString(),'','fb_create_app_iframe',null);f.style.height='214px';f.style.width='448px';var d=new FB.UI.PopupDialog(FBIntern.Intl._tx("Integrate with Facebook?"),f,true,false);if(a)d.add_closed(a);var c=d._createCrossDomainClosingLink('create-app-return-val');var e=d._createCrossDomainClosingLink(false);var g={api_key:FB.Facebook.apiKey,v:FB.Facebook.version,name:b,next:c,cancel:e,channel_url:FB.XdComm.Server.singleton.get_receiverUrl()};f.src=FBIntern.Utility.createFacebookUrl('www','connect/create_app.php',g,false);d.show();});},pollLoginStatus:function(b,c,a){var d=FB.Connect._singleton;if(d.get__userInfo().connectState===FB.ConnectState.connected){if(a)a();return;}d._pollTries=c;d._pollInterval=b;d._onConnectedCallback=a;window.setTimeout(function(){d._refreshQueryStatus();},d._pollInterval);},forceSessionRefresh:function(a){var b=FB.Connect._singleton;++b._pollTries;b._onConnectedCallback=a;b._refreshQueryStatus();},showAddSectionButton:function(b,a){},_showAddSectionDialog:function(a){},streamPublish:function(k,d,a,j,l,f,e,b){var i=FB.Connect._singleton;if(e&&FB.Connect._singleton._perms&&FB.Connect._singleton._perms.extended&&FB.Sys.contains(FB.Connect._singleton._perms.extended,'publish_stream')){var h=new FB.ImmediateSequencer(function(n,m){if(f)f(n,m,{user_message:k});});var c={};c.message=k;c.attachment=d;c.action_links=a;c.target_id=j;FB.Facebook.apiClient.callMethod('stream.publish',c,h);return true;}var g={message:k,attachment:d,action_links:a,target_id:j,actor_id:b,user_message_prompt:l};return FB.Connect._ShowFeedDialogGeneric(g,FB.RequireConnect.doNotRequire,f,true,null);},showFeedDialog:function(h,i,g,a,f,e,b,l,j){var m=null;var k=j;if(j){var c=false;c=(typeof j=='string');if(c){m=j;k=null;}else m=k.value;}var d={message:m,template_id:h,template_data:i,body_general:a,user_message_prompt:l,to_ids:g};return FB.Connect._ShowFeedDialogGeneric(d,e,b,false,k);},_ShowFeedDialogGeneric:function(d,e,b,g,l){var j=d.to_ids;var h=d.target_id;var a=d.actor_id;var f=FB.Facebook.apiClient.get_session();var k=(f)?f.uid:null;if(!h&&j&&j.length>0){h=j[0];d.target_id=h;delete d.to_ids;}var i;if(a&&a!=k){i=FBIntern.Intl._tx("Publish this story to the Page's Wall?");}else if(h&&h!=k){i=FBIntern.Intl._tx("Publish this story to your friend's Facebook Wall?");}else i=FBIntern.Intl._tx("Publish this story to your Facebook Wall and your friends' home pages?");if(b)var c=function(o){var n=null;var m=null;if(o&&o.post_id){FB.Facebook.apiClient.fql_query('select message from stream where post_id="'+o.post_id+'"',function(q){var p=null;if(q&&q.length>0)p={user_message:q[0].message};b(o.post_id,null,p);});}else b(null,null,null);};FB.Connect._prepareFeedDialogParameters(d);FB.Connect.get_status().waitUntilReady(function(n){var o=function(){FB.Connect.showUIServerDialog('stream.publish',d,c,i);};var m=n;if(e===FB.RequireConnect.require&&m!==FB.ConnectState.connected){b(null,null,null);}else if(e===FB.RequireConnect.promptConnect&&m!==FB.ConnectState.connected){FB.Connect.requireSession(o,function(){b(null,null,null);});}else o();});return true;},_prepareFeedDialogParameters:function(g){var h=FB.Connect._singleton;var f=['template_data','attachment','action_links','to_ids'];var c=new FB.ArrayEnumerator(f);while(c.moveNext()){var e=c.get_current();if(g[e])g[e]=FB.JSON.serialize(g[e]);}var a=g;for(var d in a){var b={key:d,value:a[d]};if(!g[b.key])delete g[b.key];}},showShareDialog:function(c,a){var b=FB.Connect._singleton;if(b._shareDialog)a();FB.Connect.get_status().waitUntilReady(function(h){var g=h;if(g!==FB.ConnectState.connected){window.open('http://www.facebook.com/sharer.php?u='+encodeURIComponent(c)+'&src=connect&apikey='+FB.Facebook.apiKey,'sharer','toolbar=0,status=0,width=626,height=436');}else{if(!this.shareFrameCounter)this.shareFrameCounter=0;var f='fb_share_iframe_'+this.shareFrameCounter++;var e=FB.XdComm.Server.singleton.createNamedHiddenIFrame(f,FB.XdComm.Server.singleton.get_receiverUrl(),'fb_shareIFrame','frameborder=\"0\"');var i=FBIntern.Intl._tx("Share this story?");b._shareDialog=new FB.UI.PopupDialog(i,e,true,true);b._shareDialog.set_placement(FB.UI.PopupPlacement.topCenter);b._shareDialog.add_closed(function(j){b._shareDialog=null;if(a)a();});var d=b._shareDialog._createCrossDomainClosingLink(false);b._shareDialog.setContentWidth(650);b._shareDialog.setContentHeight(175);b._shareDialog.show();FBIntern.Utility.getIFrameDocument(f,e,function(j){b._facebookIFrame(j,'sharer.php?u='+encodeURIComponent(c)+'&src=connect&apikey='+FB.Facebook.apiKey,{channel_url:FB.XdComm.Server.singleton.get_receiverUrl(),close_url:d,display:'dialog',session_key:FB.Facebook.apiClient.get_session().session_key,extern:b.get__isInConnect()});});}});},isUIServerEnabled:function(a){if(!FB.dynData)return false;return FB.dynData.ui_server_dialogs[a];},showUIServerDialog:function(d,e,a,g){var c=FB.Connect._singleton.get__isInConnect();var b=FB.XdComm.Server.singleton.get_receiverUrl();var f={api_key:FB.Facebook.apiKey,method:d,channel:b,extern:c};FB.copy(f,e);if(!g)g=FB.Connect.getUIServerDialogProperty(d,'title');FB.Connect.get_status().waitUntilReady(function(i){var h=i;if(h===FB.ConnectState.connected){FB.Connect._showUIServerIframe(d,f,a,g);}else FB.Connect._showUIServerWindow(d,f,a,g);});},_popupWindowCloseHandler:function(a){var c=a.token;var b=a.result;var d=FB.Connect._singleton._popupWindows[c];if(d){if(d.callback)d.callback(b);d.win.close();}else FB.FBDebug.logLine(1,'Invalid token to close popup window: '+c);},_showUIServerWindow:function(g,h,a,l){h.display='popup';if(!FB.XdComm.Server.singleton.isDataHandlerRegistered('fbClosingPopupWindow'))FB.XdComm.Server.registerSimpleHandler('fbClosingPopupWindow',FB.Connect._popupWindowCloseHandler);var f="popup_window_"+Math.random().toString();var c=new FB.XdComm.EndPoint(null,FB.XdComm.PageRelation.opener,h.channel);var b={token:f,result:'xxRESULTTOKENxx'};h.next=FB.XdComm.Server.singleton.createUdpUrl('fbClosingPopupWindow',b,c);var n=FB.Connect.getUIServerDialogProperty(g,'width');var e=FB.Connect.getUIServerDialogProperty(g,'height');var p=FBIntern.Utility.get_windowLocation();var q=FBIntern.Utility.get_windowSize();var j=FB._create_Size(n,e);var i=FB._create_Point(Math.max(0,p.x+(q.w-j.w)/2),Math.max(0,p.y+(q.h-j.h)/2));var d=FB.Sys.format('location=yes,left={0},top={1},width={2},height={3},resizable=yes',i.x,i.y,j.w,j.h);var m=FBIntern.Utility.createFacebookUrl('www','connect/uiserver.php',{},false);var k=FBIntern.Uri.createQueryString(h);if(m.length+k.length>=2000){var o=window.open('about:blank','_blank',d);h.url_overflow=1;FB.Connect._singleton._facebookIFrame(o.document,'connect/uiserver.php',h);}else{m=FBIntern.Uri.addQueryParameters(m,k);var o=window.open(m,'_blank',d);}FB.Connect._singleton._popupWindows[f]={win:o,callback:a};},_showUIServerIframe:function(f,g,a,i){g.display='iframe';g.session_key=FB.Facebook.apiClient.get_session().session_key;var c="fb_dialog_iframe_"+Math.random().toString();FB.IFrameUtil.ResizeUtilServer.run();var e=FB.XdComm.Server.singleton.createNamedHiddenIFrame(c,g.channel,'fb_dialogIFrame',null);var b=new FB.UI.PopupDialog(i,e,true,false);var k=FB.Connect.getUIServerDialogProperty(f,'width');var d=FB.Connect.getUIServerDialogProperty(f,'height');b.setContentWidth(k);b.setContentHeight(d);b.set_placement(FB.UI.PopupPlacement.topCenter);if(a)b.add_closed(function(l){a(l);});b.show();g.next=b._createCrossDomainClosingLink('xxRESULTTOKENxx');var j=FBIntern.Utility.createFacebookUrl('www','connect/uiserver.php',{},false);var h=FBIntern.Uri.createQueryString(g);if(j.length+h.length>=2000){FBIntern.Utility.getIFrameDocument(c,e,function(l){g.url_overflow=1;FB.Connect._singleton._facebookIFrame(l,'connect/uiserver.php',g);});}else{j=FBIntern.Uri.addQueryParameters(j,h);e.src=j;}},getUIServerDialogProperty:function(b,c){var a={'bookmark.add':{title:FBIntern.Intl._tx("Bookmark Application"),width:460,height:226},'profile.addTab':{title:FBIntern.Intl._tx("Add Profile Tab"),width:460,height:230},'friends.add':{title:FBIntern.Intl._tx("Add Friend"),width:460,height:230},'stream.publish':{title:FBIntern.Intl._tx("Publish this story to your Facebook Wall and your friends' home pages?"),width:600,height:230},'default':{title:FBIntern.Intl._tx("Login"),width:460,height:250}};if(a.hasOwnProperty(b)&&a[b].hasOwnProperty(c))return a[b][c];if(a['default'].hasOwnProperty(c))return a['default'][c];return null;},showBookmarkDialog:function(a){FB.Connect.showUIServerDialog('bookmark.add',{},a);},showProfileTabDialog:function(a){FB.Connect.showUIServerDialog('profile.addTab',{},a);},get_loggedInUser:function(){var a=FB.Facebook.apiClient.get_session();return (a)?a.uid:null;},getSignedPublicSessionData:function(a){var b=FB.Connect._singleton;FB.Connect.get_status().waitUntilReady(function(c){if(b._publicSessionData&&FB.Facebook.apiClient.get_session()){a(b._publicSessionData,null);}else if(!FB.Facebook.apiClient.get_session()){a(null,null);}else FB.Facebook.apiClient.auth_getSignedPublicSessionData(new FB.ImmediateSequencer(a));});},addSignedPublicSessionDataToUrl:function(b,a){FB.Connect.getSignedPublicSessionData(function(d,c){if(d)b=FBIntern.Uri.addQueryParameters(b,'public_session_data='+encodeURIComponent(FB.JSON.serialize(d)));a(b,null);});},_showStandardDialog:function(d,c,e,b){var a=new FB.UI.PopupDialog(d,c,true,true);a.setContentWidth(e);a.setContentHeight(b);a.set_placement(FB.UI.PopupPlacement.topCenter);a.show();return a;}});

FB._create__cachedItem=function(data,createTime){var o={};o.data=data;o.createTime=createTime;return o;};
FB.subclass('FB.DependentWaitable','FB.Waitable',{init:function(){this._dependents=[];this._super();},get_isReady:function(){return this._waitItems<=0;},addDependent:function(_L0){if(!_L0.get_isReady()){FB.Sys.add(this._dependents,_L0);this._waitItems++;_L0.add_changed(FB.bind(this._dependent_OnReady,this));}},removeAll:function(){var _L0=new FB.ArrayEnumerator(this._dependents);while(_L0.moveNext()){var _L1=_L0.get_current();_L1.remove_changed(FB.bind(this._dependent_OnReady,this));}this._dependents=[];this._waitItems=0;},_dependent_OnReady:function(_L0){_L0.remove_changed(FB.bind(this._dependent_OnReady,this));this._waitItems--;if(!this._waitItems)this.onChange();},_waitItems:0});

FB.provide('FB.XFBML._elementState',{none:0,onProcessCalled:1,onDataReadyCalled:2,waitForCondition:4,ready:8});
FB.subclass('FB.XFBML.Element','FB.Class',{init:function(_L0){this._dependents=new FB.DependentWaitable();this.domElement=_L0;this.domElement._fbElement=this;},process:function(){try{this._state=FB.XFBML._elementState.none;var conditionAttribute=this.getAttribute('condition',null);if(conditionAttribute)if(typeof(conditionAttribute)==='string'){this._conditionResult=eval(conditionAttribute);}else{FB.FBDebug.assert(typeof(conditionAttribute)==='function','Invalid condition value');var conditionFunction=conditionAttribute;this._conditionResult=conditionFunction();}var result=true;var resultReady=true;var pendingResult=this._conditionResult;if(!FB.Sys.isNullOrUndefined(this._conditionResult))if(FB.Type.getInstanceType(this._conditionResult)===Boolean){result=this._conditionResult;}else{resultReady=pendingResult.get_isReady();result=pendingResult.result;}if(!resultReady){this._state|=FB.XFBML._elementState.waitForCondition;(this._conditionResult).add_changed(FB.bind(this._onConditionChanged,this));}if((resultReady&&result)||(!resultReady&&!this.getAttribute('noPreProcess',false))){this.onProcess();this._state|=FB.XFBML._elementState.onProcessCalled;this._checkDataReady();}else if(resultReady&&!result){this.onConditionFalse();this.set_isReady(true);}}catch(e){FB.Debug.logLine(1,"Failed rendering a XFBML element");}},isValid:function(){var _L0=this.domElement;while(_L0)if(_L0===document.body){return true;}else _L0=_L0.parentNode;return false;},refresh:function(){if((this._state&FB.XFBML._elementState.waitForCondition)&&this._conditionResult)(this._conditionResult).remove_changed(FB.bind(this._onConditionChanged,this));this._state=FB.XFBML._elementState.none;this._conditionResult=null;this._dependents.resetChange();this._dependents.removeAll();FB.UI.UIElement.removeCssClass(this.domElement,'FB_ElementReady');this.clearVisual();this.process();},_onConditionChanged:function(_L0){if(_L0.get_isReady()){_L0.remove_changed(FB.bind(this._onConditionChanged,this));this._state&=~FB.XFBML._elementState.waitForCondition;if(_L0.result){if(!(this._state&FB.XFBML._elementState.onProcessCalled)){this.onProcess();this._state|=FB.XFBML._elementState.onProcessCalled;}this._checkDataReady();}else{this.onConditionFalse();this.set_isReady(true);}}},onConditionFalse:function(){FB.UI.UIElement.addCssClass(this.domElement,'FB_ElementConditionFalse');this.domElement.style.display='none';},get_isReady:function(){return (this._state&FB.XFBML._elementState.ready);},set_isReady:function(_L0){if(_L0!==this.get_isReady()){if(_L0){this._state|=FB.XFBML._elementState.ready;}else this._state&=~FB.XFBML._elementState.ready;if(_L0){FB.UI.UIElement.addCssClass(this.domElement,'FB_ElementReady');}else FB.UI.UIElement.removeCssClass(this.domElement,'FB_ElementReady');if(this.__isReadyChanged)this.__isReadyChanged(this,null);}return _L0;},onProcess:function(){},onDataReady:function(){},clearVisual:function(){this.domElement.innerHTML='';},_getAttributeFromList:function(_L0,_L1,_L2){var _L3=this.getAttribute(_L0,_L1);var _L4=new FB.ArrayEnumerator(_L2);while(_L4.moveNext()){var _L5=_L4.get_current();if(_L3===_L5)return _L5;}return _L1;},getAttribute:function(_L0,_L1){var _L2=this.domElement.getAttribute(_L0);if(!_L2)_L2=_L1;return _L2;},_getBoolAttribute:function(_L0,_L1){var _L2=_L1;var s=this.domElement.getAttribute(_L0);if(s)_L2=FB.Sys.parseBool(s);return _L2;},addDataToWait:function(_L0){this._dependents.addDependent(_L0);},_checkDataReady:function(){try{if(this._dependents.get_isReady()){if(!(this._state&FB.XFBML._elementState.waitForCondition))this.onDataReady();}else this._dependents.waitUntilReady(FB.bind(function(r){this._checkDataReady();},this));}catch(e){FB.Debug.logLine(1,"Failed rendering a XFBML element");}},add_isReadyChanged:function(_L0){this.__isReadyChanged=FB.Delegate.combine(this.__isReadyChanged,_L0);},remove_isReadyChanged:function(_L0){this.__isReadyChanged=FB.Delegate.remove(this.__isReadyChanged,_L0);},__isReadyChanged:null,domElement:null,_conditionResult:null,_state:0});FB.provide('FB.XFBML.Element',{fromDomElement:function(_L0){return _L0._fbElement;}});
FB.subclass('FBIntern.DataHelper','FB.Class',{init:function(){}});FB.provide('FBIntern.DataHelper',{getPrimaryNetwork:function(_L0){if(_L0.affiliations&&_L0.affiliations.length>0){return _L0.affiliations[0].name;}else return null;}});

FB.subclass('FB.XFBML.Common.Constants','FB.Class',{init:function(){}});FB.provide('FB.XFBML.Common.Constants',{_onLoad:function(){FB.XFBML.Common.Constants.gendeR_MALE_SINGULAR='male';FB.XFBML.Common.Constants.gendeR_FEMALE_SINGULAR='female';}});

FB._create_ElementsRegistration=function(nameSpace,name,implementationType){var o={};o.nameSpace=nameSpace;o.name=name;o.implementationType=implementationType;return o;};
FB.subclass('FB.XFBML.LoginButton','FB.XFBML.Element',{init:function(a){this.status=FB.ConnectState.userNotLoggedIn;this._super(a);FBIntern.Utility.addEventListener(this.domElement,'click',FB.bind(this._onClick,this));this.intl_button=(this.getAttribute('v','1')=='2');if(this.intl_button)this.savedChildren=this.domElement.innerHTML;this.domElement.innerHTML='';this.domElement.appendChild(FB.UI.DomResources.getResourceById('fb_login'));var b=FBIntern.UIHelper.findElementById(this.domElement,'RES_ID_fb_login');if(this.intl_button){b.appendChild(FB.UI.DomResources.getResourceById('fb_login_text'));}else b.appendChild(FB.UI.DomResources.getResourceById('fb_login_image'));this._updateUI(null);FB.Connect.get_status().add_changed(FB.bind(this._updateUI,this));},clearVisual:function(){},_onClick:function(e){if(this.logoutOnClick){FB.Connect.logout(null);}else{var onLoginJS=this.getAttribute('onlogin','');var handlerEnv={enabled:true};var onLoginHandler=FB.bind(function(){if(this.enabled)eval(onLoginJS);},handlerEnv);var onCancelHandler=FB.bind(function(){this.enabled=false;},handlerEnv);FB.Connect.requireSession(onLoginHandler,onCancelHandler,true);}},_updateUI:function(i){var e=this.status;this.status=(FB.Connect.get_status().get_isReady())?FB.Connect.get_status().result:FB.ConnectState.userNotLoggedIn;var a={};a[FB.Enum.toString(FB.ConnectState,FB.ConnectState.appNotAuthorized)]='fb_login_not_authorized';a[FB.Enum.toString(FB.ConnectState,FB.ConnectState.connected)]='fb_login_ready';a[FB.Enum.toString(FB.ConnectState,FB.ConnectState.userNotLoggedIn)]='fb_login_not_logged_in';FB.UI.UIElement.removeCssClass(this.domElement,a[FB.Enum.toString(FB.ConnectState,e)]);FB.UI.UIElement.addCssClass(this.domElement,a[FB.Enum.toString(FB.ConnectState,this.status)]);var d=FBIntern.UIHelper.findElementById(this.domElement,'RES_ID_fb_login');this.logoutOnClick=(this.status===FB.ConnectState.connected&&this._getBoolAttribute('autologoutlink',false));if(this.intl_button){var g=this._getAttributeFromList('size','medium',['icon','small','medium','large','xlarge']);if(g=='icon'){FB.UI.UIElement.addCssClass(d,'FBConnectButton_Simple');}else{var f=FB.localeIsRTL?'_RTL':'';var h='';switch(g){case 'icon':h='_Simple';break;case 'small':h='_Small';break;case 'large':h='_Large';break;case 'xlarge':h='_BigPun';break;default:h='_Medium';break;}FB.UI.UIElement.addCssClass(d,'FBConnectButton'+f);FB.UI.UIElement.addCssClass(d,'FBConnectButton'+f+h);if(!this.savedChildren)if(this.logoutOnClick){this.savedChildren=FBIntern.Intl._tx("Facebook Logout");}else{var c=this._getAttributeFromList('length','short',['long','short']);this.savedChildren=(c=='short'?FBIntern.Intl._tx("Login"):FBIntern.Intl._tx("Login with Facebook"));}var j=FBIntern.UIHelper.findElementById(this.domElement,'RES_ID_fb_login_text');j.innerHTML=this.savedChildren;}}else{var b=FBIntern.UIHelper.findElementById(this.domElement,'RES_ID_fb_login_image');b.src=this.getImageSrc();b.alt=(this.logoutOnClick)?'Logout':'Connect';}},getImageSrc:function(){var d=this._getAttributeFromList('size','large',['small','medium','large']);var a=this._getAttributeFromList('background','light',['white','light','dark']);var b=this._getAttributeFromList('length','short',['long','short']);var c;if(this.logoutOnClick){c='logout_img_'+d;}else c='login_img_'+a+'_'+d+'_'+b;var e=FBIntern.FbGlobals.get_fB_StaticResourceVersions()[c];FB.FBDebug.assert(e,'Image source not found for resource '+c);return e;},onProcess:function(){this.set_isReady(true);},logoutOnClick:false});
FB.subclass('FB.XFBML.ServerFbml','FB.XFBML.Element',{init:function(a){this._super(a);},onDataReady:function(){FB.IFrameUtil.ResizeUtilServer.run();this._createIframeDoc();},clearVisual:function(){if(this._iframeContainer){this._iframeContainer.parentNode.removeChild(this._iframeContainer);this._iframeContainer=null;}},_createIframeDoc:function(){var c='fbmlIFrame_'+FB.XFBML.ServerFbml._iframeIdCount.toString();FB.XFBML.ServerFbml._iframeIdCount++;if(this._iframeContainer)this.clearVisual();this._iframeContainer=this.domElement.appendChild(FB.XdComm.Server.singleton.createNamedHiddenIFrame(c,FB.XdComm.Server.singleton.get_receiverUrl(),'fbmlIframe','frameborder=\"0\"'));var d=this.getAttribute('iframeWidth',null);var b=this.getAttribute('iframeHeight',null);if(d)this._iframeContainer.style.width=d;if(b)this._iframeContainer.style.height=b;var a=(window.self.frames)[c];FB.FBDebug.assert(!FB.Sys.isUndefined(a),'frameWindow is null in CreateIframeDoc. Make sure this.domElement is inserted in the DOM before creating an iframe. (Did you try to insert it in a Dialog before calling Dialog.Show?');FBIntern.Utility.getIFrameDocument(c,this._iframeContainer,FB.bind(function(e){e.open();this._writeDoc(e);},this));},_getFBML:function(){var c=this.getAttribute('fbml',null);if(!c){var a=this.domElement.childNodes.length;for(var d=0;d<a;d++){var b=this.domElement.childNodes[d];if(b.tagName==='SCRIPT'&&(b).type==='text/fbml'){c=b.innerHTML;break;}}}return c;},_writeDoc:function(f){var d=this._getFBML();var h={app_key:FB.Facebook.apiClient.get_apiKey(),channel_url:FB.XdComm.Server.singleton.get_receiverUrl(),fbml:d};var a=new FB.StringBuilder();a.append('\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\" >\n<head><title></title></head>\n<body>\n    <form method=\"post\" action=\"'+FBIntern.Utility.getFacebookUrl('www')+'widgets/serverfbml.php\" id=\"form1\" name=\"form1\" >');var b=h;for(var g in b){var c={key:g,value:b[g]};a.append(FB.Sys.format('<input type=\"hidden\" name=\"{0}\" id=\"{1}\" value=\"{2}\"  />',c.key,c.key,FB.Sys.htmlEncode(c.value)));}a.append('\n</form>\n    <script type=\"text/javascript\">\n      window.setTimeout(function(){document.forms[\'form1\'].submit();}, 0);\n    </script>\n</body>\n</html>\n        ');var e=a.toString();f.write(e);f.close();this.set_isReady(true);},_iframeContainer:null});FB.provide('FB.XFBML.ServerFbml',{_onLoad:function(){FB.XFBML.ServerFbml._iframeIdCount=0;}});

FB.subclass('FB.XFBML.ContainerElement','FB.XFBML.Element',{init:function(domElement){this._super(domElement);},onDataReady:function(){this.set_isReady(true);}});

FB.subclass('FB.XFBML.AddSectionButton','FB.XFBML.Element',{init:function(domElement){this._super(domElement);},onProcess:function(){this._section=this.getAttribute('section',null);if(!this._section){this._section='profile';}},onDataReady:function(){FB.Connect.showAddSectionButton(this._section,this.domElement);this.set_isReady(true);},_section:null});
FB.subclass('FB.XFBML.Comments','FB.XFBML.Element',{init:function(a){this._super(a);},refresh:function(){},onDataReady:function(){FB.IFrameUtil.ResizeUtilServer.run();this._createCommentIframe();},_createCommentIframe:function(){if(this._iframeContainer)return;this._iframeName='fbcommentsIFrame_'+FB.XFBML.Comments._iframeIdCount.toString();FB.XFBML.Comments._iframeIdCount++;var m=this.getAttribute('xid',null);var l=this.getAttribute('width','550');var k=this.getAttribute('url',document.URL);var j=this.getAttribute('title',document.title);var c=this.getAttribute('numposts','10');var a=this.getAttribute('css','');var h=this.getAttribute('simple','');var g=this.getAttribute('reverse','');var f=this.getAttribute('quiet','');var d=this.getAttribute('publish_feed','1');l=l.replace('px','');if(!m){var b=document.URL.indexOf('#');if(b>0){m=encodeURIComponent(document.URL.substring(0,b));}else m=encodeURIComponent(document.URL);}var e={api_key:FB.Facebook.apiKey,channel_url:FB.XdComm.Server.singleton.get_receiverUrl(),xid:m,width:l,url:k,title:j,numposts:c,css:a,simple:h,reverse:g,quiet:f,publish_feed:d};var i=FBIntern.Utility.createFacebookUrl('www','widgets/comments.php',e,false);this._iframeContainer=FB.XdComm.Server.singleton.createNamedHiddenIFrame(this._iframeName,i,'','frameborder=\"0\" allowtransparency=\"true\"');this._iframeContainer.style.width=l+'px';this._iframeContainer.style.display='none';this._iframeContainer.style.border='none';FB.Bootstrap.requireFeatures(['Comments'],FB.bind(function(){FB.CommentClient.run();var n=document.createElement('div');FB.UI.UIElement.addCssClass(n,'fb_content_loader_gif');this._loader=document.createElement('div');FB.UI.UIElement.addCssClass(this._loader,'fb_content_loader');FB.UI.UIElement.addCssClass(this._loader,'fb_content_loading');this._loader.style.width=l+'px';this._loader.appendChild(n);this.domElement.appendChild(this._loader);this.domElement.appendChild(this._iframeContainer);FBIntern.Utility.waitForLoaded(this._iframeContainer,FB.bind(function(){FB.UI.UIElement.removeCssClass(this._loader,'fb_content_loading');},this));this.set_isReady(true);},this));},_loader:null,_iframeContainer:null,_iframeName:null});FB.provide('FB.XFBML.Comments',{_onLoad:function(){FB.XFBML.Comments._iframeIdCount=0;}});
FB.subclass('FB.XFBML.LiveStream','FB.XFBML.Element',{init:function(a){this._super(a);this._createLiveStreamIframe();},refresh:function(){},onDataReady:function(){FB.IFrameUtil.ResizeUtilServer.run();},_createLiveStreamIframe:function(){if(this._iframeContainer)return;this._iframeName='fblivestreamIFrame_'+FB.XFBML.LiveStream._iframeIdCount.toString();FB.XFBML.LiveStream._iframeIdCount++;var i=this.getAttribute('xid','default');var h=this.getAttribute('width','400');var b=this.getAttribute('height','500');h=h.replace('px','');b=b.replace('px','');var c=this.getAttribute('hide_friends_tab','0');var a=this.getAttribute('always_post_to_friends','0');var g=this.getAttribute('via_url','');var e={api_key:FB.Facebook.apiKey,xid:i,width:h,height:b,hide_friends_tab:c,always_post_to_friends:a,via_url:g};var f=FBIntern.Utility.createFacebookUrl('www','plugins/live_stream_box.php',e,false);this._iframeContainer=FB.XdComm.Server.singleton.createNamedHiddenIFrame(this._iframeName,f,'','width=\"'+h+'\" height=\"'+b+'\" '+'frameborder=\"0\" allowtransparency=\"true\"');this._iframeContainer.style.width=h+'px';this._iframeContainer.style.height=b+'px';this._iframeContainer.style.display='none';this._iframeContainer.style.border='none';var d=document.createElement('div');FB.UI.UIElement.addCssClass(d,'fb_content_loader_gif');this._loader=document.createElement('div');FB.UI.UIElement.addCssClass(this._loader,'fb_content_loader');FB.UI.UIElement.addCssClass(this._loader,'fb_content_loading');this._loader.style.width=h+'px';this._loader.appendChild(d);this.domElement.appendChild(this._loader);this.domElement.appendChild(this._iframeContainer);FBIntern.Utility.waitForLoaded(this._iframeContainer,FB.bind(function(){this._iframeContainer.style.display='block';FB.UI.UIElement.removeCssClass(this._loader,'fb_content_loading');},this));this.set_isReady(true);},_loader:null,_iframeContainer:null,_iframeName:null});FB.provide('FB.XFBML.LiveStream',{_onLoad:function(){FB.XFBML.LiveStream._iframeIdCount=0;}});

FB.subclass('FB.XFBML.Pay','FB.XFBML.Element',{init:function(domElement){this._super(domElement);},onDataReady:function(){var button=this.getAttribute('button','large');var nextJs=this.getAttribute('next_js',null);var orderInfo=this.getAttribute('order_info',null);var nextUrl=this.getAttribute('next_url',null);var receiver=this.getAttribute('receiver',0);var html='';if(orderInfo){var error=false;var onClick='var fbpay = new FB.Payments(); fbpay.setParam(\'order_info\', \''+orderInfo+'\');';if(nextJs){onClick+='fbpay.setParam(\'next_js\', '+nextJs+');';}
if(nextUrl){onClick+='fbpay.setParam(\'next_url\', \''+nextUrl+'\');';}
if(receiver){onClick+='fbpay.setParam(\'receiver\', '+receiver+');';}
var buttonUrl=null;switch(button){case'large':buttonUrl='/images/fbpayments/pay_white_large_long.gif';break;case'small':buttonUrl='/images/fbpayments/pay_white_large_short.gif';break;default:error=true;break;}
if(!error){onClick+='fbpay.submitOrder(); return false;';html='<a onclick=\"'+onClick+'\">'+'<img src=\"'+buttonUrl+'\" />'+'</a>';}}
FBIntern.Utility.paymentsLog('render_tag',FB.Facebook.apiKey);this.domElement.innerHTML=html;this.set_isReady(true);}});
FB.subclass('FB.XFBML.Fan','FB.XFBML.Element',{init:function(a){this._super(a);this._createFanIframe();},onDataReady:function(){FB.IFrameUtil.ResizeUtilServer.run();},clearVisual:function(){if(this._iframeContainer){this._iframeContainer.parentNode.removeChild(this._iframeContainer);this._iframeContainer=null;}if(this._loader){this._loader.parentNode.removeChild(this._loader);this._loader=null;}},_createFanIframe:function(){if(this._iframeContainer||this._loader)this.clearVisual();this._iframeName='fbfanIFrame_'+FB.XFBML.Fan._iframeIdCount.toString();FB.XFBML.Fan._iframeIdCount++;var d=this.getAttribute('profile_id','');var g=this.getAttribute('name','');var l=this.getAttribute('width','300');var a=this.getAttribute('connections','');var j=this.getAttribute('stream','');var f=this.getAttribute('logobar','');var c=this.getAttribute('height','');var b=this.getAttribute('css','');l=l.replace('px','');c=c.replace('px','');if(c===''){if((a===''||a==='0')&&(j===''||j==='0')){c=65;}else if(a===''||a==='0'){c=375;}else if(j===''||j==='0'){c=250;}else c=550;}else{c=parseInt(c,10);if(isNaN(c))c=550;}if(f!==''&&f!=='0')c+=25;var h={api_key:FB.Facebook.apiKey,channel_url:FB.XdComm.Server.singleton.get_receiverUrl(),id:d,name:g,width:l,connections:a,stream:j,logobar:f,css:b};var k=FBIntern.Utility.getFacebookUrl('www')+'widgets/fan.php';var i=FBIntern.Uri.addQueryParameters(k,FBIntern.Uri.createQueryString(h));this._iframeContainer=FB.XdComm.Server.singleton.createNamedHiddenIFrame(this._iframeName,i,'','frameborder=\"0\" allowtransparency=\"true\"');this._iframeContainer.style.width=l+'px';this._iframeContainer.style.height=c+'px';this._iframeContainer.style.border='none';this._iframeContainer.style.display='none';var e=document.createElement('div');FB.UI.UIElement.addCssClass(e,'fb_content_loader_gif');this._loader=document.createElement('div');FB.UI.UIElement.addCssClass(this._loader,'fb_content_loader');FB.UI.UIElement.addCssClass(this._loader,'fb_content_loading');this._loader.style.width=l+'px';this._loader.style.height=c+'px';this._loader.appendChild(e);this.domElement.appendChild(this._iframeContainer);this.domElement.appendChild(this._loader);FBIntern.Utility.waitForLoaded(this._iframeContainer,FB.bind(function(){this._loader.parentNode.removeChild(this._loader);this._loader=null;this._iframeContainer.style.display='';this.set_isReady(true);},this));},_loader:null,_iframeContainer:null,_iframeName:null});FB.provide('FB.XFBML.Fan',{_onLoad:function(){FB.XFBML.Fan._iframeIdCount=0;}});
FB.subclass('FB.XFBML.Resources.ResourceDict','FB.Class',{init:function(){this._stringResources={link:'<a class=\'FB_Link\' href=\'{0}\'>{1}</a>',no_network:'no network'};},getResourceString:function(key){return this._stringResources[key];},_stringResources:null});
FB.subclass('FB.XFBML.Data.FqlTable','FB.Class',{init:function(_L0,key){this._pendingResults={};this._specialTables={};this._specialFields={};this._table=_L0;this._key=key;this._specialTables['translation']=true;this._specialFields['translation']='pre_hash_string';this._specialTables['link_stat']=true;this._specialFields['link_stat']='url';this._cache=FB.XFBML.Data.CacheManager._getValue(this.get__cacheKey());if(!this._cache){this._fields=[];this._cache=FB._create__fqlCache(this._fields);}else this._fields=this._cache.fields;},selectByKey:function(_L0,_L1){FB.FBDebug.assert(_L1,'value cannot be null');var _L2=false;var _L3=new FB.ArrayEnumerator(_L0);while(_L3.moveNext()){var _L4=_L3.get_current();if(!FB.Sys.contains(this._fields,_L4)){FB.Sys.add(this._fields,_L4);_L2=true;}}if(_L2)this._cache=FB._create__fqlCache(this._fields);var _L5=this._pendingResults[_L1];if(!_L5){var _L6=this._cache.rows[_L1];if(_L6){var age=(new Date()).getTime()-_L6.createTime;if(age<FB.XFBML.Data.CacheManager._maxUsableAge){if(FB.FBDebug.logLevel>5)FB.FBDebug.writeLine('Use cached value for key='+_L1+' in fql table '+this.get__cacheKey());_L5=new FB.PendingResult();_L5.setPendingResult(_L6.data,null);if(age>FB.XFBML.Data.CacheManager._refreshInternal){this._pendingResults[_L1]=_L5;}else return _L5;}}}if(!_L5){_L5=new FB.PendingResult();this._pendingResults[_L1]=_L5;}var _L8=FB.XFBML.Context.singleton;if(!this._subscribedToEvent){_L8.add_beforeSendBatchRequest(FB.bind(this._beforeSendBatchRequest,this));this._subscribedToEvent=true;}_L8.requestBatchProcess();return _L5;},invokeApi:function(_L0,_L1){if(FB.Connect.get_status().get_isReady()&&FB.Connect.get_status().result!==FB.ConnectState.connected&&this._table!=='user'){var _L2=new FB.PendingResult();_L2.setPendingResult(null,FBIntern.Utility.createException('Invalid session state',FB.ApiErrorCode.invalid_session_key));return _L2;}else{var _L3=FB.Sys.format('SELECT {0} from {1} WHERE {2} IN ({3})',_L0.toString(),this._table,this._key,_L1.toString());return FB.Facebook.apiClient.fql_query(_L3,FB.XFBML.Context.singleton.get_batchSequencer());}},_beforeSendBatchRequest:function(){var _L0=[];var _L1=this._pendingResults;if(!FB.Sys.getKeyCount(_L1))return;var _L2=_L1;for(var k2 in _L2){var _L4={key:k2,value:_L2[k2]};FB.Sys.add(_L0,_L4.key);}var _L5='';if(this._specialTables[this._table]){_L5=this._specialFields[this._table];}else _L5=this._key;if(!FB.Sys.contains(this._fields,_L5))FB.Sys.add(this._fields,_L5);var _L6=this._fields;this._fields=[];this._pendingResults={};var _L7=this.invokeApi(_L6,_L0);_L7.waitUntilReady(FB.bind(function(r){var now=(new Date()).getTime();var _La=_L7.result;if(_La){var c=_La.length;for(var i=0;i<c;i++){var _Ld=_La[i];var _Le='';if(!this._specialTables[this._table]){_Le=_Ld[this._key];}else _Le='\"'+_Ld[this._specialFields[this._table]]+'\"';if(_Ld&&_L1[_Le])(_L1[_Le]).setPendingResult(_Ld,_L7.exception);}}var _L2=_L1;for(var k2 in _L2){var _L4={key:k2,value:_L2[k2]};var _Lf=_L4.value;if(!_Lf.get_isReady()){_Lf.setPendingResult(null,new Error('No data received from server from FQL query.'));if(!_L7.exception)this._cache.rows[_L4.key]=FB._create__cachedItem(null,now);}else this._cache.rows[_L4.key]=FB._create__cachedItem(_Lf.result,now);}FB.XFBML.Data.CacheManager._setValue(this.get__cacheKey(),this._cache);},this));},get__cacheKey:function(){return 'v0.1_fql_'+this._table+'_'+this._key;},_key:null,_table:null,_fields:null,_cache:null,_subscribedToEvent:false});
FB.subclass('FB.XFBML.ProfileTabButton','FB.XFBML.Element',{init:function(a){this._super(a);},onProcess:function(){if(FB.Facebook.apiClient.get_session()){this._uid=FB.Connect.get_loggedInUser();}else{FB.FBDebug.logLine(2,'Cannot show <fb:add-profile-tab button because'+' there is no logged in user');this._uid=null;return;}this._type=this.getAttribute('type','on-facebook');this._tabAdded=FB.XFBML.Context.singleton.getFqlTable('permissions','uid').selectByKey(['tab_added'],this._uid);this.addDataToWait(this._tabAdded);},onDataReady:function(){if(this._uid&&this._tabAdded.result&&this._tabAdded.result.tab_added==0){var c='';var d='FB.Connect.showProfileTabDialog(); return false;';var a='';var b='';if(this._type=='off-facebook'){a='class="FBConnectButton FBConnectButton_Medium"';b='<span class="FBConnectButton_Text">'+FBIntern.Intl._tx("Add Profile Tab on Facebook")+'</span>';}else{a='class="FB_UIButton FB_UIButton_Gray '+'FB_UIButton_CustomIcon UIActionButton"';b='<span class="FB_UIButton_Text">'+'<span class="FB_Bookmark_Icon" ></span>'+FBIntern.Intl._tx("Add Profile Tab")+'</span>';}c=FB.Sys.format('<a '+' {0} '+'onclick=\'{1}\' '+'target=\'_blank\'>{2}</a>',a,d,b);this.domElement.innerHTML=c;}this.set_isReady(true);}});
FB.subclass('FB.XFBML.ShareButton','FB.XFBML.Element',{init:function(a){this._super(a);},onProcess:function(){this._href=this.getAttribute('href',null);if(!this._href)this._href=window.location.href;this._type=this.getAttribute('type','icon_link');var b='';var a='';var c=FBIntern.Intl._tx("Share");switch(this._type){case 'icon':case 'icon_link':a='class=\'FBConnectButton_Simple\'';b='<span class=\'FBConnectButton_Text_Simple\'>'+(this._type=='icon_link'?c:'&nbsp;')+'</span>';break;case 'link':b=FBIntern.Intl._tx("Share on Facebook");break;default:b='<span class="FBConnectButton_Text">'+c+'</span>';a='class=\'FBConnectButton FBConnectButton_Small\'';break;}html=FB.Sys.format('<a href=\'{0}\''+' {2} onclick=\'FB.Connect.showShareDialog(\"{0}\", function(){});'+'return false;\''+'target=\'_blank\'>{1}</a>',this._href,b,a);this.domElement.innerHTML=html;this.content=html;this.container=this.domElement;if(this._type=='button_count'||this._type=='box_count'){this._count=FB.XFBML.Context.singleton.getFqlTable('link_stat','url').selectByKey(['url','total_count'],'"'+this._href+'"');this.addDataToWait(this._count);}},onDataReady:function(){var f=this._count.result;if(f&&typeof(f.total_count)=='number'&&f.total_count>=3){var d=function(h){return h>=1e+07?Math.round(h/1e+06)+'M':(h>=10000?Math.round(h/1000)+'K':h);};var e=d(f.total_count);var c='';var a='';var b='<span class=\'fb_share_count_inner\'>'+e+'</span>';var g='';if(this._type=='button_count'){c='<span class=\'fb_share_count_nub_right\'>&nbsp;</span>';a='<span class=\'fb_share_count fb_share_count_right\'>'+b+'</span>';this.content=this.content+c+a;}else if(this._type=='box_count'){c='<span class=\'fb_share_count_nub_top\'>&nbsp;</span>';a='<span class=\'fb_share_count fb_share_count_top\'>'+b+'</span>';this.content=c+a+this.content;g='fb_share_count_wrapper';}this.container.innerHTML='<span class=\''+g+'\'>'+this.content+'</span>';}this.set_isReady(true);},_href:null,_type:null});

FB.subclass('FB.XFBML.PromptPermission','FB.XFBML.Element',{init:function(domElement){this._super(domElement);},onProcess:function(){var user=FB.Connect.get_loggedInUser();if(user){this._permission=this.getAttribute('perms',null);if(!this._permission){FB.FBDebug.logLine(1,'No perms attribute was provided.');return;}
var table=FB.XFBML.Context.singleton.getFqlTable('permissions','uid');this._data=table.selectByKey([this._permission],user);this.addDataToWait(this._data);}},onDataReady:function(){var permissions=null;if(this._data){permissions=this._data.result;}
var nextFbjs=this.getAttribute('next_fbjs',null);var callbackArg='null';if(nextFbjs){callbackArg='function(result) { '+'  if (result) { '+nextFbjs+' } '+'}';}
if((permissions)&&!(permissions[this._permission])){this.domElement.innerHTML='<a href=\"#\" onclick=\"FB.Connect.showPermissionDialog(\''+this._permission+'\', '+callbackArg+'); return false;\">'+this.domElement.innerHTML+'</a>';}
else{this.domElement.innerHTML='';}
this.set_isReady(true);},_data:null,_permission:null});
FB.subclass('FB.XFBML.ProfilePic','FB.XFBML.Element',{init:function(_L0){this._super(_L0);},onProcess:function(){var _L0=this.getAttribute('size','thumb');var _L1={thumb:'pic_small',small:'pic',normal:'pic_big',square:'pic_square',t:'pic_small',s:'pic',n:'pic_big',q:'pic_square'};this._picFieldName=_L1[_L0];if(!this._picFieldName)this._picFieldName='pic';if(this._getBoolAttribute('facebook-logo',false))this._picFieldName+='_with_logo';this._linked=this._getBoolAttribute('linked',true);var _L2=this.getAttribute('width',null);var _L3=this.getAttribute('height',null);if(_L2)this.domElement.style.width=FB.XFBML.ProfilePic._addPxIfNecessary(_L2);if(_L3)this.domElement.style.height=FB.XFBML.ProfilePic._addPxIfNecessary(_L3);this._uid=FB.XFBML.ConnectUtility.normalizeInt64ForId(this.getAttribute('uid',null));if(this._uid==='loggedinuser')if(FB.Facebook.apiClient.get_session()){this._uid=FB.Connect.get_loggedInUser();}else{FB.FBDebug.logLine(2,'cannot use loggedinuser, there is no session');this._uid=null;return;}var _L4;var ctx=FB.XFBML.Context.singleton;if(FB.XFBML.ConnectUtility.isUser(this._uid)){_L4=ctx.getFqlTable('user','uid');}else _L4=ctx.getFqlTable('profile','id');this._data=_L4.selectByKey(['name',this._picFieldName],this._uid);this.addDataToWait(this._data);if(!this._dependents.get_isReady())this._renderImage(null);},onDataReady:function(){var _L0=(this._data)?this._data.result:null;this._renderImage(_L0);this.set_isReady(true);},_renderImage:function(_L0){var _L1=(_L0)?_L0[this._picFieldName]:null;if(!_L1){var _L2=(FBIntern.Utility.isSecure())?'ssl':'static.ak';_L1=FBIntern.Utility.getFacebookUrl(_L2)+'pics/'+FB.XFBML.ProfilePic._defaultPicMap[this._picFieldName];}var _L3=this.domElement.style.width;var _L4=this.domElement.style.height;var _L5=((_L3)?'width:'+_L3+';':'')+((_L4)?'height:'+_L4+';':'');var _L6=FB.Sys.format('<img src=\'{0}\' alt=\'{1}\' title=\'{1}\' style=\'{2}\' class=\'{3}\' />',_L1,(_L0)?_L0.name:'',_L5,this.domElement.className);if(this._linked)_L6=FB.XFBML.ConnectUtility._profileLink(_L0,_L6,this.getAttribute('href',null));this.domElement.innerHTML=_L6;FB.UI.UIElement.addCssClass(this.domElement,'fb_profile_pic_rendered');},_uid:null,_picFieldName:null,_linked:false,_data:null});FB.provide('FB.XFBML.ProfilePic',{_onLoad:function(){FB.XFBML.ProfilePic._defaultPicMap=null;FB.XFBML.ProfilePic._defaultPicMap={pic_small:'t_silhouette.jpg',pic:'s_silhouette.jpg',pic_big:'d_silhouette.gif',pic_square:'q_silhouette.gif',pic_small_with_logo:'t_silhouette_logo.gif',pic_with_logo:'s_silhouette_logo.gif',pic_big_with_logo:'d_silhouette_logo.gif',pic_square_with_logo:'q_silhouette_logo.gif'};},_addPxIfNecessary:function(_L0){return (FBIntern.Utility.isStrInt(_L0))?_L0+'px':_L0;}});

FB.subclass('FB.XFBML.UserLink','FB.XFBML.Element',{init:function(domElement){this._super(domElement);},onProcess:function(){this._uid=FB.XFBML.ConnectUtility.normalizeInt64ForId(this.getAttribute('uid',null));if(!this._uid){throw new Error('No uid parameter was provided.');}
var fields=[];FB.Sys.addRange(fields,['uid','name']);this._showNetwork=this._getBoolAttribute('shownetwork',true);if(this._showNetwork){FB.Sys.add(fields,'affiliations');}
this._data=FB.XFBML.Context.singleton.getFqlTable('user','uid').selectByKey(fields,this._uid);this.addDataToWait(this._data);},onDataReady:function(){var user=this._data.result;if(user){var q_params={id:user.uid};var href=FBIntern.Utility.createFacebookUrl('www','profile.php',q_params,true);var content=user.name;if(this._showNetwork){content+=' '+FB.XFBML.ConnectUtility.getNetworkInParentheses(user);}
var html='<a href=\''+href+'\'>'+FB.Sys.htmlEncode(content)+'</a>';this.domElement.innerHTML=html;}
else{var altText=this.getAttribute('ifcantsee',null);if(altText){this.domElement.innerHTML=FB.Sys.htmlEncode(altText);}}
this.set_isReady(true);},_data:null,_uid:null,_showNetwork:false});

FB.subclass('FB.XFBML.UserStatus','FB.XFBML.Element',{init:function(domElement){this._super(domElement);},onProcess:function(){this._uid=FB.XFBML.ConnectUtility.normalizeInt64ForId(this.getAttribute('uid',null));if(!this._uid){throw new Error('No \'uid\' parameter provided.');}
this._data=FB.XFBML.Context.singleton.getFqlTable('user','uid').selectByKey(['status'],this._uid);this.addDataToWait(this._data);},onDataReady:function(){var user=this._data.result;if(user&&user.status){var message=user.status.message;if(message){if((message.length>0)&&(message.charAt(message.length-1)!=='.')){message=message+'.';}}
else{message='';}
this.domElement.innerHTML=FB.Sys.htmlEncode(message);}
this.set_isReady(true);},_data:null,_uid:null});

FB.subclass('FB.XFBML.UnconnectedFriendsCount','FB.XFBML.Element',{init:function(domElement){this._super(domElement);},onProcess:function(){this.addDataToWait(FB.XFBML.Context.singleton.get_unconnectedFriendsCount());},onDataReady:function(){var result=FB.XFBML.Context.singleton.get_unconnectedFriendsCount();if(!result.exception){var count=FB.XFBML.Context.singleton.get_unconnectedFriendsCount().result;this.domElement.innerHTML=count.toString()+' ';}
else{FB.FBDebug.logLine(1,'Can\'t render UnconnectedFriendsCount because of invalid data');}
this.set_isReady(true);}});

FB.subclass('FB.XFBML.Video','FB.XFBML.Element',{init:function(domElement){this._super(domElement);},onProcess:function(){this._vid=FB.XFBML.ConnectUtility.normalizeInt64ForId(this.getAttribute('vid',null));this._width=this.getAttribute('width','576');this._height=this.getAttribute('height','432');},onDataReady:function(){var url=FB.Sys.format('http://www.facebook.com/swf/mvp.swf?vid={0}&stage_width={1}&stage_height={2}',this._vid,this._width,this._height);var html=FB.Sys.format('\n<object width=\"{0}\" height=\"{1}\">\n<param name=\"movie\" value=\"{2}\"></param>\n<param name=\"allowFullScreen\" value=\"true\"></param>\n<param name=\"allowScriptAccess\" value=\"always\"></param>\n<embed src=\"{2}\" type=\"application/x-shockwave-flash\" allowScriptAccess=\"always\" allowFullScreen=\"true\" width=\"{0}\" height=\"{1}\"></embed>\n</object>',this._width,this._height,url);this.domElement.innerHTML=html;this.set_isReady(true);},_vid:null,_width:null,_height:null});

FB.subclass('FB.XFBML.Photo','FB.XFBML.Element',{init:function(domElement){this._super(domElement);},onProcess:function(){this._pid=FB.XFBML.ConnectUtility.normalizeInt64ForId(this.getAttribute('pid',null));if(!this._pid){throw new Error('No pid parameter was provided.');}
var size=this.getAttribute('size','normal');var sizeToSrcFieldMap={thumb:'src_small',t:'src_small',small:'src',s:'src',normal:'src_big',n:'src_big'};this._srcFieldName=sizeToSrcFieldMap[size];if(!this._srcFieldName){this._srcFieldName='src_big';}
this._data=FB.XFBML.Context.singleton.getFqlTable('photo','pid').selectByKey(['pid','caption',this._srcFieldName],this._pid);this.addDataToWait(this._data);},onDataReady:function(){var photo=this._data.result;if(photo){var html=FB.Sys.format('<img src=\'{0}\' alt=\'{1}\' title=\'{1}\' />',photo[this._srcFieldName],photo.caption);this.domElement.innerHTML=html;}
this.set_isReady(true);},_data:null,_pid:null,_srcFieldName:null});

FB.subclass('FB.XFBML.GroupLink','FB.XFBML.Element',{init:function(domElement){this._super(domElement);},onProcess:function(){this._gid=FB.XFBML.ConnectUtility.normalizeInt64ForId(this.getAttribute('gid',null));if(!this._gid){throw new Error('No gid parameter');}
this._data=FB.XFBML.Context.singleton.getFqlTable('group','gid').selectByKey(['gid','name'],this._gid);this.addDataToWait(this._data);},onDataReady:function(){var group=this._data.result;if(group){var q_params={gid:group.gid};var href=FBIntern.Utility.createFacebookUrl('www','group.php',q_params,true);var html='<a href=\''+href+'\'>'+FB.Sys.htmlEncode(group.name)+'</a>';this.domElement.innerHTML=html;}
this.set_isReady(true);},_data:null,_gid:null});

FB.subclass('FB.XFBML.EventLink','FB.XFBML.Element',{init:function(domElement){this._super(domElement);},onProcess:function(){this._eid=FB.XFBML.ConnectUtility.normalizeInt64ForId(this.getAttribute('eid',null));if(!this._eid){throw new Error('No eid parameter');}
this._data=FB.XFBML.Context.singleton.getFqlTable('event','eid').selectByKey(['eid','name'],this._eid);this.addDataToWait(this._data);},onDataReady:function(){var e=this._data.result;if(e){var q_params={eid:e.eid};var href=FBIntern.Utility.createFacebookUrl('www','event.php',q_params,true);var html='<a href=\''+href+'\'>'+FB.Sys.htmlEncode(e.name)+'</a>';this.domElement.innerHTML=html;}
this.set_isReady(true);},_data:null,_eid:null});

FB.subclass('FB.XFBML.Pronoun','FB.XFBML.Name',{init:function(domElement){this._super(domElement);},onDataReady:function(){this.renderPronoun();this.set_isReady(true);}});
FB.subclass('FB.XFBML.ConnectUtility','FB.Class',{init:function(){}});FB.provide('FB.XFBML.ConnectUtility',{upperCaseFirstChar:function(a){if(a.length>0){return a.substr(0,1).toUpperCase()+a.substr(1);}else return a;},getElementsByTagNameNS:function(b,f,c){var e=null;switch(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()){case FBIntern.HostName.MOZILLA:c=(f+':'+c).toLowerCase();e=b.getElementsByTagNameNS(document.body.namespaceURI,c);break;case FBIntern.HostName.IE:var a=document.namespaces;if(a&&FB.Sys.containsKey(a,f)){e=b.getElementsByTagName(c);}else{c=f+':'+c;e=b.getElementsByTagName(c);if(e&&e.length>0){var d='You appear to be using the XFBML tag '+c+' in your HTML markup. However, you are missing corresponding xmlns attribute in your <HTML> tag. That xmlns attribute is required in Internet Explorer. For example, to use XFBML tags with the \'fb\' namespace such as <fb:login-button></fb:login-button>, you must place xmlns:fb=\"http://www.facebook.com/2008/fbml\" in the <HTML> tag';FB.FBDebug.logLine(0,d);throw new Error(d);}}break;default:c=f+':'+c;e=b.getElementsByTagName(c);break;}return e;},normalizeInt64ForId:function(a){if(a){var b=typeof(a);if(b==='string'&&(a).length<10)a=parseInt(a);}return a;},getNetworkInParentheses:function(b){var a=FBIntern.DataHelper.getPrimaryNetwork(b);if(!a)a=FB.XFBML.Context.singleton.resources.getResourceString('no_network');return '('+a+')';},isNameAvailable:function(a){return a&&!(FB.Sys.isNullOrEmpty(a.first_name)&&FB.Sys.isNullOrEmpty(a.last_name)&&FB.Sys.isNullOrEmpty(a.name));},_profileLink:function(c,b,a){if(!FBIntern.Utility.getSiteVar('enable_custom_href'))a=null;if(!a&&FB.XFBML.ConnectUtility.isNameAvailable(c))a=FBIntern.Utility.getNonConnectFacebookUrl('www')+'profile.php?id='+c.uid;if(a)b=FB.Sys.format(FB.XFBML.Context.singleton.resources.getResourceString('link'),a,b);return b;},isUser:function(a){return a<2.2e+09||(a>=1e+14&&a<=100099999989999);}});

FB.subclass('FB.XFBML.Name','FB.XFBML.Element',{init:function(domElement){this._super(domElement);},onProcess:function(){this._uid=FB.XFBML.ConnectUtility.normalizeInt64ForId(this.getAttribute('uid',null));if(this._uid==='loggedinuser'){if(FB.Facebook.apiClient.get_session()){this._uid=FB.Connect.get_loggedInUser();}
else{FB.FBDebug.logLine(2,'Cannot use loggedinuser, there is no session');this._uid=null;return;}}
if(!this._uid){FB.FBDebug.logLine(2,'fb:name has no user id');return;}
this._firstnameonly=this._getBoolAttribute('firstnameonly',false);this._lastnameonly=this._getBoolAttribute('lastnameonly',false);var fields=[];if(this._firstnameonly){fields.push('first_name');}else if(this._lastnameonly){fields.push('last_name');}else{fields.push('name');}
this._possessive=this._getBoolAttribute('possessive',false);this._reflexive=this._getBoolAttribute('reflexive',false);this._objective=this._getBoolAttribute('objective',false);if(FB.Facebook.apiClient.get_session()){this._shownetwork=this._getBoolAttribute('shownetwork',false);}
this._linked=this._getBoolAttribute('linked',true);if(this._shownetwork){FB.Sys.add(fields,'affiliations');}
this._subjectId=FB.XFBML.ConnectUtility.normalizeInt64ForId(this.getAttribute('subjectid',null));if(this._subjectId){fields.push('sex');if(FBIntern.Utility.id64BitEquals(this._subjectId,FB.Connect.get_loggedInUser())){this._reflexive=true;}}
var fqlTable;var ctx=FB.XFBML.Context.singleton;if(FB.XFBML.ConnectUtility.isUser(this._uid)){fqlTable=ctx.getFqlTable('user','uid');}else{fqlTable=ctx.getFqlTable('profile','id');fields=['name'];}
this._data=fqlTable.selectByKey(fields,this._uid);this.addDataToWait(this._data);},onDataReady:function(){if(this._uid){if(FBIntern.Utility.id64BitEquals(this._subjectId,this._uid)){this.renderPronoun();}
else{this._renderOther();}}
this.set_isReady(true);},renderPronoun:function(){var userInfo=this._data.result;var word='';var objective=this._objective;if(this._subjectId){objective=true;if(this._subjectId===this._uid){this._reflexive=true;}}
if((FBIntern.Utility.id64BitEquals(this._uid,FB.Connect.get_loggedInUser()))&&this._getBoolAttribute('useyou',true)){if(this._possessive){if(this._reflexive){word='your own';}
else{word='your';}}
else{if(this._reflexive){word='yourself';}
else{word='you';}}}
else{switch(userInfo.sex){case FB.XFBML.Common.Constants.gendeR_MALE_SINGULAR:if(this._possessive){word=(this._reflexive)?'his own':'his';}
else{if(this._reflexive){word='himself';}
else if(objective){word='him';}
else{word='he';}}
break;case FB.XFBML.Common.Constants.gendeR_FEMALE_SINGULAR:if(this._possessive){word=(this._reflexive)?'her own':'her';}
else{if(this._reflexive){word='herself';}
else if(objective){word='her';}
else{word='she';}}
break;default:if(this._getBoolAttribute('usethey',true)){if(this._possessive){if(this._reflexive){word='their own';}
else{word='their';}}
else{if(this._reflexive){word='themselves';}
else if(objective){word='them';}
else{word='they';}}}
else{if(this._possessive){if(this._reflexive){word='his/her own';}
else{word='his/her';}}
else{if(this._reflexive){word='himself/herself';}
else if(objective){word='him/her';}
else{word='he/she';}}}
break;}}
if(this._getBoolAttribute('capitalize',false)){word=FB.XFBML.ConnectUtility.upperCaseFirstChar(word);}
this.domElement.innerHTML=word;},_renderOther:function(){var userInfo=this._data.result;if(!userInfo){FB.FBDebug.logLine(1,'no data available');return;}
var name='';var html='';var network='';if(FBIntern.Utility.id64BitEquals(this._uid,FB.Connect.get_loggedInUser())&&this._getBoolAttribute('useyou',true)){if(this._reflexive){if(this._possessive){name='your own';}
else{name='yourself';}}
else{if(this._possessive){name='your';}
else{name='you';}}}
else{if(null===userInfo.first_name){userInfo.first_name='';}
if(null===userInfo.last_name){userInfo.last_name='';}
if(this._firstnameonly){name=userInfo.first_name;}
else if(this._lastnameonly){name=userInfo.last_name;}
if(!name){name=userInfo.name;}
if(name!==''&&this._possessive){name+='\'s';}
if(this._shownetwork){network=FB.XFBML.ConnectUtility.getNetworkInParentheses(userInfo);}}
if(!name){name=this.getAttribute('ifcantsee','Facebook User');}
if(name){if(this._getBoolAttribute('capitalize',false)){name=FB.XFBML.ConnectUtility.upperCaseFirstChar(name);}
if(this._linked){html=FB.XFBML.ConnectUtility._profileLink(userInfo,name,this.getAttribute('href',null));}
else{html=name;}}
if(this._shownetwork){html+=' '+network;}
this.domElement.innerHTML=html;},_data:null,_subjectId:null,_uid:null,_possessive:false,_firstnameonly:false,_linked:false,_lastnameonly:false,_reflexive:false,_shownetwork:false,_objective:false});
FB.subclass('FB.XFBML.Host','FB.Class',{init:function(){}});FB.provide('FB.XFBML.Host',{_onLoad:function(){FB.XFBML.Host.autoParseDomTree=true;FB.XFBML.Host._fbmlElements=[];FB.XFBML.Host._registeredElements=null;FB.XFBML.Host._areElementsReady=new FB.SimpleWaitable();FB.XFBML.Host._readyElementsCount=0;FB.UI.DomResources.addResourceDict(new FB.UI.DomResDict('<a id=\"RES_ID_fb_login\" class=\"fbconnect_login_button\"></a><img id=\"RES_ID_fb_login_image\"  /><span id=\"RES_ID_fb_login_text\" class=\"FBConnectButton_Text\"></span>'));var a=[FB._create_ElementsRegistration('fb','login-button',FB.XFBML.LoginButton),FB._create_ElementsRegistration('fb','name',FB.XFBML.Name),FB._create_ElementsRegistration('fb','pronoun',FB.XFBML.Pronoun),FB._create_ElementsRegistration('fb','serverFbml',FB.XFBML.ServerFbml),FB._create_ElementsRegistration('fb','eventLink',FB.XFBML.EventLink),FB._create_ElementsRegistration('fb','groupLink',FB.XFBML.GroupLink),FB._create_ElementsRegistration('fb','photo',FB.XFBML.Photo),FB._create_ElementsRegistration('fb','video',FB.XFBML.Video),FB._create_ElementsRegistration('fb','unconnected-friends-count',FB.XFBML.UnconnectedFriendsCount),FB._create_ElementsRegistration('fb','container',FB.XFBML.ContainerElement),FB._create_ElementsRegistration('fb','user-status',FB.XFBML.UserStatus),FB._create_ElementsRegistration('fb','userLink',FB.XFBML.UserLink),FB._create_ElementsRegistration('fb','profile-pic',FB.XFBML.ProfilePic),FB._create_ElementsRegistration('fb','prompt-permission',FB.XFBML.PromptPermission),FB._create_ElementsRegistration('fb','share-button',FB.XFBML.ShareButton),FB._create_ElementsRegistration('fb','add-section-button',FB.XFBML.AddSectionButton),FB._create_ElementsRegistration('fb','comments',FB.XFBML.Comments),FB._create_ElementsRegistration('fb','live-stream',FB.XFBML.LiveStream),FB._create_ElementsRegistration('fb','pay',FB.XFBML.Pay),FB._create_ElementsRegistration('fb','bookmark',FB.XFBML.BookmarkButton),FB._create_ElementsRegistration('fb','add-profile-tab',FB.XFBML.ProfileTabButton),FB._create_ElementsRegistration('fb','fan',FB.XFBML.Fan)];FB.XFBML.Host._registeredElements=(a);},registerCustomTag:function(c,b,a){FB.Sys.add(FB.XFBML.Host._registeredElements,FB._create_ElementsRegistration(c,b,a));},_pruneFbmlElements:function(){var d=[];var a=FB.XFBML.Host._fbmlElements.length;for(var c=0;c<a;c++){var b=FB.XFBML.Host._fbmlElements[c];if(b.isValid())FB.Sys.add(d,b);}FB.XFBML.Host._fbmlElements=d;},parseDomTree:function(){FB.XFBML.Host.parseDomElement(document.body);},parseDomElement:function(a){FB.XFBML.Data.CacheManager.get__initialized().waitUntilReady(function(g){FB.XFBML.Host._pruneFbmlElements();var i=[];var e=new FB.ArrayEnumerator(FB.XFBML.Host._registeredElements);while(e.moveNext()){var d=e.get_current();var h=FB.XFBML.ConnectUtility.getElementsByTagNameNS(a,d.nameSpace,d.name);var b='FB_'+d.name.replace(/-/g,'_');for(var f=0;f<h.length;f++){var c=FB.XFBML.Element.fromDomElement(h[f]);if(!c){if(!d.implementationType){FB.FBDebug.logLine(FB.Log.Level.ERROR,'Host.parseDomElement: XFBML tag '+b+' is not properly configured');continue;}c=new d.implementationType(h[f]);FB.UI.UIElement.addCssClass(h[f],b);FB.XFBML.Host._addElementToList(c);}FB.Sys.add(i,c);}}FB.XFBML.Host._readyElementsCount=0;FB.XFBML.Host._areElementsReady._setResult(false,true);FB.Connect.get_status().waitUntilReady(function(m){var j=i.length;for(var l=0;l<j;l++){var k=i[l];k.process();}});FB.XFBML.Host._logElements(i);});},_logElements:function(b){if(FB.Monitor&&FB.Monitor.loggingEnabled()){var a=b.length;for(var c=0;c<a;c++)FB.Monitor.logXFBML(b[c].domElement);}},refresh:function(){FB.XFBML.Host._pruneFbmlElements();var a=FB.XFBML.Host._fbmlElements.length;if(a>0){FB.FBDebug.logLine(2,'Host.Refresh: refresh all existing XFBML elements');FB.XFBML.Host._readyElementsCount=0;FB.XFBML.Host._areElementsReady._setResult(false,true);for(var c=0;c<a;c++){var b=FB.XFBML.Host._fbmlElements[c];b.refresh();}}},get_areElementsReady:function(){return FB.XFBML.Host._areElementsReady;},addElement:function(a){FB.Connect.get_status().waitUntilReady(function(b){FB.XFBML.Data.CacheManager.get__initialized().waitUntilReady(function(c){FB.XFBML.Host._addElementToList(a);a.process();});});},addElements:function(b){var c=new FB.ArrayEnumerator(b);while(c.moveNext()){var a=c.get_current();FB.XFBML.Host.addElement(a);}},_addElementToList:function(a){FB.Sys.add(FB.XFBML.Host._fbmlElements,a);if(a.get_isReady()){FB.XFBML.Host._readyElementsCount++;FB.XFBML.Host._checkReadyState();}else a.add_isReadyChanged(FB.XFBML.Host._elementIsReadyChanged);},_elementIsReadyChanged:function(b,a){(b).remove_isReadyChanged(FB.XFBML.Host._elementIsReadyChanged);FB.XFBML.Host._readyElementsCount++;FB.XFBML.Host._checkReadyState();},_checkReadyState:function(){var a=FB.XFBML.Host._readyElementsCount===FB.XFBML.Host._fbmlElements.length;if(a&&!FB.XFBML.Host._areElementsReady.get_isReady())FB.XFBML.Host._areElementsReady._setResult(true);}});
FB.subclass('FB.XFBML.Context','FB.Class',{init:function(){this.resources=new FB.XFBML.Resources.ResourceDict();this.fqlTables={};this._timerId=-1;this._connectStatus=FB.ConnectState.userNotLoggedIn;FB.Facebook.add_initCalled(FB.bind(function(){if(!this._initialized){this._initialized=true;this._connectStatus=FB.Connect.get_status().result;this._connectStatusReady=FB.Connect.get_status().get_isReady();FB.XFBML.Data.CacheManager._changeContext(FB.Connect.get_loggedInUser());FB.Connect.get_status().add_changed(FB.bind(this._onConnectStatusChanged,this));}if(FB.XFBML.Host.autoParseDomTree)FB.XFBML.Host.parseDomTree();},this));},requestBatchProcess:function(){if(this._timerId===-1)this._timerId=window.setTimeout(FB.bind(this._onTimer,this),0);},get_batchSequencer:function(){if(!this._batchSequencer){this._batchSequencer=new FB.BatchSequencer();this._batchSequencer.isParallel=true;this.requestBatchProcess();}return this._batchSequencer;},_onTimer:function(){FB.Connect.get_status().waitUntilReady(FB.bind(function(_L0){if(this.__beforeSendBatchRequest)this.__beforeSendBatchRequest();this._timerId=-1;if(this._batchSequencer){this._batchSequencer.execute(null);this._batchSequencer=null;}},this));},getFqlTable:function(_L0,_L1){var key=_L0+_L1;var _L3=this.fqlTables[key];if(!_L3){_L3=new FB.XFBML.Data.FqlTable(_L0,_L1);this.fqlTables[key]=_L3;}return _L3;},get_unconnectedFriendsCount:function(){if(!this._unconnectedFriendsCount){this._unconnectedFriendsCount=new FB.PendingResult();FB.Connect.get_status().waitUntilReady(FB.bind(function(_L0){var _L1=FB.XFBML.Data.CacheManager._getValue('UnconnectedFriendsCount');var _L2=true;if(_L1){var age=(new Date()).getTime()-_L1.createTime;if(age<FB.XFBML.Data.CacheManager._maxUsableAge){this._unconnectedFriendsCount.setPendingResult(_L1.data,null);if(age<FB.XFBML.Data.CacheManager._refreshInternal)_L2=false;}}if(_L2){var r=FB.Facebook.apiClient.connect_getUnconnectedFriendsCount(this.get_batchSequencer());r.waitUntilReady(FB.bind(function(_L5){this._unconnectedFriendsCount.setPendingResult(r.result,r.exception);FB.XFBML.Data.CacheManager._setValue('UnconnectedFriendsCount',FB._create__cachedItem(r.result,(new Date()).getTime()));},this));}},this));}return this._unconnectedFriendsCount;},_onConnectStatusChanged:function(_L0){var _L1=FB.Connect.get_status().result;FB.XFBML.Data.CacheManager._changeContext(FB.Connect.get_loggedInUser());if(this._connectStatusReady&&_L1!==this._connectStatus&&_L1===FB.ConnectState.connected)this._onConnectStateChangedToConnected();this._connectStatusReady=FB.Connect.get_status().get_isReady();this._connectStatus=_L1;},_onConnectStateChangedToConnected:function(){FB.FBDebug.logLine(2,'Connect state changed from from ready but unconnected to ready and connected');this.fqlTables={};this._unconnectedFriendsCount=null;FB.XFBML.Host.refresh();},add_beforeSendBatchRequest:function(_L0){this.__beforeSendBatchRequest=FB.Delegate.combine(this.__beforeSendBatchRequest,_L0);},remove_beforeSendBatchRequest:function(_L0){this.__beforeSendBatchRequest=FB.Delegate.remove(this.__beforeSendBatchRequest,_L0);},__beforeSendBatchRequest:null,_batchSequencer:null,_unconnectedFriendsCount:null,_connectStatusReady:false,_initialized:false});FB.provide('FB.XFBML.Context',{_onLoad:function(){FB.XFBML.Context.singleton=null;FB.XFBML.Context.singleton=new FB.XFBML.Context();}});
FB.subclass('FB.XFBML.BookmarkButton','FB.XFBML.Element',{init:function(a){this._super(a);},onProcess:function(){if(FB.Facebook.apiClient.get_session()){this._uid=FB.Connect.get_loggedInUser();}else{FB.FBDebug.logLine(2,'Cannot show bookmark button, no logged in user');this._uid=null;return;}this._type=this.getAttribute('type','on-facebook');this._bookmarked=FB.XFBML.Context.singleton.getFqlTable('permissions','uid').selectByKey(['bookmarked'],this._uid);this.addDataToWait(this._bookmarked);},onDataReady:function(){if(this._uid&&this._bookmarked.result&&this._bookmarked.result.bookmarked==0){var c='';var d='FB.Connect.showBookmarkDialog();return false;';var a='';var b='';if(this._type=='off-facebook'){a='class="FBConnectButton FBConnectButton_Medium"';b='<span class="FBConnectButton_Text">'+FBIntern.Intl._tx("Bookmark on Facebook")+'</span>';}else{a='class="FB_UIButton FB_UIButton_Gray '+'FB_UIButton_CustomIcon UIActionButton"';b='<span class="FB_UIButton_Text">'+'<span class="FB_Bookmark_Icon" ></span>'+FBIntern.Intl._tx("Add Bookmark")+'</span>';}c=FB.Sys.format('<a '+' {0} '+'onclick=\'{1}\' '+'target=\'_blank\'>{2}</a>',a,d,b);this.domElement.innerHTML=c;}this.set_isReady(true);}});
FB.subclass('FBIntern.LoginStatus','FB.Class',{initialize:function(b,j,k,c,a,i,g,e,h){k.inFacebook=this._checkIfInFacebook();if(!this._rpcClient){var d=new FB.XdComm.EndPoint(null,FB.XdComm.PageRelation.parent,b);if(FB.Sys.isNullOrEmpty(g)){FB.FBDebug.logLine(1,'Disable use of postMessage because '+'parent_window_url parameter is null or empty therefore we cannot '+'securely send message using postMessage');FBIntern.Utility.setSiteVar('use_postMessage',false);}else d.origin=g;d.flashOrigin=e;this._rpcClient=new FB.XdComm.XdRpcClient('loginServer','loginStatus',d);}var f={baseDomain:a,connectState:c,perms:h,publicSessionData:i,session:j,settings:k};this._rpcClient.send('InitLogin',f,null);},_checkIfInFacebook:function(){var b=false;try{var loca=window.top.location.href.split("/")[2];var idx=loca.lastIndexOf('facebook.com');b=(idx!==-1)&&(idx+12)===loca.length;}catch(a){}return b;},_rpcClient:null});

FB.provide('FB.XFBML.OperatorType',{and:0,or:1,xor:2,not:3,greaterThan:4,lessThan:5,equals:6});
FB.subclass('FB.XFBML.Operator','FB.DependentWaitable',{init:function(op,_L1){this._super();this._op=op;this._operands=_L1;var _L2=new FB.ArrayEnumerator(_L1);while(_L2.moveNext()){var _L3=_L2.get_current();if(FB.Sys.isAssignableFrom(FB.Type.getInstanceType(_L3),FB.Waitable))this.addDependent(_L3);}},onChange:function(){this._evaluate();this._super();},_evaluate:function(){switch(this._op){case FB.XFBML.OperatorType.and:this.result=this._getOperandValue(0)&&this._getOperandValue(1);break;case FB.XFBML.OperatorType.not:this.result=!this._getOperandValue(0);break;case FB.XFBML.OperatorType.or:this.result=this._getOperandValue(0)||this._getOperandValue(1);break;case FB.XFBML.OperatorType.xor:this.result=this._getOperandValue(0)^this._getOperandValue(1);break;case FB.XFBML.OperatorType.greaterThan:this.result=this._getOperandValue(0)>this._getOperandValue(1);break;case FB.XFBML.OperatorType.lessThan:this.result=this._getOperandValue(0)<this._getOperandValue(1);break;case FB.XFBML.OperatorType.equals:this.result=this._getOperandValue(0)===this._getOperandValue(1);break;}},_getOperandValue:function(i){var obj=this._operands[i];if(FB.Sys.isAssignableFrom(FB.Type.getInstanceType(obj),FB.Waitable)){return (obj).result;}else return obj;},_op:0,_operands:null});FB.provide('FB.XFBML.Operator',{and:function(op1,op2){return new FB.XFBML.Operator(FB.XFBML.OperatorType.and,[op1,op2]);},or:function(op1,op2){return new FB.XFBML.Operator(FB.XFBML.OperatorType.or,[op1,op2]);},xor:function(op1,op2){return new FB.XFBML.Operator(FB.XFBML.OperatorType.xor,[op1,op2]);},not:function(op){return new FB.XFBML.Operator(FB.XFBML.OperatorType.not,[op]);},greaterThan:function(op1,op2){return new FB.XFBML.Operator(FB.XFBML.OperatorType.greaterThan,[op1,op2]);},lessThan:function(op1,op2){return new FB.XFBML.Operator(FB.XFBML.OperatorType.lessThan,[op1,op2]);},equals:function(op1,op2){return new FB.XFBML.Operator(FB.XFBML.OperatorType.equals,[op1,op2]);}});
FB.subclass('FB.XFBML._permisionTable','FB.Class',{init:function(){this._calls={};},ifCanSee:function(uid,_L1){var key=uid+_L1;var _L3;var _L4=this._calls[key];if(!_L4){_L3=new FB.PendingResult();_L4={uid:uid,what:_L1,result:_L3};this._calls[key]=_L4;var _L5=FB.XFBML.Context.singleton;if(!this._subscribedToEvent){_L5.add_beforeSendBatchRequest(FB.bind(this._beforeSendBatchRequest,this));this._subscribedToEvent=true;}_L5.requestBatchProcess();}else _L3=_L4['result'];return _L3;},_beforeSendBatchRequest:function(){var _L0=[];var _L1=[];var _L2=[];var _L3=this._calls;for(var k2 in _L3){var _L5={key:k2,value:_L3[k2]};var _L6=_L5.value;FB.Sys.add(_L0,_L6['uid']);FB.Sys.add(_L1,_L6['what']);FB.Sys.add(_L2,_L6['result']);}this._calls={};var _L7=FB.Facebook.apiClient.privacy_canSee(_L0,_L1,FB.XFBML.Context.singleton.get_batchSequencer());_L7.waitUntilReady(FB.bind(function(r){var c=_L2.length;var _La=_L7.result;if(_La){FB.FBDebug.assert(c===_La.length,'Returns results does not contains the exepcted number of items');for(var i=0;i<c;i++)(_L2[i]).setPendingResult(_La[i],_L7.exception);}else for(var i=0;i<c;i++)(_L2[i]).setPendingResult(null,_L7.exception);},this));},_subscribedToEvent:false});
FB.subclass('FB.XFBML.Conditions','FB.Class',{init:function(){}});FB.provide('FB.XFBML.Conditions',{_onLoad:function(){FB.XFBML.Conditions._table=new FB.XFBML._permisionTable();},ifCanSee:function(uid,_L1){return FB.XFBML.Conditions._table.ifCanSee(uid,_L1);}});
FB.subclass('FB.XdHttpRequestServer','FB.Class',{init:function(){}});FB.provide('FB.XdHttpRequestServer',{_onLoad:function(){FB.XdHttpRequestServer._rootUrl=null;FB.XdHttpRequestServer._allowedUrlFilter=null;FB.XdHttpRequestServer._allowedUrls=null;},main:function(_L0){var _L1=_L0['receiver'];if(FB.Sys.containsKey(_L0,'allowed_url_filter'))FB.XdHttpRequestServer._allowedUrlFilter=new RegExp(_L0['allowed_url_filter']);if(FB.Sys.containsKey(_L0,'allowed_urls'))FB.XdHttpRequestServer._allowedUrls=_L0['allowed_urls'];var _L2=new FBIntern.Uri(document.URL);FB.XdHttpRequestServer._rootUrl=_L2.get_schemeAndDomain();var _L3=_L2.get_queryParameters()['debug_level'];if(_L3){var _L4=parseInt(_L3);if(_L4>FB.FBDebug.logLevel)FB.FBDebug.logLevel=_L4;}FB.XdComm.Server.singleton.set_receiverUrl(_L1);FB.XdComm.Server.singleton.registerDataHandler('http_server',FB.XdHttpRequestServer._onDataReceived);},_isUrlAllowed:function(url){if(FB.XdHttpRequestServer._allowedUrlFilter&&FB.XdHttpRequestServer._allowedUrlFilter.test(url))return true;if(FB.XdHttpRequestServer._allowedUrls){var _L1=new FB.ArrayEnumerator(FB.XdHttpRequestServer._allowedUrls);while(_L1.moveNext()){var _L2=_L1.get_current();if(_L2===url)return true;}}return false;},_onDataReceived:function(_L0,_L1){var _L2=_L0;var _L3=FBIntern.Utility.createXMLHttpRequest();var url=_L2[2];if(!FB.XdHttpRequestServer._isUrlAllowed(url)){FB.FBDebug.logLine(1,'URL '+url+' is not allowed.');return;}url=FB.XdHttpRequestServer._rootUrl+url;FB.FBDebug.logLine(3,'XdHttpRequestServer: make XHR request to '+url);_L3.onreadystatechange=function(){if(_L3.readyState===4){var _L9=FB._create_XdHttpRequestResult(_L2[0],_L3.status,_L3.statusText,_L3.responseText);FB.FBDebug.logLine(3,'XdHttpRequestServer: send result back http_client');FB.XdComm.Server.singleton.send(_L1,'http_client',_L9);}};_L3.open(_L2[1],_L2[2],true);var _L5=_L2[4];if(_L5){var _L6=_L5;for(var k2 in _L6){var _L8={key:k2,value:_L6[k2]};_L3.setRequestHeader(_L8.key,_L8.value.toString());}}_L3.send(_L2[3]);}});
FB.MonitorSender={createPayload:function(){var a=[];var c=Math.min(FB.MonitorSender.MAX_SEND,FB.Monitor.loggingQueue.length);for(var b=0;b<c;b++)a.push(FB.Monitor.loggingQueue.pop());return FB.JSON.serialize(a);},send:function(){var a=FB.Facebook.apiClient&&FB.Facebook.apiClient.get_apiKey();if(!a)return false;var b=document.createElement('img');b.setAttribute('src',FBIntern.Utility.createFacebookUrl('www','impression.php',{lid:100,api_key:a,url:window.location.toString(),pv:FB.MonitorSender.getPageviewId(),payload:FB.MonitorSender.createPayload()},false));FB.HiddenContainer.get().appendChild(b);return true;},getPageviewId:function(){if(!FB.MonitorSender.pageviewId)FB.MonitorSender.pageviewId=(new Date()).getTime()+'.'+Math.floor(Math.random()*100000).toString();return FB.MonitorSender.pageviewId;},pageviewId:null,MAX_SEND:10};
FB.Integration=FB.Connect;

if (FB && FB.Loader) { FB.Loader.loadCssComps(["bookmark-button-css","connect-button-css","share-button-css","FB.Connect-css","connect-css"]); }
if (FB && FB.Loader) { FB.Loader.onScriptLoaded(["FB.monitor-wrapper","FB.Prelude","FB.Waitable","FB.SimpleWaitable","FBIntern.HostName","FBIntern.HostInfo","FBIntern.AppInfo","FB.Class","FB.Log","FB.Type","FB.Sys","FB.FBDebug","FBIntern.FbGlobals","FB.ArrayEnumerator","FBIntern.Uri","FB.Point","FB.Size","FBIntern.Utility","FBIntern.Flash","FB.JSON","FB.XFBML.Data.CacheManager","FB.XFBML.Data._fqlCache","FB.PendingResult","FB.XdComm._packetType","FB.StringBuilder","FB.XdComm._fragDataHolder","FB.XdComm._packet","FB.XdComm.PageRelation","FB.Delegate","FB.Loader","FB.Bootstrap","FB.Enum","FB.XdComm.PacketDataFormat","FB.HiddenContainer","FB.XdComm._receiveChannel","FB.XdComm.EndPoint","FB.XdComm._sendChannel","FB.XdComm.Server","FBIntern.Cookie","FB.XdHttpRequestResult","FB._xdHttpRequestClient","FB.SessionRecord","FB._xdJsonRequest","FB.ApiErrorCode","FBIntern.Md5","FB.Facebook","FB.ApiClient","FB.ConnectState","FB.DialogType","FB.XdComm.XdRpcClient","FB.XdComm.XdRpcMethodInfo","FB.XdComm.XdRpcServer","FB._contentSizeMethod","FB.CanvasClient","FB.IFrameUtil._resizeUtil","FB.IFrameUtil._canvasUtil","FB.IFrameUtil.CanvasUtilServer","FB.IFrameUtil.ResizeUtilServer","FBIntern.Intl","FB.UI.UIElement","FB.UI.PopupPlacement","FB.UI.Popup","FB.UI.DomResources","FBIntern.UIHelper","FB.UI.PopupDialog","FB.FeedStorySetting","FB.UserInfoRecord","FB.RequireConnect","FB.UI.DomResDict","FB.Helper","FB.UI.FBMLPopupDialog","FB.FeedStorySize","FB.SequencerBase","FB._stepInfo","FB.BatchSequencer","FB.ImmediateSequencer","FB.FeedDialogInfo","FB.SessionDialog","FB.Connect","FB.XFBML.Data._cachedItem","FB.DependentWaitable","FB.XFBML._elementState","FB.XFBML.Element","FBIntern.DataHelper","FB.XFBML.Common.Constants","FB.XFBML.ElementsRegistration","FB.XFBML.LoginButton","FB.XFBML.ServerFbml","FB.XFBML.ContainerElement","FB.XFBML.AddSectionButton","FB.XFBML.Comments","FB.XFBML.LiveStream","FB.XFBML.Pay","FB.XFBML.Fan","FB.XFBML.Resources.ResourceDict","FB.XFBML.Data.FqlTable","FB.XFBML.ProfileTabButton","FB.XFBML.ShareButton","FB.XFBML.PromptPermission","FB.XFBML.ProfilePic","FB.XFBML.UserLink","FB.XFBML.UserStatus","FB.XFBML.UnconnectedFriendsCount","FB.XFBML.Video","FB.XFBML.Photo","FB.XFBML.GroupLink","FB.XFBML.EventLink","FB.XFBML.Pronoun","FB.XFBML.ConnectUtility","FB.XFBML.Name","FB.XFBML.Host","FB.XFBML.Context","FB.XFBML.BookmarkButton","FBIntern.LoginStatus","FB.XFBML.OperatorType","FB.XFBML.Operator","FB.XFBML._permisionTable","FB.XFBML.Conditions","FB.XdHttpRequestServer","FB.monitor-sender","XFBML","Base","Common","XdComm","Api","Connect","Integration","CanvasUtil"]); }